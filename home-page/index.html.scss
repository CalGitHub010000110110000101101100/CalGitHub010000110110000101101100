// Imitation SCSS representing HTML
// (This gives me full control over the whitespace)

css {
  // https://www.a11yproject.com/posts/2013-01-11-how-to-hide-content/
  .visually-hidden {
    clip: rect(0 0 0 0);
    clip-path: inset(50%);
    height: 1px;
    overflow: hidden;
    position: absolute;
    white-space: nowrap;
    width: 1px;
  }
}

html[prefix="og: http://ogp.me/ns/website#"][lang="en"][dir="ltr"] {
  head {
    meta[charset="UTF-8"];
    script[src="redirects.js"] {}

    meta[name="viewport"][content="width=device-width, initial-scale=1"];

    // Typical meta
    title {
      content: "SheepTester";
    }
    meta[name="description"][content="A list of some projects I have made using fancy web technologies."];
    meta[name="keywords"][content="sheeptester, sheep tester, sheep_tester"];
    meta[name="theme-color"][content="#4fa1a7"];

    // Google search
    meta[name="google-site-verification"][content="hVAKq2ipG9tPimbCmGiDbT-Qq1-UEv35XweisVQ5VEE"];

    // Open graph
    meta[name="title"][content="SheepTester"];
    meta[property="og:title"][content="SheepTester"];
    meta[property="og:type"][content="website"];
    meta[property="og:url"][content="https://sheeptester.github.io/"];
    meta[property="og:image"][content="https://sheeptester.github.io/Sheep_maker.png"];
    meta[property="og:description"][content="A directory of some things I made."];

    // Twitter
    meta[name="twitter:card"][content="summary"];
    meta[name="twitter:title"][content="SheepTester"];
    meta[name="twitter:description"][content="A directory of some things I made."];
    meta[name="twitter:image"][content="https://sheeptester.github.io/Sheep_maker.png"];
    link[rel="canonical"][href="https://sheeptester.github.io/"];

    // Other icons from http://realfavicongenerator.net/
    link[rel="apple-touch-icon"][sizes="180x180"][href="/apple-touch-icon.png"];
    link[rel="icon"][type="image/png"][sizes="32x32"][href="/favicon-32x32.png"];
    link[rel="icon"][type="image/png"][sizes="16x16"][href="/favicon-16x16.png"];
    link[rel="manifest"][href="/manifest.json"];
    link[rel="mask-icon"][href="/safari-pinned-tab.svg"][color="#4fa1a7"];

    link[rel="stylesheet"][type="text/css"][href="/sheep3.css"];
    link[rel="stylesheet"][type="text/css"][href="/home-page/style.css"];
    // link[rel="preconnect"][href="https://fonts.gstatic.com"];
    // link[href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@300&display=swap"][rel="stylesheet"];

    script[src="/sheep3.js"] {}
  }

  css {
    html,
    body {
      height: 100%;
    }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto,
        'Helvetica Neue', Arial, sans-serif, 'Apple Color Emoji',
        'Segoe UI Emoji', 'Segoe UI Symbol';
      margin: 0;
      display: flex;
      flex-direction: column;
      background-color: #171931;
      color: rgba(255, 255, 255, 0.7);
    }
  }
  @media (min-width: 1000px) {
    body {
      display: unset;
    }
  }
  body {
    css {
      .strip {
        position: absolute;
        z-index: -1;
        top: 0;
        left: 0;
        right: 0;
        height: 20px;
        background-image: linear-gradient(90deg, #20de88, #28bbe8);
      }
    }
    .strip {}

    css {
      .about {
        margin-top: 20px;
        max-width: 600px;
        width: 100%;
        align-self: center;
      }
    }
    @media (min-width: 1000px) {
      .about {
        overflow: auto;
        width: 500px;
        position: fixed;
        top: 0;
        left: 0;
        bottom: 0;
      }
    }
    section.about {
      css {
        .card {
          border-radius: 10px;
          padding: 20px;
          margin: 20px;
          background-color: #363742;
          box-shadow: 0 3px 10px rgba(0, 0, 0, 0.5);
        }
        .card h1,
        .card h2,
        .card p {
          margin: 0;
        }
      }

      .card {
        css {
          .card h1 {
            display: inline-block;
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            background-image: linear-gradient(90deg, #20de88, #28bbe8);
          }
        }
        h1 {
          content: "Hello,";
        }
        p {
          content: """
            Iâ€™m Sean, a high school student graduating in 2021.
          """;
          // TODO: Age display
        }
      }

      .card {
        h2 {
          content: "Phenomena that interest me";
        }

        css {
          .interests {
            display: flex;
            text-align: center;
            align-items: flex-start;
          }
        }
        .interests {
          css {
            .interest {
              flex: 1 0 0;
              display: flex;
              flex-direction: column;
              justify-content: center;
              align-items: center;
            }
            .border {
              border-left: 1px solid rgba(255, 255, 255, 0.1);
              align-self: stretch;
            }

            // TEMP
            .interest img {
              width: 32px;
            }
          }

          // TODO: Images
          .interest {
            img[src="/SHEPS.svg"];
            p.sheep {
              content: "Sheep";
            }
          }
          .border {}
          .interest {
            img[src="/SHEPS.svg"];
            p {
              content: "Front-end web development";
            }
          }
          .border {}
          .interest {
            img[src="/SHEPS.svg"];
            p {
              content: "Constructed languages";
            }
          }
        }
      }

      .card {
        h2 {
          content: "How to stalk me";
        }

        $socials: import("./socials.yml");
        css {
          .socials {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(50px, 1fr));
            gap: 10px;
          }
        }
        .socials {
          @each $social in map.get($socials, 'profiles') {
            @import "./social.html.scss";
          }
        }
      }
    }

    css {
      .project-wrapper {
        flex: auto;
      }
    }
    @media (min-width: 1000px) {
      .project-wrapper {
        margin-left: 500px;
      }
    }
    section.project-wrapper {
      css {
        .projects {
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
          gap: 20px;
          margin: 20px;
        }
      }
      .projects {
        @each $project in import("./projects.yml") {
          @import "./project.html.scss";
        }
      }
    }
  }
}
