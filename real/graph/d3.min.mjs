class e extends Map{constructor(e,t=u){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[t,r]of e)this.set(t,r)}get(e){return super.get(r(this,e))}has(e){return super.has(r(this,e))}set(e,t){return super.set(n(this,e),t)}delete(e){return super.delete(s(this,e))}}class t extends Set{constructor(e,t=u){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const t of e)this.add(t)}has(e){return super.has(r(this,e))}add(e){return super.add(n(this,e))}delete(e){return super.delete(s(this,e))}}function r({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function n({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function s({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function u(e){return null!==e&&"object"==typeof e?e.valueOf():e}export{e as InternMap,t as InternSet};function r1(t,n){return null==t||null==n?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function o(t,n){return null==t||null==n?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function e1(t){let n,e,i;function u(t,r,o=0,f=t.length){if(o<f){if(0!==n(r,r))return f;do{const n=o+f>>>1;e(t[n],r)<0?o=n+1:f=n}while(o<f)}return o}return 2!==t.length?(n=r1,e=(n,o)=>r1(t(n),o),i=(n,r)=>t(n)-r):(n=t===r1||t===o?t:f,e=t,i=t),{left:u,center:function(t,n,r=0,o=t.length){const e=u(t,n,r,o-1);return e>r&&i(t[e-1],n)>-i(t[e],n)?e-1:e},right:function(t,r,o=0,f=t.length){if(o<f){if(0!==n(r,r))return f;do{const n=o+f>>>1;e(t[n],r)<=0?o=n+1:f=n}while(o<f)}return o}}}function f(){return 0}function i(t){return null===t?NaN:+t}const u1=e1(r1),l=u1.right,c=u1.left,a=e1(i).center;function s1(t,n){if(!((n=+n)>=0))throw new RangeError("invalid r");let r=t.length;if(!((r=Math.floor(r))>=0))throw new RangeError("invalid length");if(!r||!n)return t;const o=M(n),e=t.slice();return o(t,e,0,r,1),o(e,t,0,r,1),o(t,e,0,r,1),t}const h=d(M),y=d((function(t){const n=M(t);return(t,r,o,e,f)=>{n(t,r,(o<<=2)+0,(e<<=2)+0,f<<=2),n(t,r,o+1,e+1,f),n(t,r,o+2,e+2,f),n(t,r,o+3,e+3,f)}}));function d(t){return function(n,r,o=r){if(!((r=+r)>=0))throw new RangeError("invalid rx");if(!((o=+o)>=0))throw new RangeError("invalid ry");let{data:e,width:f,height:i}=n;if(!((f=Math.floor(f))>=0))throw new RangeError("invalid width");if(!((i=Math.floor(void 0!==i?i:e.length/f))>=0))throw new RangeError("invalid height");if(!f||!i||!r&&!o)return n;const u=r&&t(r),l=o&&t(o),c=e.slice();return u&&l?(p(u,c,e,f,i),p(u,e,c,f,i),p(u,c,e,f,i),m(l,e,c,f,i),m(l,c,e,f,i),m(l,e,c,f,i)):u?(p(u,e,c,f,i),p(u,c,e,f,i),p(u,e,c,f,i)):l&&(m(l,e,c,f,i),m(l,c,e,f,i),m(l,e,c,f,i)),n}}function p(t,n,r,o,e){for(let f=0,i=o*e;f<i;)t(n,r,f,f+=o,1)}function m(t,n,r,o,e){for(let f=0,i=o*e;f<o;++f)t(n,r,f,f+i,o)}function M(t){const n=Math.floor(t);if(n===t)return function(t){const n=2*t+1;return(r,o,e,f,i)=>{if(!((f-=i)>=e))return;let u=t*o[e];const l=i*t;for(let t=e,n=e+l;t<n;t+=i)u+=o[Math.min(f,t)];for(let t=e,c=f;t<=c;t+=i)u+=o[Math.min(f,t+l)],r[t]=u/n,u-=o[Math.max(e,t-l)]}}(t);const r=t-n,o=2*t+1;return(t,e,f,i,u)=>{if(!((i-=u)>=f))return;let l=n*e[f];const c=u*n,a=c+u;for(let t=f,n=f+c;t<n;t+=u)l+=e[Math.min(i,t)];for(let n=f,s=i;n<=s;n+=u)l+=e[Math.min(i,n+c)],t[n]=(l+r*(e[Math.max(f,n-a)]+e[Math.min(i,n+a)]))/o,l-=e[Math.max(f,n-c)]}}function v(t,n){let r=0;if(void 0===n)for(let n of t)null!=n&&(n=+n)>=n&&++r;else{let o=-1;for(let e of t)null!=(e=n(e,++o,t))&&(e=+e)>=e&&++r}return r}function w(t){return 0|t.length}function g(t){return!(t>0)}function A(t){return"object"!=typeof t||"length"in t?t:Array.from(t)}function b(...t){const n="function"==typeof t[t.length-1]&&function(t){return n=>t(...n)}(t.pop()),r=(t=t.map(A)).map(w),o=t.length-1,e=new Array(o+1).fill(0),f=[];if(o<0||r.some(g))return f;for(;;){f.push(e.map(((n,r)=>t[r][n])));let i=o;for(;++e[i]===r[i];){if(0===i)return n?f.map(n):f;e[i--]=0}}}function x(t,n){var r=0,o=0;return Float64Array.from(t,void 0===n?t=>r+=+t||0:e=>r+=+n(e,o++,t)||0)}function N(t,n){let r,o=0,e=0,f=0;if(void 0===n)for(let n of t)null!=n&&(n=+n)>=n&&(r=n-e,e+=r/++o,f+=r*(n-e));else{let i=-1;for(let u of t)null!=(u=n(u,++i,t))&&(u=+u)>=u&&(r=u-e,e+=r/++o,f+=r*(u-e))}if(o>1)return f/(o-1)}function E(t,n){const r=N(t,n);return r?Math.sqrt(r):r}function T(t,n){let r,o;if(void 0===n)for(const n of t)null!=n&&(void 0===r?n>=n&&(r=o=n):(r>n&&(r=n),o<n&&(o=n)));else{let e=-1;for(let f of t)null!=(f=n(f,++e,t))&&(void 0===r?f>=f&&(r=o=f):(r>f&&(r=f),o<f&&(o=f)))}return[r,o]}class F{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let o=0;o<this._n&&o<32;o++){const e=n[o],f=t+e,i=Math.abs(t)<Math.abs(e)?t-(f-e):e-(f-t);i&&(n[r++]=i),t=f}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n,r,o,e=this._n,f=0;if(e>0){for(f=t[--e];e>0&&(n=f,r=t[--e],f=n+r,o=r-(f-n),!o););e>0&&(o<0&&t[e-1]<0||o>0&&t[e-1]>0)&&(r=2*o,n=f+r,r==n-f&&(f=n))}return f}}function S(t,n){const r=new F;if(void 0===n)for(let n of t)(n=+n)&&r.add(n);else{let o=-1;for(let e of t)(e=+n(e,++o,t))&&r.add(e)}return+r}function _(t,n){const r=new F;let o=-1;return Float64Array.from(t,void 0===n?t=>r.add(+t||0):e=>r.add(+n(e,++o,t)||0))}function R(t){return t}function q(t,...n){return D(t,R,R,n)}function j(t,...n){return D(t,Array.from,R,n)}function O(t,n){for(let r=1,o=n.length;r<o;++r)t=t.flatMap((t=>t.pop().map((([n,r])=>[...t,n,r]))));return t}function U(t,...n){return O(j(t,...n),n)}function k(t,n,...r){return O(L(t,n,...r),r)}function I(t,n,...r){return D(t,R,n,r)}function L(t,n,...r){return D(t,Array.from,n,r)}function z(t,...n){return D(t,R,C,n)}function B(t,...n){return D(t,Array.from,C,n)}function C(t){if(1!==t.length)throw new Error("duplicate key");return t[0]}function D(n,r,o,e1){return function n(f,i){if(i>=e1.length)return o(f);const u=new e,l=e1[i++];let c=-1;for(const t of f){const n=l(t,++c,f),r=u.get(n);r?r.push(t):u.set(n,[t])}for(const[t,r]of u)u.set(t,n(r,i));return r(u)}(n,0)}function G(t,n){return Array.from(n,(n=>t[n]))}function H(t,...n){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");t=Array.from(t);let[r]=n;if(r&&2!==r.length||n.length>1){const o=Uint32Array.from(t,((t,n)=>n));return n.length>1?(n=n.map((n=>t.map(n))),o.sort(((t,r)=>{for(const o of n){const n=K(o[t],o[r]);if(n)return n}}))):(r=t.map(r),o.sort(((t,n)=>K(r[t],r[n])))),G(t,o)}return t.sort(J(r))}function J(t=r1){if(t===r1)return K;if("function"!=typeof t)throw new TypeError("compare is not a function");return(n,r)=>{const o=t(n,r);return o||0===o?o:(0===t(r,r))-(0===t(n,n))}}function K(t,n){return(null==t||!(t>=t))-(null==n||!(n>=n))||(t<n?-1:t>n?1:0)}function P(t,n,o){return(2!==n.length?H(I(t,n,o),(([t,n],[o,e])=>r1(n,e)||r1(t,o))):H(q(t,o),(([t,o],[e,f])=>n(o,f)||r1(t,e)))).map((([t])=>t))}var Q=Array.prototype.slice;function V(t){return()=>t}const W=Math.sqrt(50),X=Math.sqrt(10),Y=Math.sqrt(2);function Z(t,n,r){const o=(n-t)/Math.max(0,r),e=Math.floor(Math.log10(o)),f=o/Math.pow(10,e),i=f>=W?10:f>=X?5:f>=Y?2:1;let u,l,c;return e<0?(c=Math.pow(10,-e)/i,u=Math.round(t*c),l=Math.round(n*c),u/c<t&&++u,l/c>n&&--l,c=-c):(c=Math.pow(10,e)*i,u=Math.round(t/c),l=Math.round(n/c),u*c<t&&++u,l*c>n&&--l),l<u&&.5<=r&&r<2?Z(t,n,2*r):[u,l,c]}function $(t,n,r){if(!((r=+r)>0))return[];if((t=+t)===(n=+n))return[t];const o=n<t,[e,f,i]=o?Z(n,t,r):Z(t,n,r);if(!(f>=e))return[];const u=f-e+1,l=new Array(u);if(o)if(i<0)for(let t=0;t<u;++t)l[t]=(f-t)/-i;else for(let t=0;t<u;++t)l[t]=(f-t)*i;else if(i<0)for(let t=0;t<u;++t)l[t]=(e+t)/-i;else for(let t=0;t<u;++t)l[t]=(e+t)*i;return l}function tt(t,n,r){return Z(t=+t,n=+n,r=+r)[2]}function nt(t,n,r){r=+r;const o=(n=+n)<(t=+t),e=o?tt(n,t,r):tt(t,n,r);return(o?-1:1)*(e<0?1/-e:e)}function rt(t,n,r){let o;for(;;){const e=tt(t,n,r);if(e===o||0===e||!isFinite(e))return[t,n];e>0?(t=Math.floor(t/e)*e,n=Math.ceil(n/e)*e):e<0&&(t=Math.ceil(t*e)/e,n=Math.floor(n*e)/e),o=e}}function ot(t){return Math.max(1,Math.ceil(Math.log(v(t))/Math.LN2)+1)}function et(){var t=R,n=T,r=ot;function o(o){Array.isArray(o)||(o=Array.from(o));var e,f,i,u=o.length,c=new Array(u);for(e=0;e<u;++e)c[e]=t(o[e],e,o);var a=n(c),s=a[0],h=a[1],y=r(c,s,h);if(!Array.isArray(y)){const t=h,r=+y;if(n===T&&([s,h]=rt(s,h,r)),(y=$(s,h,r))[0]<=s&&(i=tt(s,h,r)),y[y.length-1]>=h)if(t>=h&&n===T){const t=tt(s,h,r);isFinite(t)&&(t>0?h=(Math.floor(h/t)+1)*t:t<0&&(h=(Math.ceil(h*-t)+1)/-t))}else y.pop()}for(var d=y.length,p=0,m=d;y[p]<=s;)++p;for(;y[m-1]>h;)--m;(p||m<d)&&(y=y.slice(p,m),d=m-p);var M,v=new Array(d+1);for(e=0;e<=d;++e)(M=v[e]=[]).x0=e>0?y[e-1]:s,M.x1=e<d?y[e]:h;if(isFinite(i)){if(i>0)for(e=0;e<u;++e)null!=(f=c[e])&&s<=f&&f<=h&&v[Math.min(d,Math.floor((f-s)/i))].push(o[e]);else if(i<0){for(e=0;e<u;++e)if(null!=(f=c[e])&&s<=f&&f<=h){const t=Math.floor((s-f)*i);v[Math.min(d,t+(y[t]<=f))].push(o[e])}}}else for(e=0;e<u;++e)null!=(f=c[e])&&s<=f&&f<=h&&v[l(y,f,0,d)].push(o[e]);return v}return o.value=function(n){return arguments.length?(t="function"==typeof n?n:V(n),o):t},o.domain=function(t){return arguments.length?(n="function"==typeof t?t:V([t[0],t[1]]),o):n},o.thresholds=function(t){return arguments.length?(r="function"==typeof t?t:V(Array.isArray(t)?Q.call(t):t),o):r},o}function ft(t,n){let r;if(void 0===n)for(const n of t)null!=n&&(r<n||void 0===r&&n>=n)&&(r=n);else{let o=-1;for(let e of t)null!=(e=n(e,++o,t))&&(r<e||void 0===r&&e>=e)&&(r=e)}return r}function it(t,n){let r,o=-1,e=-1;if(void 0===n)for(const n of t)++e,null!=n&&(r<n||void 0===r&&n>=n)&&(r=n,o=e);else for(let f of t)null!=(f=n(f,++e,t))&&(r<f||void 0===r&&f>=f)&&(r=f,o=e);return o}function ut(t,n){let r;if(void 0===n)for(const n of t)null!=n&&(r>n||void 0===r&&n>=n)&&(r=n);else{let o=-1;for(let e of t)null!=(e=n(e,++o,t))&&(r>e||void 0===r&&e>=e)&&(r=e)}return r}function lt(t,n){let r,o=-1,e=-1;if(void 0===n)for(const n of t)++e,null!=n&&(r>n||void 0===r&&n>=n)&&(r=n,o=e);else for(let f of t)null!=(f=n(f,++e,t))&&(r>f||void 0===r&&f>=f)&&(r=f,o=e);return o}function ct(t,n,r=0,o=1/0,e){if(n=Math.floor(n),r=Math.floor(Math.max(0,r)),o=Math.floor(Math.min(t.length-1,o)),!(r<=n&&n<=o))return t;for(e=void 0===e?K:J(e);o>r;){if(o-r>600){const f=o-r+1,i=n-r+1,u=Math.log(f),l=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*l*(f-l)/f)*(i-f/2<0?-1:1);ct(t,n,Math.max(r,Math.floor(n-i*l/f+c)),Math.min(o,Math.floor(n+(f-i)*l/f+c)),e)}const f=t[n];let i=r,u=o;for(at(t,r,n),e(t[o],f)>0&&at(t,r,o);i<u;){for(at(t,i,u),++i,--u;e(t[i],f)<0;)++i;for(;e(t[u],f)>0;)--u}0===e(t[r],f)?at(t,r,u):(++u,at(t,u,o)),u<=n&&(r=u+1),n<=u&&(o=u-1)}return t}function at(t,n,r){const o=t[n];t[n]=t[r],t[r]=o}function st(t,n=r1){let o,e=!1;if(1===n.length){let f;for(const i of t){const t=n(i);(e?r1(t,f)>0:0===r1(t,t))&&(o=i,f=t,e=!0)}}else for(const r of t)(e?n(r,o)>0:0===n(r,r))&&(o=r,e=!0);return o}function ht(t,n,r){if(t=Float64Array.from(function*(t,n){if(void 0===n)for(let n of t)null!=n&&(n=+n)>=n&&(yield n);else{let r=-1;for(let o of t)null!=(o=n(o,++r,t))&&(o=+o)>=o&&(yield o)}}(t,r)),(o=t.length)&&!isNaN(n=+n)){if(n<=0||o<2)return ut(t);if(n>=1)return ft(t);var o,e=(o-1)*n,f=Math.floor(e),i=ft(ct(t,f).subarray(0,f+1));return i+(ut(t.subarray(f+1))-i)*(e-f)}}function yt(t,n,r=i){if((o=t.length)&&!isNaN(n=+n)){if(n<=0||o<2)return+r(t[0],0,t);if(n>=1)return+r(t[o-1],o-1,t);var o,e=(o-1)*n,f=Math.floor(e),u=+r(t[f],f,t);return u+(+r(t[f+1],f+1,t)-u)*(e-f)}}function dt(t,n,r=i){if(!isNaN(n=+n)){if(o=Float64Array.from(t,((n,o)=>i(r(t[o],o,t)))),n<=0)return lt(o);if(n>=1)return it(o);var o,e=Uint32Array.from(t,((t,n)=>n)),f=o.length-1,u=Math.floor(f*n);return ct(e,u,0,f,((t,n)=>K(o[t],o[n]))),(u=st(e.subarray(0,u+1),(t=>o[t])))>=0?u:-1}}function pt(t,n,r){const o=v(t),e=ht(t,.75)-ht(t,.25);return o&&e?Math.ceil((r-n)/(2*e*Math.pow(o,-1/3))):1}function mt(t,n,r){const o=v(t),e=E(t);return o&&e?Math.ceil((r-n)*Math.cbrt(o)/(3.49*e)):1}function Mt(t,n){let r=0,o=0;if(void 0===n)for(let n of t)null!=n&&(n=+n)>=n&&(++r,o+=n);else{let e=-1;for(let f of t)null!=(f=n(f,++e,t))&&(f=+f)>=f&&(++r,o+=f)}if(r)return o/r}function vt(t,n){return ht(t,.5,n)}function wt(t,n){return dt(t,.5,n)}function gt(t){return Array.from(function*(t){for(const n of t)yield*n}(t))}function At(n,r){const o=new e;if(void 0===r)for(let t of n)null!=t&&t>=t&&o.set(t,(o.get(t)||0)+1);else{let t=-1;for(let e of n)null!=(e=r(e,++t,n))&&e>=e&&o.set(e,(o.get(e)||0)+1)}let e1,f=0;for(const[t,n]of o)n>f&&(f=n,e1=t);return e1}function bt(t,n=xt){const r=[];let o,e=!1;for(const f of t)e&&r.push(n(o,f)),o=f,e=!0;return r}function xt(t,n){return[t,n]}function Nt(t,n,r){t=+t,n=+n,r=(e=arguments.length)<2?(n=t,t=0,1):e<3?1:+r;for(var o=-1,e=0|Math.max(0,Math.ceil((n-t)/r)),f=new Array(e);++o<e;)f[o]=t+o*r;return f}function Et(t,n=r1){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");let o=Array.from(t);const e=new Float64Array(o.length);2!==n.length&&(o=o.map(n),n=r1);const f=(t,r)=>n(o[t],o[r]);let i,u;return(t=Uint32Array.from(o,((t,n)=>n))).sort(n===r1?(t,n)=>K(o[t],o[n]):J(f)),t.forEach(((t,n)=>{const r=f(t,void 0===i?t:i);r>=0?((void 0===i||r>0)&&(i=t,u=n),e[t]=u):e[t]=NaN})),e}function Tt(t,n=r1){let o,e=!1;if(1===n.length){let f;for(const i of t){const t=n(i);(e?r1(t,f)<0:0===r1(t,t))&&(o=i,f=t,e=!0)}}else for(const r of t)(e?n(r,o)<0:0===n(r,r))&&(o=r,e=!0);return o}function Ft(t,n=r1){if(1===n.length)return lt(t,n);let o,e=-1,f=-1;for(const r of t)++f,(e<0?0===n(r,r):n(r,o)<0)&&(o=r,e=f);return e}function St(t,n=r1){if(1===n.length)return it(t,n);let o,e=-1,f=-1;for(const r of t)++f,(e<0?0===n(r,r):n(r,o)>0)&&(o=r,e=f);return e}function _t(t,n){const r=Ft(t,n);return r<0?void 0:r}var Rt=qt(Math.random);function qt(t){return function(n,r=0,o=n.length){let e=o-(r=+r);for(;e;){const o=t()*e--|0,f=n[e+r];n[e+r]=n[o+r],n[o+r]=f}return n}}function jt(t,n){let r=0;if(void 0===n)for(let n of t)(n=+n)&&(r+=n);else{let o=-1;for(let e of t)(e=+n(e,++o,t))&&(r+=e)}return r}function Ot(t){if(!(e=t.length))return[];for(var n=-1,r=ut(t,Ut),o=new Array(r);++n<r;)for(var e,f=-1,i=o[n]=new Array(e);++f<e;)i[f]=t[f][n];return o}function Ut(t){return t.length}function kt(){return Ot(arguments)}function It(t,n){if("function"!=typeof n)throw new TypeError("test is not a function");let r=-1;for(const o of t)if(!n(o,++r,t))return!1;return!0}function Lt(t,n){if("function"!=typeof n)throw new TypeError("test is not a function");let r=-1;for(const o of t)if(n(o,++r,t))return!0;return!1}function zt(t,n){if("function"!=typeof n)throw new TypeError("test is not a function");const r=[];let o=-1;for(const e of t)n(e,++o,t)&&r.push(e);return r}function Bt(t,n){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!=typeof n)throw new TypeError("mapper is not a function");return Array.from(t,((r,o)=>n(r,o,t)))}function Ct(t,n,r){if("function"!=typeof n)throw new TypeError("reducer is not a function");const o=t[Symbol.iterator]();let e,f,i=-1;if(arguments.length<3){if(({done:e,value:r}=o.next()),e)return;++i}for(;({done:e,value:f}=o.next()),!e;)r=n(r,f,++i,t);return r}function Dt(t){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(t).reverse()}function Gt(t1,...r){t1=new t(t1);for(const n of r)for(const r of n)t1.delete(r);return t1}function Ht(t1,r){const o=r[Symbol.iterator](),e=new t;for(const n of t1){if(e.has(n))return!1;let t,r;for(;({value:t,done:r}=o.next())&&!r;){if(Object.is(n,t))return!1;e.add(t)}}return!0}function Jt(t1,...r){t1=new t(t1),r=r.map(Kt);t:for(const n of t1)for(const o of r)if(!o.has(n)){t1.delete(n);continue t}return t1}function Kt(t1){return t1 instanceof t?t1:new t(t1)}function Pt(t,n){const r=t[Symbol.iterator](),o=new Set;for(const t of n){const n=Qt(t);if(o.has(n))continue;let e,f;for(;({value:e,done:f}=r.next());){if(f)return!1;const t=Qt(e);if(o.add(t),Object.is(n,t))break}}return!0}function Qt(t){return null!==t&&"object"==typeof t?t.valueOf():t}function Vt(t,n){return Pt(n,t)}function Wt(...t1){const r=new t;for(const n of t1)for(const t of n)r.add(t);return r}export{F as Adder,r1 as ascending,et as bin,l as bisect,a as bisectCenter,c as bisectLeft,l as bisectRight,e1 as bisector,s1 as blur,h as blur2,y as blurImage,v as count,b as cross,x as cumsum,o as descending,E as deviation,Gt as difference,Ht as disjoint,It as every,T as extent,_ as fcumsum,zt as filter,U as flatGroup,k as flatRollup,S as fsum,st as greatest,St as greatestIndex,q as group,P as groupSort,j as groups,et as histogram,z as index,B as indexes,Jt as intersection,Tt as least,Ft as leastIndex,Bt as map,ft as max,it as maxIndex,Mt as mean,vt as median,wt as medianIndex,gt as merge,ut as min,lt as minIndex,At as mode,rt as nice,bt as pairs,G as permute,ht as quantile,dt as quantileIndex,yt as quantileSorted,ct as quickselect,Nt as range,Et as rank,Ct as reduce,Dt as reverse,I as rollup,L as rollups,_t as scan,Rt as shuffle,qt as shuffler,Lt as some,H as sort,Vt as subset,jt as sum,Pt as superset,pt as thresholdFreedmanDiaconis,mt as thresholdScott,ot as thresholdSturges,tt as tickIncrement,nt as tickStep,$ as ticks,Ot as transpose,Wt as union,N as variance,kt as zip};function t1(t){return t}var n1=1,r2=2,e2=3,i1=4,a1=1e-6;function o1(t){return"translate("+t+",0)"}function u2(t){return"translate(0,"+t+")"}function c1(t){return n=>+t(n)}function l1(t,n){return n=Math.max(0,t.bandwidth()-2*n)/2,t.round()&&(n=Math.round(n)),r=>+t(r)+n}function s2(){return!this.__axis}function f1(f,d){var m=[],h=null,g=null,p=6,k=6,x=3,y="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,A=f===n1||f===i1?-1:1,M=f===i1||f===r2?"x":"y",v=f===n1||f===e2?o1:u2;function w(o){var u=null==h?d.ticks?d.ticks.apply(d,m):d.domain():h,w=null==g?d.tickFormat?d.tickFormat.apply(d,m):t1:g,_=Math.max(p,0)+x,F=d.range(),V=+F[0]+y,z=+F[F.length-1]+y,H=(d.bandwidth?l1:c1)(d.copy(),y),b=o.selection?o.selection():o,C=b.selectAll(".domain").data([null]),S=b.selectAll(".tick").data(u,d).order(),P=S.exit(),I=S.enter().append("g").attr("class","tick"),N=S.select("line"),O=S.select("text");C=C.merge(C.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),S=S.merge(I),N=N.merge(I.append("line").attr("stroke","currentColor").attr(M+"2",A*p)),O=O.merge(I.append("text").attr("fill","currentColor").attr(M,A*_).attr("dy",f===n1?"0em":f===e2?"0.71em":"0.32em")),o!==b&&(C=C.transition(o),S=S.transition(o),N=N.transition(o),O=O.transition(o),P=P.transition(o).attr("opacity",a1).attr("transform",(function(t){return isFinite(t=H(t))?v(t+y):this.getAttribute("transform")})),I.attr("opacity",a1).attr("transform",(function(t){var n=this.parentNode.__axis;return v((n&&isFinite(n=n(t))?n:H(t))+y)}))),P.remove(),C.attr("d",f===i1||f===r2?k?"M"+A*k+","+V+"H"+y+"V"+z+"H"+A*k:"M"+y+","+V+"V"+z:k?"M"+V+","+A*k+"V"+y+"H"+z+"V"+A*k:"M"+V+","+y+"H"+z),S.attr("opacity",1).attr("transform",(function(t){return v(H(t)+y)})),N.attr(M+"2",A*p),O.attr(M,A*_).text(w),b.filter(s2).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",f===r2?"start":f===i1?"end":"middle"),b.each((function(){this.__axis=H}))}return w.scale=function(t){return arguments.length?(d=t,w):d},w.ticks=function(){return m=Array.from(arguments),w},w.tickArguments=function(t){return arguments.length?(m=null==t?[]:Array.from(t),w):m.slice()},w.tickValues=function(t){return arguments.length?(h=null==t?null:Array.from(t),w):h&&h.slice()},w.tickFormat=function(t){return arguments.length?(g=t,w):g},w.tickSize=function(t){return arguments.length?(p=k=+t,w):p},w.tickSizeInner=function(t){return arguments.length?(p=+t,w):p},w.tickSizeOuter=function(t){return arguments.length?(k=+t,w):k},w.tickPadding=function(t){return arguments.length?(x=+t,w):x},w.offset=function(t){return arguments.length?(y=+t,w):y},w}function d1(t){return f1(n1,t)}function m1(t){return f1(r2,t)}function h1(t){return f1(e2,t)}function g1(t){return f1(i1,t)}export{h1 as axisBottom,g1 as axisLeft,m1 as axisRight,d1 as axisTop};var n2={value:()=>{}};function r3(){for(var n,r=0,e=arguments.length,o={};r<e;++r){if(!(n=arguments[r]+"")||n in o||/[\s.]/.test(n))throw new Error("illegal type: "+n);o[n]=[]}return new t2(o)}function t2(n){this._=n}function e3(n,r){for(var t,e=0,o=n.length;e<o;++e)if((t=n[e]).name===r)return t.value}function o2(r,t,e){for(var o=0,i=r.length;o<i;++o)if(r[o].name===t){r[o]=n2,r=r.slice(0,o).concat(r.slice(o+1));break}return null!=e&&r.push({name:t,value:e}),r}t2.prototype=r3.prototype={constructor:t2,on:function(n,r){var t,i,l=this._,a=(i=l,(n+"").trim().split(/^|\s+/).map((function(n){var r="",t=n.indexOf(".");if(t>=0&&(r=n.slice(t+1),n=n.slice(0,t)),n&&!i.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}}))),f=-1,u=a.length;if(!(arguments.length<2)){if(null!=r&&"function"!=typeof r)throw new Error("invalid callback: "+r);for(;++f<u;)if(t=(n=a[f]).type)l[t]=o2(l[t],n.name,r);else if(null==r)for(t in l)l[t]=o2(l[t],n.name,null);return this}for(;++f<u;)if((t=(n=a[f]).type)&&(t=e3(l[t],n.name)))return t},copy:function(){var n={},r=this._;for(var e in r)n[e]=r[e].slice();return new t2(n)},call:function(n,r){if((t=arguments.length-2)>0)for(var t,e,o=new Array(t),i=0;i<t;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(i=0,t=(e=this._[n]).length;i<t;++i)e[i].value.apply(r,o)},apply:function(n,r,t){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var e=this._[n],o=0,i=e.length;o<i;++o)e[o].value.apply(r,t)}};export{r3 as dispatch};var t3="http://www.w3.org/1999/xhtml",n3={svg:"http://www.w3.org/2000/svg",xhtml:t3,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function e4(t){var e=t+="",r=e.indexOf(":");return r>=0&&"xmlns"!==(e=t.slice(0,r))&&(t=t.slice(r+1)),n3.hasOwnProperty(e)?{space:n3[e],local:t}:t}function r4(n){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===t3&&e.documentElement.namespaceURI===t3?e.createElement(n):e.createElementNS(r,n)}}function i2(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function o3(t){var n=e4(t);return(n.local?i2:r4)(n)}function u3(){}function s3(t){return null==t?u3:function(){return this.querySelector(t)}}function c2(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function a2(){return[]}function l2(t){return null==t?a2:function(){return this.querySelectorAll(t)}}function f2(t){return function(){return this.matches(t)}}function h2(t){return function(n){return n.matches(t)}}var p1=Array.prototype.find;function _1(){return this.firstElementChild}var d2=Array.prototype.filter;function y1(){return Array.from(this.children)}function v1(t){return new Array(t.length)}function m2(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function g2(t,n,e,r,i,o){for(var u,s=0,c=n.length,a=o.length;s<a;++s)(u=n[s])?(u.__data__=o[s],r[s]=u):e[s]=new m2(t,o[s]);for(;s<c;++s)(u=n[s])&&(i[s]=u)}function w1(t,n,e,r,i,o,u){var s,c,a,l=new Map,f=n.length,h=o.length,p=new Array(f);for(s=0;s<f;++s)(c=n[s])&&(p[s]=a=u.call(c,c.__data__,s,n)+"",l.has(a)?i[s]=c:l.set(a,c));for(s=0;s<h;++s)a=u.call(t,o[s],s,o)+"",(c=l.get(a))?(r[s]=c,c.__data__=o[s],l.delete(a)):e[s]=new m2(t,o[s]);for(s=0;s<f;++s)(c=n[s])&&l.get(p[s])===c&&(i[s]=c)}function A1(t){return t.__data__}function x1(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function S1(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function b1(t){return function(){this.removeAttribute(t)}}function E1(t){return function(){this.removeAttributeNS(t.space,t.local)}}function N1(t,n){return function(){this.setAttribute(t,n)}}function C1(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function L1(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function B1(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function P1(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function T1(t){return function(){this.style.removeProperty(t)}}function q1(t,n,e){return function(){this.style.setProperty(t,n,e)}}function M1(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function D1(t,n){return t.style.getPropertyValue(n)||P1(t).getComputedStyle(t,null).getPropertyValue(n)}function V1(t){return function(){delete this[t]}}function O1(t,n){return function(){this[t]=n}}function R1(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function j1(t){return t.trim().split(/^|\s+/)}function H1(t){return t.classList||new I1(t)}function I1(t){this._node=t,this._names=j1(t.getAttribute("class")||"")}function U1(t,n){for(var e=H1(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function X1(t,n){for(var e=H1(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function G1(t){return function(){U1(this,t)}}function Y1(t){return function(){X1(this,t)}}function k1(t,n){return function(){(n.apply(this,arguments)?U1:X1)(this,t)}}function z1(){this.textContent=""}function F1(t){return function(){this.textContent=t}}function J1(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function K1(){this.innerHTML=""}function Q1(t){return function(){this.innerHTML=t}}function W1(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function Z1(){this.nextSibling&&this.parentNode.appendChild(this)}function $1(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function tt1(){return null}function nt1(){var t=this.parentNode;t&&t.removeChild(this)}function et1(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function rt1(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function it1(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.options);++i?n.length=i:delete this.__on}}}function ot1(t,n,e){return function(){var r,i=this.__on,o=function(t){return function(n){t.call(this,n,this.__data__)}}(n);if(i){for(var u=0,s=i.length;u<s;++u)if((r=i[u]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=e),void(r.value=n)}this.addEventListener(t.type,o,e),r={type:t.type,name:t.name,value:n,listener:o,options:e},i?i.push(r):this.__on=[r]}}function ut1(t,n,e){var r=P1(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function st1(t,n){return function(){return ut1(this,t,n)}}function ct1(t,n){return function(){return ut1(this,t,n.apply(this,arguments))}}m2.prototype={constructor:m2,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},I1.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var at1=[null];function lt1(t,n){this._groups=t,this._parents=n}function ft1(){return new lt1([[document.documentElement]],at1)}function ht1(t){return"string"==typeof t?new lt1([[document.querySelector(t)]],[document.documentElement]):new lt1([[t]],at1)}function pt1(t){return ht1(o3(t).call(document.documentElement))}lt1.prototype=ft1.prototype={constructor:lt1,select:function(t){"function"!=typeof t&&(t=s3(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u,c=n[i],a=c.length,l=r[i]=new Array(a),f=0;f<a;++f)(o=c[f])&&(u=t.call(o,o.__data__,f,c))&&("__data__"in o&&(u.__data__=o.__data__),l[f]=u);return new lt1(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return c2(t.apply(this,arguments))}}(t):l2(t);for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var u,s=n[o],a=s.length,f=0;f<a;++f)(u=s[f])&&(r.push(t.call(u,u.__data__,f,s)),i.push(u));return new lt1(r,i)},selectChild:function(t){return this.select(null==t?_1:function(t){return function(){return p1.call(this.children,t)}}("function"==typeof t?t:h2(t)))},selectChildren:function(t){return this.selectAll(null==t?y1:function(t){return function(){return d2.call(this.children,t)}}("function"==typeof t?t:h2(t)))},filter:function(t){"function"!=typeof t&&(t=f2(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u=n[i],s=u.length,c=r[i]=[],a=0;a<s;++a)(o=u[a])&&t.call(o,o.__data__,a,u)&&c.push(o);return new lt1(r,this._parents)},data:function(t,n){if(!arguments.length)return Array.from(this,A1);var e,r=n?w1:g2,i=this._parents,o=this._groups;"function"!=typeof t&&(e=t,t=function(){return e});for(var u=o.length,s=new Array(u),c=new Array(u),a=new Array(u),l=0;l<u;++l){var f=i[l],h=o[l],p=h.length,_=x1(t.call(f,f&&f.__data__,l,i)),d=_.length,y=c[l]=new Array(d),v=s[l]=new Array(d);r(f,h,y,v,a[l]=new Array(p),_,n);for(var m,S,b=0,E=0;b<d;++b)if(m=y[b]){for(b>=E&&(E=b+1);!(S=v[E])&&++E<d;);m._next=S||null}}return(s=new lt1(s,i))._enter=c,s._exit=a,s},enter:function(){return new lt1(this._enter||this._groups.map(v1),this._parents)},exit:function(){return new lt1(this._exit||this._groups.map(v1),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=n&&(i=n(i))&&(i=i.selection()),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,o=r.length,u=Math.min(i,o),s=new Array(i),c=0;c<u;++c)for(var a,l=e[c],f=r[c],h=l.length,p=s[c]=new Array(h),_=0;_<h;++_)(a=l[_]||f[_])&&(p[_]=a);for(;c<i;++c)s[c]=e[c];return new lt1(s,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,u=i[o];--o>=0;)(r=i[o])&&(u&&4^r.compareDocumentPosition(u)&&u.parentNode.insertBefore(r,u),u=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=S1);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var u,s=e[o],c=s.length,a=i[o]=new Array(c),l=0;l<c;++l)(u=s[l])&&(a[l]=u);a.sort(n)}return new lt1(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var u=r[i];if(u)return u}return null},size:function(){let t=0;for(const n of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],u=0,s=o.length;u<s;++u)(i=o[u])&&t.call(i,i.__data__,u,o);return this},attr:function(t,n){var r=e4(t);if(arguments.length<2){var i=this.node();return r.local?i.getAttributeNS(r.space,r.local):i.getAttribute(r)}return this.each((null==n?r.local?E1:b1:"function"==typeof n?r.local?B1:L1:r.local?C1:N1)(r,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?T1:"function"==typeof n?M1:q1)(t,n,null==e?"":e)):D1(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?V1:"function"==typeof n?R1:O1)(t,n)):this.node()[t]},classed:function(t,n){var e=j1(t+"");if(arguments.length<2){for(var r=H1(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?k1:n?G1:Y1)(e,n))},text:function(t){return arguments.length?this.each(null==t?z1:("function"==typeof t?J1:F1)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?K1:("function"==typeof t?W1:Q1)(t)):this.node().innerHTML},raise:function(){return this.each(Z1)},lower:function(){return this.each($1)},append:function(t){var n="function"==typeof t?t:o3(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:o3(t),r=null==n?tt1:"function"==typeof n?n:s3(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(nt1)},clone:function(t){return this.select(t?rt1:et1)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=function(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}(t+""),u=o.length;if(!(arguments.length<2)){for(s=n?ot1:it1,r=0;r<u;++r)this.each(s(o[r],n,e));return this}var s=this.node().__on;if(s){for(var c,a=0,l=s.length;a<l;++a)for(r=0,c=s[a];r<u;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value}},dispatch:function(t,n){return this.each(("function"==typeof n?ct1:st1)(t,n))},[Symbol.iterator]:function*(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r,i=t[n],o=0,u=i.length;o<u;++o)(r=i[o])&&(yield r)}};var _t1=0;function dt1(){return new yt1}function yt1(){this._="@"+(++_t1).toString(36)}function vt1(t){let n;for(;n=t.sourceEvent;)t=n;return t}function mt1(t,n){if(t=vt1(t),void 0===n&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(n.getScreenCTM().inverse())).x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]}function gt1(t,n){return t.target&&(t=vt1(t),void 0===n&&(n=t.currentTarget),t=t.touches||[t]),Array.from(t,(t=>mt1(t,n)))}function wt1(t){return"string"==typeof t?new lt1([document.querySelectorAll(t)],[document.documentElement]):new lt1([c2(t)],at1)}yt1.prototype=dt1.prototype={constructor:yt1,get:function(t){for(var n=this._;!(n in t);)if(!(t=t.parentNode))return;return t[n]},set:function(t,n){return t[this._]=n},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};export{pt1 as create,o3 as creator,dt1 as local,f2 as matcher,e4 as namespace,n3 as namespaces,mt1 as pointer,gt1 as pointers,ht1 as select,wt1 as selectAll,ft1 as selection,s3 as selector,l2 as selectorAll,D1 as style,P1 as window};const r5={passive:!1},o4={capture:!0,passive:!1};function a3(e){e.stopImmediatePropagation()}function i3(e){e.preventDefault(),e.stopImmediatePropagation()}function u4(e){var n=e.document.documentElement,r=ht1(e).on("dragstart.drag",i3,o4);"onselectstart"in n?r.on("selectstart.drag",i3,o4):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function c3(e,n){var r=e.document.documentElement,a=ht1(e).on("dragstart.drag",null);n&&(a.on("click.drag",i3,o4),setTimeout((function(){a.on("click.drag",null)}),0)),"onselectstart"in r?a.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}var l3=e=>()=>e;function s4(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:a,x:i,y:u,dx:c,dy:l,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:l,enumerable:!0,configurable:!0},_:{value:s}})}function f3(e){return!e.ctrlKey&&!e.button}function d3(){return this.parentNode}function g3(e,t){return null==t?{x:e.x,y:e.y}:t}function h3(){return navigator.maxTouchPoints||"ontouchstart"in this}function m3(){var m,v,p,b,y=f3,x=d3,_=g3,w=h3,E={},T=r3("start","drag","end"),j=0,k=0;function M(e){e.on("mousedown.drag",P).filter(w).on("touchstart.drag",S).on("touchmove.drag",U,r5).on("touchend.drag touchcancel.drag",I).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function P(e,n){if(!b&&y.call(this,e,n)){var r=X(this,x.call(this,e,n),e,n,"mouse");r&&(ht1(e.view).on("mousemove.drag",z,o4).on("mouseup.drag",D,o4),u4(e.view),a3(e),p=!1,m=e.clientX,v=e.clientY,r("start",e))}}function z(e){if(i3(e),!p){var t=e.clientX-m,n=e.clientY-v;p=t*t+n*n>k}E.mouse("drag",e)}function D(e){ht1(e.view).on("mousemove.drag mouseup.drag",null),c3(e.view,p),i3(e),E.mouse("end",e)}function S(e,t){if(y.call(this,e,t)){var n,r,o=e.changedTouches,i=x.call(this,e,t),u=o.length;for(n=0;n<u;++n)(r=X(this,i,e,t,o[n].identifier,o[n]))&&(a3(e),r("start",e,o[n]))}}function U(e){var t,n,r=e.changedTouches,o=r.length;for(t=0;t<o;++t)(n=E[r[t].identifier])&&(i3(e),n("drag",e,r[t]))}function I(e){var t,n,r=e.changedTouches,o=r.length;for(b&&clearTimeout(b),b=setTimeout((function(){b=null}),500),t=0;t<o;++t)(n=E[r[t].identifier])&&(a3(e),n("end",e,r[t]))}function X(e,t,r,o,a,i){var u,c,l,f=T.copy(),d=mt1(i||r,t);if(null!=(l=_.call(e,new s4("beforestart",{sourceEvent:r,target:M,identifier:a,active:j,x:d[0],y:d[1],dx:0,dy:0,dispatch:f}),o)))return u=l.x-d[0]||0,c=l.y-d[1]||0,function r(i,g,h){var m,v=d;switch(i){case"start":E[a]=r,m=j++;break;case"end":delete E[a],--j;case"drag":d=mt1(h||g,t),m=j}f.call(i,e,new s4(i,{sourceEvent:g,subject:l,target:M,identifier:a,active:m,x:d[0]+u,y:d[1]+c,dx:d[0]-v[0],dy:d[1]-v[1],dispatch:f}),o)}}return M.filter=function(e){return arguments.length?(y="function"==typeof e?e:l3(!!e),M):y},M.container=function(e){return arguments.length?(x="function"==typeof e?e:l3(e),M):x},M.subject=function(e){return arguments.length?(_="function"==typeof e?e:l3(e),M):_},M.touchable=function(e){return arguments.length?(w="function"==typeof e?e:l3(!!e),M):w},M.on=function(){var e=T.on.apply(T,arguments);return e===T?M:e},M.clickDistance=function(e){return arguments.length?(k=(e=+e)*e,M):Math.sqrt(k)},M}s4.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};export{m3 as drag,u4 as dragDisable,c3 as dragEnable};function t4(t,e,i){t.prototype=e.prototype=i,i.constructor=t}function e5(t,e){var i=Object.create(t.prototype);for(var n in e)i[n]=e[n];return i}function i4(){}var n4=.7,r6=1/n4,a4="\\s*([+-]?\\d+)\\s*",s5="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",h4="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",o5=/^#([0-9a-f]{3,8})$/,l4=new RegExp(`^rgb\\(${a4},${a4},${a4}\\)$`),u5=new RegExp(`^rgb\\(${h4},${h4},${h4}\\)$`),c4=new RegExp(`^rgba\\(${a4},${a4},${a4},${s5}\\)$`),g4=new RegExp(`^rgba\\(${h4},${h4},${h4},${s5}\\)$`),p2=new RegExp(`^hsl\\(${s5},${h4},${h4}\\)$`),b2=new RegExp(`^hsla\\(${s5},${h4},${h4},${s5}\\)$`),d4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function f4(){return this.rgb().formatHex()}function w2(){return this.rgb().formatRgb()}function y2(t){var e,i;return t=(t+"").trim().toLowerCase(),(e=o5.exec(t))?(i=e[1].length,e=parseInt(e[1],16),6===i?m4(e):3===i?new M2(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===i?$2(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===i?$2(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=l4.exec(t))?new M2(e[1],e[2],e[3],1):(e=u5.exec(t))?new M2(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=c4.exec(t))?$2(e[1],e[2],e[3],e[4]):(e=g4.exec(t))?$2(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=p2.exec(t))?E2(e[1],e[2]/100,e[3]/100,1):(e=b2.exec(t))?E2(e[1],e[2]/100,e[3]/100,e[4]):d4.hasOwnProperty(t)?m4(d4[t]):"transparent"===t?new M2(NaN,NaN,NaN,0):null}function m4(t){return new M2(t>>16&255,t>>8&255,255&t,1)}function $2(t,e,i,n){return n<=0&&(t=e=i=NaN),new M2(t,e,i,n)}function N2(t){return t instanceof i4||(t=y2(t)),t?new M2((t=t.rgb()).r,t.g,t.b,t.opacity):new M2}function k2(t,e,i,n){return 1===arguments.length?N2(t):new M2(t,e,i,null==n?1:n)}function M2(t,e,i,n){this.r=+t,this.g=+e,this.b=+i,this.opacity=+n}function v2(){return`#${R2(this.r)}${R2(this.g)}${R2(this.b)}`}function x2(){const t=q2(this.opacity);return`${1===t?"rgb(":"rgba("}${H2(this.r)}, ${H2(this.g)}, ${H2(this.b)}${1===t?")":`, ${t})`}`}function q2(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function H2(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function R2(t){return((t=H2(t))<16?"0":"")+t.toString(16)}function E2(t,e,i,n){return n<=0?t=e=i=NaN:i<=0||i>=1?t=e=NaN:e<=0&&(t=NaN),new O2(t,e,i,n)}function j2(t){if(t instanceof O2)return new O2(t.h,t.s,t.l,t.opacity);if(t instanceof i4||(t=y2(t)),!t)return new O2;if(t instanceof O2)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),s=Math.max(e,n,r),h=NaN,o=s-a,l=(s+a)/2;return o?(h=e===s?(n-r)/o+6*(n<r):n===s?(r-e)/o+2:(e-n)/o+4,o/=l<.5?s+a:2-s-a,h*=60):o=l>0&&l<1?0:h,new O2(h,o,l,t.opacity)}function I2(t,e,i,n){return 1===arguments.length?j2(t):new O2(t,e,i,null==n?1:n)}function O2(t,e,i,n){this.h=+t,this.s=+e,this.l=+i,this.opacity=+n}function P2(t){return(t=(t||0)%360)<0?t+360:t}function S2(t){return Math.max(0,Math.min(1,t||0))}function z2(t,e,i){return 255*(t<60?e+(i-e)*t/60:t<180?i:t<240?e+(i-e)*(240-t)/60:e)}t4(i4,y2,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:f4,formatHex:f4,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return j2(this).formatHsl()},formatRgb:w2,toString:w2}),t4(M2,k2,e5(i4,{brighter(t){return t=null==t?r6:Math.pow(r6,t),new M2(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?n4:Math.pow(n4,t),new M2(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new M2(H2(this.r),H2(this.g),H2(this.b),q2(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:v2,formatHex:v2,formatHex8:function(){return`#${R2(this.r)}${R2(this.g)}${R2(this.b)}${R2(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:x2,toString:x2})),t4(O2,I2,e5(i4,{brighter(t){return t=null==t?r6:Math.pow(r6,t),new O2(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?n4:Math.pow(n4,t),new O2(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,i=this.l,n=i+(i<.5?i:1-i)*e,r=2*i-n;return new M2(z2(t>=240?t-240:t+120,r,n),z2(t,r,n),z2(t<120?t+240:t-120,r,n),this.opacity)},clamp(){return new O2(P2(this.h),S2(this.s),S2(this.l),q2(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=q2(this.opacity);return`${1===t?"hsl(":"hsla("}${P2(this.h)}, ${100*S2(this.s)}%, ${100*S2(this.l)}%${1===t?")":`, ${t})`}`}}));const C2=Math.PI/180,L2=180/Math.PI,A2=.96422,B2=1,D2=.82521,F2=4/29,G2=6/29,J2=3*G2*G2,K2=G2*G2*G2;function Q2(t){if(t instanceof V2)return new V2(t.l,t.a,t.b,t.opacity);if(t instanceof it2)return nt2(t);t instanceof M2||(t=N2(t));var e,i,n=Z2(t.r),r=Z2(t.g),a=Z2(t.b),s=W2((.2225045*n+.7168786*r+.0606169*a)/1);return n===r&&r===a?e=i=s:(e=W2((.4360747*n+.3850649*r+.1430804*a)/A2),i=W2((.0139322*n+.0971045*r+.7141733*a)/D2)),new V2(116*s-16,500*(e-s),200*(s-i),t.opacity)}function T2(t,e){return new V2(t,0,0,null==e?1:e)}function U2(t,e,i,n){return 1===arguments.length?Q2(t):new V2(t,e,i,null==n?1:n)}function V2(t,e,i,n){this.l=+t,this.a=+e,this.b=+i,this.opacity=+n}function W2(t){return t>K2?Math.pow(t,1/3):t/J2+F2}function X2(t){return t>G2?t*t*t:J2*(t-F2)}function Y2(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Z2(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function _2(t){if(t instanceof it2)return new it2(t.h,t.c,t.l,t.opacity);if(t instanceof V2||(t=Q2(t)),0===t.a&&0===t.b)return new it2(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*L2;return new it2(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function tt2(t,e,i,n){return 1===arguments.length?_2(t):new it2(i,e,t,null==n?1:n)}function et2(t,e,i,n){return 1===arguments.length?_2(t):new it2(t,e,i,null==n?1:n)}function it2(t,e,i,n){this.h=+t,this.c=+e,this.l=+i,this.opacity=+n}function nt2(t){if(isNaN(t.h))return new V2(t.l,0,0,t.opacity);var e=t.h*C2;return new V2(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t4(V2,U2,e5(i4,{brighter(t){return new V2(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker(t){return new V2(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,i=isNaN(this.b)?t:t-this.b/200;return new M2(Y2(3.1338561*(e=A2*X2(e))-1.6168667*(t=B2*X2(t))-.4906146*(i=D2*X2(i))),Y2(-.9787684*e+1.9161415*t+.033454*i),Y2(.0719453*e-.2289914*t+1.4052427*i),this.opacity)}})),t4(it2,et2,e5(i4,{brighter(t){return new it2(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker(t){return new it2(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb(){return nt2(this).rgb()}}));var rt2=-.14861,at2=1.78277,st2=-.29227,ht2=-.90649,ot2=1.97294,lt2=ot2*ht2,ut2=ot2*at2,ct2=at2*st2-ht2*rt2;function gt2(t,e,i,n){return 1===arguments.length?function(t){if(t instanceof pt2)return new pt2(t.h,t.s,t.l,t.opacity);t instanceof M2||(t=N2(t));var e=t.r/255,i=t.g/255,n=t.b/255,r=(ct2*n+lt2*e-ut2*i)/(ct2+lt2-ut2),a=n-r,s=(ot2*(i-r)-st2*a)/ht2,h=Math.sqrt(s*s+a*a)/(ot2*r*(1-r)),o=h?Math.atan2(s,a)*L2-120:NaN;return new pt2(o<0?o+360:o,h,r,t.opacity)}(t):new pt2(t,e,i,null==n?1:n)}function pt2(t,e,i,n){this.h=+t,this.s=+e,this.l=+i,this.opacity=+n}t4(pt2,gt2,e5(i4,{brighter(t){return t=null==t?r6:Math.pow(r6,t),new pt2(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?n4:Math.pow(n4,t),new pt2(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*C2,e=+this.l,i=isNaN(this.s)?0:this.s*e*(1-e),n=Math.cos(t),r=Math.sin(t);return new M2(255*(e+i*(rt2*n+at2*r)),255*(e+i*(st2*n+ht2*r)),255*(e+i*(ot2*n)),this.opacity)}}));export{y2 as color,gt2 as cubehelix,T2 as gray,et2 as hcl,I2 as hsl,U2 as lab,tt2 as lch,k2 as rgb};function u6(t,n,r,e,a){var o=t*t,u=o*t;return((1-3*t+3*o-u)*n+(4-6*o+3*u)*r+(1+3*t+3*o-3*u)*e+u*a)/6}function i5(t){var n=t.length-1;return function(r){var e=r<=0?r=0:r>=1?(r=1,n-1):Math.floor(r*n),a=t[e],o=t[e+1],i=e>0?t[e-1]:2*a-o,c=e<n-1?t[e+2]:2*o-a;return u6((r-e/n)*n,i,a,o,c)}}function c5(t){var n=t.length;return function(r){var e=Math.floor(((r%=1)<0?++r:r)*n),a=t[(e+n-1)%n],o=t[e%n],i=t[(e+1)%n],c=t[(e+2)%n];return u6((r-e/n)*n,a,o,i,c)}}var l5=t=>()=>t;function s6(t,n){return function(r){return t+r*n}}function f5(t,n){var r=n-t;return r?s6(t,r>180||r<-180?r-360*Math.round(r/360):r):l5(isNaN(t)?n:t)}function h5(t){return 1==(t=+t)?p3:function(n,r){return r-n?function(t,n,r){return t=Math.pow(t,r),n=Math.pow(n,r)-t,r=1/r,function(e){return Math.pow(t+e*n,r)}}(n,r,t):l5(isNaN(n)?r:n)}}function p3(t,n){var r=n-t;return r?s6(t,r):l5(isNaN(t)?n:t)}var v3=function n(r){var e=h5(r);function a(n,r){var a=e((n=k2(n)).r,(r=k2(r)).r),o=e(n.g,r.g),u=e(n.b,r.b),i=p3(n.opacity,r.opacity);return function(t){return n.r=a(t),n.g=o(t),n.b=u(t),n.opacity=i(t),n+""}}return a.gamma=n,a}(1);function g5(n){return function(r){var e,a,o=r.length,u=new Array(o),i=new Array(o),c=new Array(o);for(e=0;e<o;++e)a=k2(r[e]),u[e]=a.r||0,i[e]=a.g||0,c[e]=a.b||0;return u=n(u),i=n(i),c=n(c),a.opacity=1,function(t){return a.r=u(t),a.g=i(t),a.b=c(t),a+""}}}var M3=g5(i5),x3=g5(c5);function y3(t,n){n||(n=[]);var r,e=t?Math.min(n.length,t.length):0,a=n.slice();return function(o){for(r=0;r<e;++r)a[r]=t[r]*(1-o)+n[r]*o;return a}}function b3(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function w3(t,n){return(b3(n)?y3:m5)(t,n)}function m5(t,n){var r,e=n?n.length:0,a=t?Math.min(e,t.length):0,o=new Array(a),u=new Array(e);for(r=0;r<a;++r)o[r]=R3(t[r],n[r]);for(;r<e;++r)u[r]=n[r];return function(t){for(r=0;r<a;++r)u[r]=o[r](t);return u}}function d5(t,n){var r=new Date;return t=+t,n=+n,function(e){return r.setTime(t*(1-e)+n*e),r}}function X3(t,n){return t=+t,n=+n,function(r){return t*(1-r)+n*r}}function A3(t,n){var r,e={},a={};for(r in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)r in t?e[r]=R3(t[r],n[r]):a[r]=n[r];return function(t){for(r in e)a[r]=e[r](t);return a}}var N3=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Y3=new RegExp(N3.source,"g");function D3(t,n){var r,e,a,o=N3.lastIndex=Y3.lastIndex=0,u=-1,i=[],c=[];for(t+="",n+="";(r=N3.exec(t))&&(e=Y3.exec(n));)(a=e.index)>o&&(a=n.slice(o,a),i[u]?i[u]+=a:i[++u]=a),(r=r[0])===(e=e[0])?i[u]?i[u]+=e:i[++u]=e:(i[++u]=null,c.push({i:u,x:X3(r,e)})),o=Y3.lastIndex;return o<n.length&&(a=n.slice(o),i[u]?i[u]+=a:i[++u]=a),i.length<2?c[0]?function(t){return function(n){return t(n)+""}}(c[0].x):function(t){return function(){return t}}(n):(n=c.length,function(t){for(var r,e=0;e<n;++e)i[(r=c[e]).i]=r.x(t);return i.join("")})}function R3(t,r){var e,a=typeof r;return null==r||"boolean"===a?l5(r):("number"===a?X3:"string"===a?(e=y2(r))?(r=e,v3):D3:r instanceof y2?v3:r instanceof Date?d5:b3(r)?y3:Array.isArray(r)?m5:"function"!=typeof r.valueOf&&"function"!=typeof r.toString||isNaN(r)?A3:X3)(t,r)}function S3(t){var n=t.length;return function(r){return t[Math.max(0,Math.min(n-1,Math.floor(r*n)))]}}function k3(t,n){var r=f5(+t,+n);return function(t){var n=r(t);return n-360*Math.floor(n/360)}}function j3(t,n){return t=+t,n=+n,function(r){return Math.round(t*(1-r)+n*r)}}var q3,B3=180/Math.PI,C3={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function H3(t,n,r,e,a,o){var u,i,c;return(u=Math.sqrt(t*t+n*n))&&(t/=u,n/=u),(c=t*r+n*e)&&(r-=t*c,e-=n*c),(i=Math.sqrt(r*r+e*e))&&(r/=i,e/=i,c/=i),t*e<n*r&&(t=-t,n=-n,c=-c,u=-u),{translateX:a,translateY:o,rotate:Math.atan2(n,t)*B3,skewX:Math.atan(c)*B3,scaleX:u,scaleY:i}}function I3(t,n,r,e){function a(t){return t.length?t.pop()+" ":""}return function(o,u){var i=[],c=[];return o=t(o),u=t(u),function(t,e,a,o,u,i){if(t!==a||e!==o){var c=u.push("translate(",null,n,null,r);i.push({i:c-4,x:X3(t,a)},{i:c-2,x:X3(e,o)})}else(a||o)&&u.push("translate("+a+n+o+r)}(o.translateX,o.translateY,u.translateX,u.translateY,i,c),function(t,n,r,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:r.push(a(r)+"rotate(",null,e)-2,x:X3(t,n)})):n&&r.push(a(r)+"rotate("+n+e)}(o.rotate,u.rotate,i,c),function(t,n,r,o){t!==n?o.push({i:r.push(a(r)+"skewX(",null,e)-2,x:X3(t,n)}):n&&r.push(a(r)+"skewX("+n+e)}(o.skewX,u.skewX,i,c),function(t,n,r,e,o,u){if(t!==r||n!==e){var i=o.push(a(o)+"scale(",null,",",null,")");u.push({i:i-4,x:X3(t,r)},{i:i-2,x:X3(n,e)})}else 1===r&&1===e||o.push(a(o)+"scale("+r+","+e+")")}(o.scaleX,o.scaleY,u.scaleX,u.scaleY,i,c),o=u=null,function(t){for(var n,r=-1,e=c.length;++r<e;)i[(n=c[r]).i]=n.x(t);return i.join("")}}}var L3=I3((function(t){const n=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?C3:H3(n.a,n.b,n.c,n.d,n.e,n.f)}),"px, ","px)","deg)"),O3=I3((function(t){return null==t?C3:(q3||(q3=document.createElementNS("http://www.w3.org/2000/svg","g")),q3.setAttribute("transform",t),(t=q3.transform.baseVal.consolidate())?H3((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):C3)}),", ",")",")");function E3(t){return((t=Math.exp(t))+1/t)/2}var T3=function t(n,r,e){function a(t,a){var o,u,i=t[0],c=t[1],l=t[2],s=a[0],f=a[1],h=a[2],p=s-i,v=f-c,g=p*p+v*v;if(g<1e-12)u=Math.log(h/l)/n,o=function(t){return[i+t*p,c+t*v,l*Math.exp(n*t*u)]};else{var M=Math.sqrt(g),x=(h*h-l*l+e*g)/(2*l*r*M),y=(h*h-l*l-e*g)/(2*h*r*M),b=Math.log(Math.sqrt(x*x+1)-x),w=Math.log(Math.sqrt(y*y+1)-y);u=(w-b)/n,o=function(t){var e,a=t*u,o=E3(b),s=l/(r*M)*(o*(e=n*a+b,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(b));return[i+s*p,c+s*v,l*o/E3(n*a+b)]}}return o.duration=1e3*u*n/Math.SQRT2,o}return a.rho=function(n){var r=Math.max(.001,+n),e=r*r;return t(r,e,e*e)},a}(Math.SQRT2,2,4);function V3(t){return function(n,e){var a=t((n=I2(n)).h,(e=I2(e)).h),o=p3(n.s,e.s),u=p3(n.l,e.l),i=p3(n.opacity,e.opacity);return function(t){return n.h=a(t),n.s=o(t),n.l=u(t),n.opacity=i(t),n+""}}}var Q3=V3(f5),K3=V3(p3);function P3(t,n){var r=p3((t=U2(t)).l,(n=U2(n)).l),a=p3(t.a,n.a),o=p3(t.b,n.b),u=p3(t.opacity,n.opacity);return function(n){return t.l=r(n),t.a=a(n),t.b=o(n),t.opacity=u(n),t+""}}function W3(t){return function(n,r){var e=t((n=et2(n)).h,(r=et2(r)).h),o=p3(n.c,r.c),u=p3(n.l,r.l),i=p3(n.opacity,r.opacity);return function(t){return n.h=e(t),n.c=o(t),n.l=u(t),n.opacity=i(t),n+""}}}var Z3=W3(f5),z3=W3(p3);function F3(t){return function n(r){function e(n,e){var a=t((n=gt2(n)).h,(e=gt2(e)).h),u=p3(n.s,e.s),i=p3(n.l,e.l),c=p3(n.opacity,e.opacity);return function(t){return n.h=a(t),n.s=u(t),n.l=i(Math.pow(t,r)),n.opacity=c(t),n+""}}return r=+r,e.gamma=n,e}(1)}var G3=F3(f5),J3=F3(p3);function U3(t,n){void 0===n&&(n=t,t=R3);for(var r=0,e=n.length-1,a=n[0],o=new Array(e<0?0:e);r<e;)o[r]=t(a,a=n[++r]);return function(t){var n=Math.max(0,Math.min(e-1,Math.floor(t*=e)));return o[n](t-n)}}function $3(t,n){for(var r=new Array(n),e=0;e<n;++e)r[e]=t(e/(n-1));return r}export{R3 as interpolate,w3 as interpolateArray,i5 as interpolateBasis,c5 as interpolateBasisClosed,G3 as interpolateCubehelix,J3 as interpolateCubehelixLong,d5 as interpolateDate,S3 as interpolateDiscrete,Z3 as interpolateHcl,z3 as interpolateHclLong,Q3 as interpolateHsl,K3 as interpolateHslLong,k3 as interpolateHue,P3 as interpolateLab,X3 as interpolateNumber,y3 as interpolateNumberArray,A3 as interpolateObject,v3 as interpolateRgb,M3 as interpolateRgbBasis,x3 as interpolateRgbBasisClosed,j3 as interpolateRound,D3 as interpolateString,L3 as interpolateTransformCss,O3 as interpolateTransformSvg,T3 as interpolateZoom,U3 as piecewise,$3 as quantize};var t5,n5,e6=0,r7=0,o6=0,i6=1e3,a5=0,l6=0,u7=0,c6="object"==typeof performance&&performance.now?performance:Date,s7="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function f6(){return l6||(s7(_3),l6=c6.now()+u7)}function _3(){l6=0}function w4(){this._call=this._time=this._next=null}function m6(t,n,e){var r=new w4;return r.restart(t,n,e),r}function p4(){f6(),++e6;for(var n,r=t5;r;)(n=l6-r._time)>=0&&r._call.call(void 0,n),r=r._next;--e6}function h6(){l6=(a5=c6.now())+u7,e6=r7=0;try{p4()}finally{e6=0,function(){var e,r,o=t5,i=1/0;for(;o;)o._call?(i>o._time&&(i=o._time),e=o,o=o._next):(r=o._next,o._next=null,o=e?e._next=r:t5=r);n5=e,x4(i)}(),l6=0}}function v4(){var t=c6.now(),n=t-a5;n>i6&&(u7-=n,a5=t)}function x4(t){e6||(r7&&(r7=clearTimeout(r7)),t-l6>24?(t<1/0&&(r7=setTimeout(h6,t-c6.now()-u7)),o6&&(o6=clearInterval(o6))):(o6||(a5=c6.now(),o6=setInterval(v4,i6)),e6=1,s7(h6)))}function y4(t,n,e){var r=new w4;return n=null==n?0:+n,r.restart((e=>{r.stop(),t(e+n)}),n,e),r}function d6(t,n,e){var r=new w4,o=n;return null==n?(r.restart(t,n,e),r):(r._restart=r.restart,r.restart=function(t,n,e){n=+n,e=null==e?f6():+e,r._restart((function i(a){a+=o,r._restart(i,o+=n,e),t(a)}),n,e)},r.restart(t,n,e),r)}w4.prototype=m6.prototype={constructor:w4,restart:function(e,r,o){if("function"!=typeof e)throw new TypeError("callback is not a function");o=(null==o?f6():+o)+(null==r?0:+r),this._next||n5===this||(n5?n5._next=this:t5=this,n5=this),this._call=e,this._time=o,x4()},stop:function(){this._call&&(this._call=null,this._time=1/0,x4())}};export{d6 as interval,f6 as now,y4 as timeout,m6 as timer,p4 as timerFlush};const n6=n=>+n;function t6(n){return n*n}function e7(n){return n*(2-n)}function a6(n){return((n*=2)<=1?n*n:--n*(2-n)+1)/2}function u8(n){return n*n*n}function r8(n){return--n*n*n+1}function s8(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var o7=function n(t){function e(n){return Math.pow(n,t)}return t=+t,e.exponent=n,e}(3),i7=function n(t){function e(n){return 1-Math.pow(1-n,t)}return t=+t,e.exponent=n,e}(3),c7=function n(t){function e(n){return((n*=2)<=1?Math.pow(n,t):2-Math.pow(2-n,t))/2}return t=+t,e.exponent=n,e}(3),f7=Math.PI,h7=f7/2;function M4(n){return 1==+n?1:1-Math.cos(n*h7)}function p5(n){return Math.sin(n*h7)}function I4(n){return(1-Math.cos(f7*n))/2}function l7(n){return 1.0009775171065494*(Math.pow(2,-10*n)-.0009765625)}function O4(n){return l7(1-+n)}function x5(n){return 1-l7(n)}function d7(n){return((n*=2)<=1?l7(1-n):2-l7(n-1))/2}function v5(n){return 1-Math.sqrt(1-n*n)}function B4(n){return Math.sqrt(1- --n*n)}function C4(n){return((n*=2)<=1?1-Math.sqrt(1-n*n):Math.sqrt(1-(n-=2)*n)+1)/2}var E4=4/11,m7=6/11,P4=8/11,w5=3/4,b4=9/11,k4=10/11,q4=15/16,y5=21/22,Q4=63/64,S4=1/E4/E4;function L4(n){return 1-g6(1-n)}function g6(n){return(n=+n)<E4?S4*n*n:n<P4?S4*(n-=m7)*n+w5:n<k4?S4*(n-=b4)*n+q4:S4*(n-=y5)*n+Q4}function j4(n){return((n*=2)<=1?1-g6(1-n):g6(n-1)+1)/2}var z4=1.70158,A4=function n(t){function e(n){return(n=+n)*n*(t*(n-1)+n)}return t=+t,e.overshoot=n,e}(z4),D4=function n(t){function e(n){return--n*n*((n+1)*t+n)+1}return t=+t,e.overshoot=n,e}(z4),F4=function n(t){function e(n){return((n*=2)<1?n*n*((t+1)*n-t):(n-=2)*n*((t+1)*n+t)+2)/2}return t=+t,e.overshoot=n,e}(z4),G4=2*Math.PI,H4=function n(t,e){var a=Math.asin(1/(t=Math.max(1,t)))*(e/=G4);function u(n){return t*l7(- --n)*Math.sin((a-n)/e)}return u.amplitude=function(t){return n(t,e*G4)},u.period=function(e){return n(t,e)},u}(1,.3),J4=function n(t,e){var a=Math.asin(1/(t=Math.max(1,t)))*(e/=G4);function u(n){return 1-t*l7(n=+n)*Math.sin((n+a)/e)}return u.amplitude=function(t){return n(t,e*G4)},u.period=function(e){return n(t,e)},u}(1,.3),K4=function n(t,e){var a=Math.asin(1/(t=Math.max(1,t)))*(e/=G4);function u(n){return((n=2*n-1)<0?t*l7(-n)*Math.sin((a-n)/e):2-t*l7(n)*Math.sin((a+n)/e))/2}return u.amplitude=function(t){return n(t,e*G4)},u.period=function(e){return n(t,e)},u}(1,.3);export{F4 as easeBack,A4 as easeBackIn,F4 as easeBackInOut,D4 as easeBackOut,g6 as easeBounce,L4 as easeBounceIn,j4 as easeBounceInOut,g6 as easeBounceOut,C4 as easeCircle,v5 as easeCircleIn,C4 as easeCircleInOut,B4 as easeCircleOut,s8 as easeCubic,u8 as easeCubicIn,s8 as easeCubicInOut,r8 as easeCubicOut,J4 as easeElastic,H4 as easeElasticIn,K4 as easeElasticInOut,J4 as easeElasticOut,d7 as easeExp,O4 as easeExpIn,d7 as easeExpInOut,x5 as easeExpOut,n6 as easeLinear,c7 as easePoly,o7 as easePolyIn,c7 as easePolyInOut,i7 as easePolyOut,a6 as easeQuad,t6 as easeQuadIn,a6 as easeQuadInOut,e7 as easeQuadOut,I4 as easeSin,M4 as easeSinIn,I4 as easeSinInOut,p5 as easeSinOut};var m8=r3("start","end","cancel","interrupt"),y6=[],w6=0,g7=1,x6=2,A5=3,b5=4,E5=5,C5=6;function N4(t,n,e,r,i,o){var u=t.__transition;if(u){if(e in u)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function o(t){e.state=g7,e.timer.restart(u,e.delay,e.time),e.delay<=t&&u(t-e.delay)}function u(o){var a,c,h,_;if(e.state!==g7)return f();for(a in i)if((_=i[a]).name===e.name){if(_.state===A5)return y4(u);_.state===b5?(_.state=C5,_.timer.stop(),_.on.call("interrupt",t,t.__data__,_.index,_.group),delete i[a]):+a<n&&(_.state=C5,_.timer.stop(),_.on.call("cancel",t,t.__data__,_.index,_.group),delete i[a])}if(y4((function(){e.state===A5&&(e.state=b5,e.timer.restart(l,e.delay,e.time),l(o))})),e.state=x6,e.on.call("start",t,t.__data__,e.index,e.group),e.state===x6){for(e.state=A5,r=new Array(h=e.tween.length),a=0,c=-1;a<h;++a)(_=e.tween[a].value.call(t,t.__data__,e.index,e.group))&&(r[++c]=_);r.length=c+1}}function l(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(f),e.state=E5,1),o=-1,u=r.length;++o<u;)r[o].call(t,i);e.state===E5&&(e.on.call("end",t,t.__data__,e.index,e.group),f())}function f(){for(var r in e.state=C5,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=m6(o,0,e.time)}(t,e,{name:n,index:r,group:i,on:m8,tween:y6,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:w6})}function S5(t,n){var e=P5(t,n);if(e.state>w6)throw new Error("too late; already scheduled");return e}function T4(t,n){var e=P5(t,n);if(e.state>A5)throw new Error("too late; already running");return e}function P5(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function z5(t,n){var e,r,i,o=t.__transition,u=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>x6&&e.state<E5,e.state=C5,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete o[i]):u=!1;u&&delete t.__transition}}function k5(t,n){var e,r;return function(){var i=T4(this,t),o=i.tween;if(o!==e){for(var u=0,a=(r=e=o).length;u<a;++u)if(r[u].name===n){(r=r.slice()).splice(u,1);break}}i.tween=r}}function M5(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var o=T4(this,t),u=o.tween;if(u!==r){i=(r=u).slice();for(var a={name:n,value:e},s=0,l=i.length;s<l;++s)if(i[s].name===n){i[s]=a;break}s===l&&i.push(a)}o.tween=i}}function O5(t,n,e){var r=t._id;return t.each((function(){var t=T4(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)})),function(t){return P5(t,r).value[n]}}function V4(t,n){var e;return("number"==typeof n?X3:n instanceof y2?v3:(e=y2(n))?(n=e,v3):D3)(t,n)}function $4(t){return function(){this.removeAttribute(t)}}function j5(t){return function(){this.removeAttributeNS(t.space,t.local)}}function q5(t,n,e){var r,i,o=e+"";return function(){var u=this.getAttribute(t);return u===o?null:u===r?i:i=n(r=u,e)}}function B5(t,n,e){var r,i,o=e+"";return function(){var u=this.getAttributeNS(t.space,t.local);return u===o?null:u===r?i:i=n(r=u,e)}}function D5(t,n,e){var r,i,o;return function(){var u,a,s=e(this);if(null!=s)return(u=this.getAttribute(t))===(a=s+"")?null:u===r&&a===i?o:(i=a,o=n(r=u,s));this.removeAttribute(t)}}function F5(t,n,e){var r,i,o;return function(){var u,a,s=e(this);if(null!=s)return(u=this.getAttributeNS(t.space,t.local))===(a=s+"")?null:u===r&&a===i?o:(i=a,o=n(r=u,s));this.removeAttributeNS(t.space,t.local)}}function G5(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&function(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}(t,i)),e}return i._value=n,i}function H5(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&function(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}(t,i)),e}return i._value=n,i}function I5(t,n){return function(){S5(this,t).delay=+n.apply(this,arguments)}}function J5(t,n){return n=+n,function(){S5(this,t).delay=n}}function K5(t,n){return function(){T4(this,t).duration=+n.apply(this,arguments)}}function L5(t,n){return n=+n,function(){T4(this,t).duration=n}}var Q5=ft1.prototype.constructor;function R4(t){return function(){this.style.removeProperty(t)}}var U4=0;function W4(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function X4(t){return ft1().transition(t)}function Y4(){return++U4}var Z4=ft1.prototype;W4.prototype=X4.prototype={constructor:W4,select:function(t){var n=this._name,r=this._id;"function"!=typeof t&&(t=s3(t));for(var i=this._groups,o=i.length,u=new Array(o),a=0;a<o;++a)for(var s,l,f=i[a],c=f.length,h=u[a]=new Array(c),_=0;_<c;++_)(s=f[_])&&(l=t.call(s,s.__data__,_,f))&&("__data__"in s&&(l.__data__=s.__data__),h[_]=l,N4(h[_],n,r,_,h,P5(s,r)));return new W4(u,this._parents,n,r)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=l2(t));for(var i=this._groups,o=i.length,u=[],a=[],s=0;s<o;++s)for(var l,f=i[s],c=f.length,h=0;h<c;++h)if(l=f[h]){for(var _,p=t.call(l,l.__data__,h,f),v=P5(l,e),d=0,m=p.length;d<m;++d)(_=p[d])&&N4(_,n,e,d,p,v);u.push(p),a.push(l)}return new W4(u,a,n,e)},selectChild:Z4.selectChild,selectChildren:Z4.selectChildren,filter:function(t){"function"!=typeof t&&(t=f2(t));for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o)for(var u,a=e[o],s=a.length,l=i[o]=[],f=0;f<s;++f)(u=a[f])&&t.call(u,u.__data__,f,a)&&l.push(u);return new W4(i,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var s,l=n[a],f=e[a],c=l.length,h=u[a]=new Array(c),_=0;_<c;++_)(s=l[_]||f[_])&&(h[_]=s);for(;a<r;++a)u[a]=n[a];return new W4(u,this._parents,this._name,this._id)},selection:function(){return new Q5(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=Y4(),r=this._groups,i=r.length,o=0;o<i;++o)for(var u,a=r[o],s=a.length,l=0;l<s;++l)if(u=a[l]){var f=P5(u,n);N4(u,t,e,l,a,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new W4(r,this._parents,t,e)},call:Z4.call,nodes:Z4.nodes,node:Z4.node,size:Z4.size,empty:Z4.empty,each:Z4.each,on:function(t,n){var e=this._id;return arguments.length<2?P5(this.node(),e).on.on(t):this.each(function(t,n,e){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?S5:T4;return function(){var u=o(this,t),a=u.on;a!==r&&(i=(r=a).copy()).on(n,e),u.on=i}}(e,t,n))},attr:function(n,e){var r=e4(n),i="transform"===r?O3:V4;return this.attrTween(n,"function"==typeof e?(r.local?F5:D5)(r,i,O5(this,"attr."+n,e)):null==e?(r.local?j5:$4)(r):(r.local?B5:q5)(r,i,e))},attrTween:function(n,e){var r="attr."+n;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;var i=e4(n);return this.tween(r,(i.local?G5:H5)(i,e))},style:function(t,n,e){var r="transform"==(t+="")?L3:V4;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var u=D1(this,t),a=(this.style.removeProperty(t),D1(this,t));return u===a?null:u===e&&a===r?i:i=n(e=u,r=a)}}(t,r)).on("end.style."+t,R4(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var r,i,u;return function(){var a=D1(this,t),s=e(this),l=s+"";return null==s&&(this.style.removeProperty(t),l=s=D1(this,t)),a===l?null:a===r&&l===i?u:(i=l,u=n(r=a,s))}}(t,r,O5(this,"style."+t,n))).each(function(t,n){var e,r,i,o,u="style."+n,a="end."+u;return function(){var s=T4(this,t),l=s.on,f=null==s.value[u]?o||(o=R4(n)):void 0;l===e&&i===f||(r=(e=l).copy()).on(a,i=f),s.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,i,u=e+"";return function(){var a=D1(this,t);return a===u?null:a===r?i:i=n(r=a,e)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,function(t,n,e){var r,i;function o(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&function(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}(t,o,e)),r}return o._value=n,o}(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(O5(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,function(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&function(t){return function(n){this.textContent=t.call(this,n)}}(r)),n}return r._value=t,r}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=P5(this.node(),e).tween,o=0,u=i.length;o<u;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?k5:M5)(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?I5:J5)(n,t)):P5(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?K5:L5)(n,t)):P5(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(function(t,n){if("function"!=typeof n)throw new Error;return function(){T4(this,t).ease=n}}(n,t)):P5(this.node(),n).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,n){return function(){var e=n.apply(this,arguments);if("function"!=typeof e)throw new Error;T4(this,t).ease=e}}(this._id,t))},end:function(){var t,n,e=this,r=e._id,i=e.size();return new Promise((function(o,u){var a={value:u},s={value:function(){0==--i&&o()}};e.each((function(){var e=T4(this,r),i=e.on;i!==t&&((n=(t=i).copy())._.cancel.push(a),n._.interrupt.push(a),n._.end.push(s)),e.on=n})),0===i&&o()}))},[Symbol.iterator]:Z4[Symbol.iterator]};var tt3={time:null,delay:0,duration:250,ease:s8};function nt3(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}ft1.prototype.interrupt=function(t){return this.each((function(){z5(this,t)}))},ft1.prototype.transition=function(t){var n,e;t instanceof W4?(n=t._id,t=t._name):(n=Y4(),(e=tt3).time=f6(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var u,a=r[o],s=a.length,f=0;f<s;++f)(u=a[f])&&N4(u,t,n,f,a,e||nt3(u,n));return new W4(r,this._parents,t,n)};var et3=[null];function rt3(t,n){var e,r,i=t.__transition;if(i){for(r in n=null==n?null:n+"",i)if((e=i[r]).state>g7&&e.name===n)return new W4([[t]],et3,n,+r)}return null}export{rt3 as active,z5 as interrupt,X4 as transition};var o8=t=>()=>t;function a7(t,{sourceEvent:e,target:n,selection:r,mode:s,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:s,enumerable:!0,configurable:!0},_:{value:i}})}function l8(t){t.preventDefault(),t.stopImmediatePropagation()}var c8={name:"drag"},h8={name:"space"},f8={name:"handle"},p6={name:"center"};const{abs:m9,max:d8,min:v6}=Math;function y7(t){return[+t[0],+t[1]]}function b6(t){return[y7(t[0]),y7(t[1])]}var w7={name:"x",handles:["w","e"].map(K6),input:function(t,e){return null==t?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},g8={name:"y",handles:["n","s"].map(K6),input:function(t,e){return null==t?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},_4={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(K6),input:function(t){return null==t?null:b6(t)},output:function(t){return t}},x7={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},k6={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},z6={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},A6={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},E6={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function K6(t){return{type:t}}function P6(t){return!t.ctrlKey&&!t.button}function T5(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function V5(){return navigator.maxTouchPoints||"ontouchstart"in this}function B6(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function C6(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function I6(){return j6(w7)}function M6(){return j6(g8)}function S6(){return j6(_4)}function j6(y){var _,C=T5,I=P6,M=V5,S=!0,j=r3("start","brush","end"),D=6;function G(t){var e=t.property("__brush",L).selectAll(".overlay").data([K6("overlay")]);e.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",x7.overlay).merge(e).each((function(){var t=B6(this).extent;ht1(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])})),t.selectAll(".selection").data([K6("selection")]).enter().append("rect").attr("class","selection").attr("cursor",x7.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var n=t.selectAll(".handle").data(y.handles,(function(t){return t.type}));n.exit().remove(),n.enter().append("rect").attr("class",(function(t){return"handle handle--"+t.type})).attr("cursor",(function(t){return x7[t.type]})),t.each(N).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",F).filter(M).on("touchstart.brush",F).on("touchmove.brush",H).on("touchend.brush touchcancel.brush",J).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function N(){var t=ht1(this),e=B6(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",(function(t){return"e"===t.type[t.type.length-1]?e[1][0]-D/2:e[0][0]-D/2})).attr("y",(function(t){return"s"===t.type[0]?e[1][1]-D/2:e[0][1]-D/2})).attr("width",(function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+D:D})).attr("height",(function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+D:D}))):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function O(t,e,n){var r=t.__brush.emitter;return!r||n&&r.clean?new q(t,e,n):r}function q(t,e,n){this.that=t,this.args=e,this.state=t.__brush,this.active=0,this.clean=n}function F(t){if((!_||t.touches)&&I.apply(this,arguments)){var r,o,a,b,K,P,T,V,C,M,j,D=this,G=t.target.__data__.type,q="selection"===(S&&t.metaKey?G="overlay":G)?c8:S&&t.altKey?p6:f8,F=y===g8?null:A6[G],H=y===w7?null:E6[G],J=B6(D),L=J.extent,Q=J.selection,R=L[0][0],U=L[0][1],W=L[1][0],X=L[1][1],Y=0,Z=0,$=F&&H&&S&&t.shiftKey,tt=Array.from(t.touches||[t],(t=>{const e=t.identifier;return(t=mt1(t,D)).point0=t.slice(),t.identifier=e,t}));z5(D);var et=O(D,arguments,!0).beforestart();if("overlay"===G){Q&&(C=!0);const e=[tt[0],tt[1]||tt[0]];J.selection=Q=[[r=y===g8?R:v6(e[0][0],e[1][0]),a=y===w7?U:v6(e[0][1],e[1][1])],[K=y===g8?W:d8(e[0][0],e[1][0]),T=y===w7?X:d8(e[0][1],e[1][1])]],tt.length>1&&ut(t)}else r=Q[0][0],a=Q[0][1],K=Q[1][0],T=Q[1][1];o=r,b=a,P=K,V=T;var nt=ht1(D).attr("pointer-events","none"),rt=nt.selectAll(".overlay").attr("cursor",x7[G]);if(t.touches)et.moved=it,et.ended=ot;else{var st=ht1(t.view).on("mousemove.brush",it,!0).on("mouseup.brush",ot,!0);S&&st.on("keydown.brush",(function(t){switch(t.keyCode){case 16:$=F&&H;break;case 18:q===f8&&(F&&(K=P-Y*F,r=o+Y*F),H&&(T=V-Z*H,a=b+Z*H),q=p6,ut(t));break;case 32:q!==f8&&q!==p6||(F<0?K=P-Y:F>0&&(r=o-Y),H<0?T=V-Z:H>0&&(a=b-Z),q=h8,rt.attr("cursor",x7.selection),ut(t));break;default:return}l8(t)}),!0).on("keyup.brush",(function(t){switch(t.keyCode){case 16:$&&(M=j=$=!1,ut(t));break;case 18:q===p6&&(F<0?K=P:F>0&&(r=o),H<0?T=V:H>0&&(a=b),q=f8,ut(t));break;case 32:q===h8&&(t.altKey?(F&&(K=P-Y*F,r=o+Y*F),H&&(T=V-Z*H,a=b+Z*H),q=p6):(F<0?K=P:F>0&&(r=o),H<0?T=V:H>0&&(a=b),q=f8),rt.attr("cursor",x7[G]),ut(t));break;default:return}l8(t)}),!0),u4(t.view)}N.call(D),et.start(t,q.name)}function it(t){for(const e of t.changedTouches||[t])for(const t of tt)t.identifier===e.identifier&&(t.cur=mt1(e,D));if($&&!M&&!j&&1===tt.length){const t=tt[0];m9(t.cur[0]-t[0])>m9(t.cur[1]-t[1])?j=!0:M=!0}for(const t of tt)t.cur&&(t[0]=t.cur[0],t[1]=t.cur[1]);C=!0,l8(t),ut(t)}function ut(t){const e=tt[0],n=e.point0;var s;switch(Y=e[0]-n[0],Z=e[1]-n[1],q){case h8:case c8:F&&(Y=d8(R-r,v6(W-K,Y)),o=r+Y,P=K+Y),H&&(Z=d8(U-a,v6(X-T,Z)),b=a+Z,V=T+Z);break;case f8:tt[1]?(F&&(o=d8(R,v6(W,tt[0][0])),P=d8(R,v6(W,tt[1][0])),F=1),H&&(b=d8(U,v6(X,tt[0][1])),V=d8(U,v6(X,tt[1][1])),H=1)):(F<0?(Y=d8(R-r,v6(W-r,Y)),o=r+Y,P=K):F>0&&(Y=d8(R-K,v6(W-K,Y)),o=r,P=K+Y),H<0?(Z=d8(U-a,v6(X-a,Z)),b=a+Z,V=T):H>0&&(Z=d8(U-T,v6(X-T,Z)),b=a,V=T+Z));break;case p6:F&&(o=d8(R,v6(W,r-Y*F)),P=d8(R,v6(W,K+Y*F))),H&&(b=d8(U,v6(X,a-Z*H)),V=d8(U,v6(X,T+Z*H)))}P<o&&(F*=-1,s=r,r=K,K=s,s=o,o=P,P=s,G in k6&&rt.attr("cursor",x7[G=k6[G]])),V<b&&(H*=-1,s=a,a=T,T=s,s=b,b=V,V=s,G in z6&&rt.attr("cursor",x7[G=z6[G]])),J.selection&&(Q=J.selection),M&&(o=Q[0][0],P=Q[1][0]),j&&(b=Q[0][1],V=Q[1][1]),Q[0][0]===o&&Q[0][1]===b&&Q[1][0]===P&&Q[1][1]===V||(J.selection=[[o,b],[P,V]],N.call(D),et.brush(t,q.name))}function ot(t){if(function(t){t.stopImmediatePropagation()}(t),t.touches){if(t.touches.length)return;_&&clearTimeout(_),_=setTimeout((function(){_=null}),500)}else c3(t.view,C),st.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);nt.attr("pointer-events","all"),rt.attr("cursor",x7.overlay),J.selection&&(Q=J.selection),function(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}(Q)&&(J.selection=null,N.call(D)),et.end(t,q.name)}}function H(t){O(this,arguments).moved(t)}function J(t){O(this,arguments).ended(t)}function L(){var t=this.__brush||{selection:null};return t.extent=b6(C.apply(this,arguments)),t.dim=y,t}return G.move=function(t,e,n){t.tween?t.on("start.brush",(function(t){O(this,arguments).beforestart().start(t)})).on("interrupt.brush end.brush",(function(t){O(this,arguments).end(t)})).tween("brush",(function(){var t=this,n=t.__brush,s=O(t,arguments),i=n.selection,u=y.input("function"==typeof e?e.apply(this,arguments):e,n.extent),o=R3(i,u);function a(e){n.selection=1===e&&null===u?null:o(e),N.call(t),s.brush()}return null!==i&&null!==u?a:a(1)})):t.each((function(){var t=this,r=arguments,s=t.__brush,i=y.input("function"==typeof e?e.apply(t,r):e,s.extent),o=O(t,r).beforestart();z5(t),s.selection=null===i?null:i,N.call(t),o.start(n).brush(n).end(n)}))},G.clear=function(t,e){G.move(t,null,e)},q.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(t,e){return this.starting?(this.starting=!1,this.emit("start",t,e)):this.emit("brush",t),this},brush:function(t,e){return this.emit("brush",t,e),this},end:function(t,e){return 0==--this.active&&(delete this.state.emitter,this.emit("end",t,e)),this},emit:function(t,e,n){var r=ht1(this.that).datum();j.call(t,this.that,new a7(t,{sourceEvent:e,target:G,selection:y.output(this.state.selection),mode:n,dispatch:j}),r)}},G.extent=function(t){return arguments.length?(C="function"==typeof t?t:o8(b6(t)),G):C},G.filter=function(t){return arguments.length?(I="function"==typeof t?t:o8(!!t),G):I},G.touchable=function(t){return arguments.length?(M="function"==typeof t?t:o8(!!t),G):M},G.handleSize=function(t){return arguments.length?(D=+t,G):D},G.keyModifiers=function(t){return arguments.length?(S=!!t,G):S},G.on=function(){var t=j.on.apply(j,arguments);return t===j?G:t},G}export{S6 as brush,C6 as brushSelection,I6 as brushX,M6 as brushY};const t7=Math.PI,i8=2*t7,h9=1e-6,s9=i8-h9;function _5(t){this._+=t[0];for(let i=1,h=t.length;i<h;++i)this._+=arguments[i]+t[i]}class e8{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?_5:function(t){let i=Math.floor(t);if(!(i>=0))throw new Error(`invalid digits: ${t}`);if(i>15)return _5;const h=10**i;return function(t){this._+=t[0];for(let i=1,s=t.length;i<s;++i)this._+=Math.round(arguments[i]*h)/h+t[i]}}(t)}moveTo(t,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+i}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,i){this._append`L${this._x1=+t},${this._y1=+i}`}quadraticCurveTo(t,i,h,s){this._append`Q${+t},${+i},${this._x1=+h},${this._y1=+s}`}bezierCurveTo(t,i,h,s,_,e){this._append`C${+t},${+i},${+h},${+s},${this._x1=+_},${this._y1=+e}`}arcTo(i,s,_,e,n){if(i=+i,s=+s,_=+_,e=+e,(n=+n)<0)throw new Error(`negative radius: ${n}`);let $=this._x1,a=this._y1,r=_-i,o=e-s,p=$-i,l=a-s,u=p*p+l*l;if(null===this._x1)this._append`M${this._x1=i},${this._y1=s}`;else if(u>1e-6)if(Math.abs(l*r-o*p)>1e-6&&n){let x=_-$,d=e-a,y=r*r+o*o,M=x*x+d*d,c=Math.sqrt(y),f=Math.sqrt(u),w=n*Math.tan((t7-Math.acos((y+u-M)/(2*c*f)))/2),v=w/f,g=w/c;Math.abs(v-1)>1e-6&&this._append`L${i+v*p},${s+v*l}`,this._append`A${n},${n},0,0,${+(l*x>p*d)},${this._x1=i+g*r},${this._y1=s+g*o}`}else this._append`L${this._x1=i},${this._y1=s}`;else;}arc(_,e,n,$,a,r){if(_=+_,e=+e,r=!!r,(n=+n)<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos($),p=n*Math.sin($),l=_+o,u=e+p,x=1^r,d=r?$-a:a-$;null===this._x1?this._append`M${l},${u}`:(Math.abs(this._x1-l)>1e-6||Math.abs(this._y1-u)>1e-6)&&this._append`L${l},${u}`,n&&(d<0&&(d=d%i8+i8),d>s9?this._append`A${n},${n},0,1,${x},${_-o},${e-p}A${n},${n},0,1,${x},${this._x1=l},${this._y1=u}`:d>1e-6&&this._append`A${n},${n},0,${+(d>=t7)},${x},${this._x1=_+n*Math.cos(a)},${this._y1=e+n*Math.sin(a)}`)}rect(t,i,h,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+i}h${h=+h}v${+s}h${-h}Z`}toString(){return this._}}function n7(){return new e8}function $5(t=3){return new e8(+t)}n7.prototype=e8.prototype;export{e8 as Path,n7 as path,$5 as pathRound};var t8=Math.abs,e9=Math.cos,r9=Math.sin,u9=Math.PI,l9=u9/2,o9=2*u9,a8=Math.max,i9=1e-12;function c9(n,t){return Array.from({length:t-n},((t,e)=>n+e))}function f9(){return p7(!1,!1)}function s10(){return p7(!1,!0)}function g9(){return p7(!0,!1)}function p7(n,t){var e=0,r=null,u=null,l=null;function i(i){var f,s=i.length,g=new Array(s),p=c9(0,s),h=new Array(s*s),d=new Array(s),v=0;i=Float64Array.from({length:s*s},t?(n,t)=>i[t%s][t/s|0]:(n,t)=>i[t/s|0][t%s]);for(let t=0;t<s;++t){let e=0;for(let r=0;r<s;++r)e+=i[t*s+r]+n*i[r*s+t];v+=g[t]=e}f=(v=a8(0,o9-e*s)/v)?e:o9/s;{let t=0;r&&p.sort(((n,t)=>r(g[n],g[t])));for(const e of p){const r=t;if(n){const n=c9(1+~s,s).filter((n=>n<0?i[~n*s+e]:i[e*s+n]));u&&n.sort(((n,t)=>u(n<0?-i[~n*s+e]:i[e*s+n],t<0?-i[~t*s+e]:i[e*s+t])));for(const r of n)if(r<0){(h[~r*s+e]||(h[~r*s+e]={source:null,target:null})).target={index:e,startAngle:t,endAngle:t+=i[~r*s+e]*v,value:i[~r*s+e]}}else{(h[e*s+r]||(h[e*s+r]={source:null,target:null})).source={index:e,startAngle:t,endAngle:t+=i[e*s+r]*v,value:i[e*s+r]}}d[e]={index:e,startAngle:r,endAngle:t,value:g[e]}}else{const n=c9(0,s).filter((n=>i[e*s+n]||i[n*s+e]));u&&n.sort(((n,t)=>u(i[e*s+n],i[e*s+t])));for(const r of n){let n;if(e<r?(n=h[e*s+r]||(h[e*s+r]={source:null,target:null}),n.source={index:e,startAngle:t,endAngle:t+=i[e*s+r]*v,value:i[e*s+r]}):(n=h[r*s+e]||(h[r*s+e]={source:null,target:null}),n.target={index:e,startAngle:t,endAngle:t+=i[e*s+r]*v,value:i[e*s+r]},e===r&&(n.source=n.target)),n.source&&n.target&&n.source.value<n.target.value){const t=n.source;n.source=n.target,n.target=t}}d[e]={index:e,startAngle:r,endAngle:t,value:g[e]}}t+=f}}return(h=Object.values(h)).groups=d,l?h.sort(l):h}return i.padAngle=function(n){return arguments.length?(e=a8(0,n),i):e},i.sortGroups=function(n){return arguments.length?(r=n,i):r},i.sortSubgroups=function(n){return arguments.length?(u=n,i):u},i.sortChords=function(n){return arguments.length?(null==n?l=null:(t=n,l=function(n,e){return t(n.source.value+n.target.value,e.source.value+e.target.value)})._=n,i):l&&l._;var t},i}var h10=Array.prototype.slice;function d9(n){return function(){return n}}function v7(n){return n.source}function y8(n){return n.target}function A7(n){return n.radius}function x8(n){return n.startAngle}function m10(n){return n.endAngle}function T6(){return 0}function b7(){return 10}function M7(u){var o=v7,a=y8,c=A7,f=A7,s=x8,g=m10,p=T6,b=null;function M(){var d,v=o.apply(this,arguments),y=a.apply(this,arguments),A=p.apply(this,arguments)/2,x=h10.call(arguments),m=+c.apply(this,(x[0]=v,x)),T=s.apply(this,x)-l9,M=g.apply(this,x)-l9,C=+f.apply(this,(x[0]=y,x)),q=s.apply(this,x)-l9,w=g.apply(this,x)-l9;if(b||(b=d=n7()),A>i9&&(t8(M-T)>2*A+i9?M>T?(T+=A,M-=A):(T-=A,M+=A):T=M=(T+M)/2,t8(w-q)>2*A+i9?w>q?(q+=A,w-=A):(q-=A,w+=A):q=w=(q+w)/2),b.moveTo(m*e9(T),m*r9(T)),b.arc(0,0,m,T,M),T!==q||M!==w)if(u){var R=C-+u.apply(this,arguments),P=(q+w)/2;b.quadraticCurveTo(0,0,R*e9(q),R*r9(q)),b.lineTo(C*e9(P),C*r9(P)),b.lineTo(R*e9(w),R*r9(w))}else b.quadraticCurveTo(0,0,C*e9(q),C*r9(q)),b.arc(0,0,C,q,w);if(b.quadraticCurveTo(0,0,m*e9(T),m*r9(T)),b.closePath(),d)return b=null,d+""||null}return u&&(M.headRadius=function(n){return arguments.length?(u="function"==typeof n?n:d9(+n),M):u}),M.radius=function(n){return arguments.length?(c=f="function"==typeof n?n:d9(+n),M):c},M.sourceRadius=function(n){return arguments.length?(c="function"==typeof n?n:d9(+n),M):c},M.targetRadius=function(n){return arguments.length?(f="function"==typeof n?n:d9(+n),M):f},M.startAngle=function(n){return arguments.length?(s="function"==typeof n?n:d9(+n),M):s},M.endAngle=function(n){return arguments.length?(g="function"==typeof n?n:d9(+n),M):g},M.padAngle=function(n){return arguments.length?(p="function"==typeof n?n:d9(+n),M):p},M.source=function(n){return arguments.length?(o=n,M):o},M.target=function(n){return arguments.length?(a=n,M):a},M.context=function(n){return arguments.length?(b=null==n?null:n,M):b},M}function C7(){return M7()}function q6(){return M7(b7)}export{f9 as chord,g9 as chordDirected,s10 as chordTranspose,C7 as ribbon,q6 as ribbonArrow};var u10=Array.prototype.slice;function a9(r,n){return r-n}var f10=r=>()=>r;function c10(r,n){for(var t,o=-1,e=n.length;++o<e;)if(t=h11(r,n[o]))return t;return 0}function h11(r,n){for(var t=n[0],o=n[1],e=-1,i=0,u=r.length,a=u-1;i<u;a=i++){var f=r[i],c=f[0],h=f[1],l=r[a],d=l[0],g=l[1];if(s11(f,l,n))return 0;h>o!=g>o&&t<(d-c)*(o-h)/(g-h)+c&&(e=-e)}return e}function s11(r,n,t){var o,e,i,u;return function(r,n,t){return(n[0]-r[0])*(t[1]-r[1])==(t[0]-r[0])*(n[1]-r[1])}(r,n,t)&&(e=r[o=+(r[0]===n[0])],i=t[o],u=n[o],e<=i&&i<=u||u<=i&&i<=e)}function l10(){}var d10=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function g10(){var e=1,i=1,h=ot,s=A;function g(r){var e=h(r);if(Array.isArray(e))e=e.slice().sort(a9);else{const i=T(r,v8);for(e=$(...rt(i[0],i[1],e),e);e[e.length-1]>=i[1];)e.pop();for(;e[1]<i[0];)e.shift()}return e.map((n=>E(r,n)))}function E(r,n){const t=null==n?NaN:+n;if(isNaN(t))throw new Error(`invalid value: ${n}`);var o=[],u=[];return function(r,n,t){var o,u,a,f,c,h,s=new Array,l=new Array;o=u=-1,f=p8(r[0],n),d10[f<<1].forEach(g);for(;++o<e-1;)a=f,f=p8(r[o+1],n),d10[a|f<<1].forEach(g);d10[f<<0].forEach(g);for(;++u<i-1;){for(o=-1,f=p8(r[u*e+e],n),c=p8(r[u*e],n),d10[f<<1|c<<2].forEach(g);++o<e-1;)a=f,f=p8(r[u*e+e+o+1],n),h=c,c=p8(r[u*e+o+1],n),d10[a|f<<1|c<<2|h<<3].forEach(g);d10[f|c<<3].forEach(g)}o=-1,c=r[u*e]>=n,d10[c<<2].forEach(g);for(;++o<e-1;)h=c,c=p8(r[u*e+o+1],n),d10[c<<2|h<<3].forEach(g);function g(r){var n,e,i=[r[0][0]+o,r[0][1]+u],a=[r[1][0]+o,r[1][1]+u],f=M(i),c=M(a);(n=l[f])?(e=s[c])?(delete l[n.end],delete s[e.start],n===e?(n.ring.push(a),t(n.ring)):s[n.start]=l[e.end]={start:n.start,end:e.end,ring:n.ring.concat(e.ring)}):(delete l[n.end],n.ring.push(a),l[n.end=c]=n):(n=s[c])?(e=l[f])?(delete s[n.start],delete l[e.end],n===e?(n.ring.push(a),t(n.ring)):s[e.start]=l[n.end]={start:e.start,end:n.end,ring:e.ring.concat(n.ring)}):(delete s[n.start],n.ring.unshift(i),s[n.start=f]=n):s[f]=l[c]={start:f,end:c,ring:[i,a]}}d10[c<<3].forEach(g)}(r,t,(function(n){s(n,r,t),function(r){for(var n=0,t=r.length,o=r[t-1][1]*r[0][0]-r[t-1][0]*r[0][1];++n<t;)o+=r[n-1][1]*r[n][0]-r[n-1][0]*r[n][1];return o}(n)>0?o.push([n]):u.push(n)})),u.forEach((function(r){for(var n,t=0,e=o.length;t<e;++t)if(-1!==c10((n=o[t])[0],r))return void n.push(r)})),{type:"MultiPolygon",value:n,coordinates:o}}function M(r){return 2*r[0]+r[1]*(e+1)*4}function A(r,n,t){r.forEach((function(r){var o=r[0],u=r[1],a=0|o,f=0|u,c=y9(n[f*e+a]);o>0&&o<e&&a===o&&(r[0]=w8(o,y9(n[f*e+a-1]),c,t)),u>0&&u<i&&f===u&&(r[1]=w8(u,y9(n[(f-1)*e+a]),c,t))}))}return g.contour=E,g.size=function(r){if(!arguments.length)return[e,i];var n=Math.floor(r[0]),t=Math.floor(r[1]);if(!(n>=0&&t>=0))throw new Error("invalid size");return e=n,i=t,g},g.thresholds=function(r){return arguments.length?(h="function"==typeof r?r:Array.isArray(r)?f10(u10.call(r)):f10(r),g):h},g.smooth=function(r){return arguments.length?(s=r?A:l10,g):s===A},g}function v8(r){return isFinite(r)?r:NaN}function p8(r,n){return null!=r&&+r>=n}function y9(r){return null==r||isNaN(r=+r)?-1/0:r}function w8(r,n,t,o){const e=o-n,i=t-n,u=isFinite(e)||isFinite(i)?e/i:Math.sign(e)/Math.sign(i);return isNaN(u)?r:r+u-.5}function E7(r){return r[0]}function M8(r){return r[1]}function A8(){return 1}function N5(){var r=E7,n=M8,o=A8,a=960,c=500,h1=20,s=2,l=3*h1,d=a+2*l>>s,v=c+2*l>>s,p=f10(20);function y(t){var i=new Float32Array(d*v),u=Math.pow(2,-s),a=-1;for(const e of t){var f=(r(e,++a,t)+l)*u,c=(n(e,a,t)+l)*u,g=+o(e,a,t);if(g&&f>=0&&f<d&&c>=0&&c<v){var p=Math.floor(f),y=Math.floor(c),w=f-p-.5,E=c-y-.5;i[p+y*d]+=(1-w)*(1-E)*g,i[p+1+y*d]+=w*(1-E)*g,i[p+1+(y+1)*d]+=w*E*g,i[p+(y+1)*d]+=(1-w)*E*g}}return h({data:i,width:d,height:v},h1*u),i}function w(r){var n=y(r),o=p(n),e=Math.pow(2,2*s);return Array.isArray(o)||(o=$(Number.MIN_VALUE,ft(n)/e,o)),g10().size([d,v]).thresholds(o.map((r=>r*e)))(n).map(((r,n)=>(r.value=+o[n],N(r))))}function N(r){return r.coordinates.forEach(m),r}function m(r){r.forEach(z)}function z(r){r.forEach(b)}function b(r){r[0]=r[0]*Math.pow(2,s)-l,r[1]=r[1]*Math.pow(2,s)-l}function x(){return d=a+2*(l=3*h1)>>s,v=c+2*l>>s,w}return w.contours=function(r){var n=y(r),t=g10().size([d,v]),o=Math.pow(2,2*s),e=r=>{r=+r;var e=N(t.contour(n,r*o));return e.value=r,e};return Object.defineProperty(e,"max",{get:()=>ft(n)/o}),e},w.x=function(n){return arguments.length?(r="function"==typeof n?n:f10(+n),w):r},w.y=function(r){return arguments.length?(n="function"==typeof r?r:f10(+r),w):n},w.weight=function(r){return arguments.length?(o="function"==typeof r?r:f10(+r),w):o},w.size=function(r){if(!arguments.length)return[a,c];var n=+r[0],t=+r[1];if(!(n>=0&&t>=0))throw new Error("invalid size");return a=n,c=t,x()},w.cellSize=function(r){if(!arguments.length)return 1<<s;if(!((r=+r)>=1))throw new Error("invalid cell size");return s=Math.floor(Math.log(r)/Math.LN2),x()},w.thresholds=function(r){return arguments.length?(p="function"==typeof r?r:Array.isArray(r)?f10(u10.call(r)):f10(r),w):p},w.bandwidth=function(r){if(!arguments.length)return Math.sqrt(h1*(h1+1));if(!((r=+r)>=0))throw new Error("invalid bandwidth");return h1=(Math.sqrt(4*r*r+1)-1)/2,x()},w}export{N5 as contourDensity,g10 as contours};const t9=11102230246251565e-32,n8=134217729,r10=(3+8*t9)*t9;function s12(t,n,r,s,a){let e,o,c,u,f=n[0],i=s[0],b=0,h=0;i>f==i>-f?(e=f,f=n[++b]):(e=i,i=s[++h]);let M=0;if(b<t&&h<r)for(i>f==i>-f?(o=f+e,c=e-(o-f),f=n[++b]):(o=i+e,c=e-(o-i),i=s[++h]),e=o,0!==c&&(a[M++]=c);b<t&&h<r;)i>f==i>-f?(o=e+f,u=o-e,c=e-(o-u)+(f-u),f=n[++b]):(o=e+i,u=o-e,c=e-(o-u)+(i-u),i=s[++h]),e=o,0!==c&&(a[M++]=c);for(;b<t;)o=e+f,u=o-e,c=e-(o-u)+(f-u),f=n[++b],e=o,0!==c&&(a[M++]=c);for(;h<r;)o=e+i,u=o-e,c=e-(o-u)+(i-u),i=s[++h],e=o,0!==c&&(a[M++]=c);return 0===e&&0!==M||(a[M++]=e),M}function c11(t,n){let r=n[0];for(let s=1;s<t;s++)r+=n[s];return r}function u11(t){return new Float64Array(t)}const i10=11093356479670487e-47,b8=u11(4),h12=u11(8),M9=u11(12),l11=u11(16),p9=u11(4);function x9(t,a,e,o,u,x){const d=(a-x)*(e-u),w=(t-u)*(o-x),y=d-w,A=Math.abs(d+w);return Math.abs(y)>=33306690738754716e-32*A?y:-function(t,a,e,o,u,x,d){let w,y,A,F,g,j,k,m,q,v,z,B,C,D,E,G,H,I;const J=t-u,K=e-u,L=a-x,N=o-x;D=J*N,j=n8*J,k=j-(j-J),m=J-k,j=n8*N,q=j-(j-N),v=N-q,E=m*v-(D-k*q-m*q-k*v),G=L*K,j=n8*L,k=j-(j-L),m=L-k,j=n8*K,q=j-(j-K),v=K-q,H=m*v-(G-k*q-m*q-k*v),z=E-H,g=E-z,b8[0]=E-(z+g)+(g-H),B=D+z,g=B-D,C=D-(B-g)+(z-g),z=C-G,g=C-z,b8[1]=C-(z+g)+(g-G),I=B+z,g=I-B,b8[2]=B-(I-g)+(z-g),b8[3]=I;let O=c11(4,b8),P=22204460492503146e-32*d;if(O>=P||-O>=P)return O;if(g=t-J,w=t-(J+g)+(g-u),g=e-K,A=e-(K+g)+(g-u),g=a-L,y=a-(L+g)+(g-x),g=o-N,F=o-(N+g)+(g-x),0===w&&0===y&&0===A&&0===F)return O;if(P=i10*d+r10*Math.abs(O),O+=J*F+N*w-(L*A+K*y),O>=P||-O>=P)return O;D=w*N,j=n8*w,k=j-(j-w),m=w-k,j=n8*N,q=j-(j-N),v=N-q,E=m*v-(D-k*q-m*q-k*v),G=y*K,j=n8*y,k=j-(j-y),m=y-k,j=n8*K,q=j-(j-K),v=K-q,H=m*v-(G-k*q-m*q-k*v),z=E-H,g=E-z,p9[0]=E-(z+g)+(g-H),B=D+z,g=B-D,C=D-(B-g)+(z-g),z=C-G,g=C-z,p9[1]=C-(z+g)+(g-G),I=B+z,g=I-B,p9[2]=B-(I-g)+(z-g),p9[3]=I;const Q=s12(4,b8,4,p9,h12);D=J*F,j=n8*J,k=j-(j-J),m=J-k,j=n8*F,q=j-(j-F),v=F-q,E=m*v-(D-k*q-m*q-k*v),G=L*A,j=n8*L,k=j-(j-L),m=L-k,j=n8*A,q=j-(j-A),v=A-q,H=m*v-(G-k*q-m*q-k*v),z=E-H,g=E-z,p9[0]=E-(z+g)+(g-H),B=D+z,g=B-D,C=D-(B-g)+(z-g),z=C-G,g=C-z,p9[1]=C-(z+g)+(g-G),I=B+z,g=I-B,p9[2]=B-(I-g)+(z-g),p9[3]=I;const R=s12(Q,h12,4,p9,M9);D=w*F,j=n8*w,k=j-(j-w),m=w-k,j=n8*F,q=j-(j-F),v=F-q,E=m*v-(D-k*q-m*q-k*v),G=y*A,j=n8*y,k=j-(j-y),m=y-k,j=n8*A,q=j-(j-A),v=A-q,H=m*v-(G-k*q-m*q-k*v),z=E-H,g=E-z,p9[0]=E-(z+g)+(g-H),B=D+z,g=B-D,C=D-(B-g)+(z-g),z=C-G,g=C-z,p9[1]=C-(z+g)+(g-G),I=B+z,g=I-B,p9[2]=B-(I-g)+(z-g),p9[3]=I;const S=s12(R,M9,4,p9,l11);return l11[S-1]}(t,a,e,o,u,x,A)}u11(4),u11(4),u11(4),u11(4),u11(4),u11(4),u11(4),u11(4),u11(4),u11(8),u11(8),u11(8),u11(4),u11(8),u11(8),u11(8),u11(12);u11(192),u11(192);u11(4),u11(4),u11(4),u11(4),u11(4),u11(4),u11(4),u11(4),u11(8),u11(8),u11(8),u11(8),u11(8),u11(8),u11(8),u11(8),u11(8),u11(4),u11(4),u11(4),u11(8),u11(16),u11(16),u11(16),u11(32),u11(32),u11(48),u11(64);u11(1152),u11(1152);u11(4),u11(4),u11(4),u11(4),u11(4),u11(4),u11(4),u11(4),u11(4),u11(4),u11(24),u11(24),u11(24),u11(24),u11(24),u11(24),u11(24),u11(24),u11(24),u11(24),u11(1152),u11(1152),u11(1152),u11(1152),u11(1152),u11(2304),u11(2304),u11(3456),u11(5760),u11(8),u11(8),u11(8),u11(16),u11(24),u11(48),u11(48),u11(96),u11(192),u11(384),u11(384),u11(384),u11(768);u11(96),u11(96),u11(96),u11(1152);const s13=Math.pow(2,-52),i11=new Uint32Array(512);class e10{static from(t,s=o10,i=_6){const h=t.length,n=new Float64Array(2*h);for(let e=0;e<h;e++){const h=t[e];n[2*e]=s(h),n[2*e+1]=i(h)}return new e10(n)}constructor(t){const s=t.length>>1;if(s>0&&"number"!=typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;const i=Math.max(2*s-5,0);this._triangles=new Uint32Array(3*i),this._halfedges=new Int32Array(3*i),this._hashSize=Math.ceil(Math.sqrt(s)),this._hullPrev=new Uint32Array(s),this._hullNext=new Uint32Array(s),this._hullTri=new Uint32Array(s),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(s),this._dists=new Float64Array(s),this.update()}update(){const{coords:i,_hullPrev:e,_hullNext:n,_hullTri:a,_hullHash:o}=this,_=i.length>>1;let c=1/0,f=1/0,u=-1/0,d=-1/0;for(let t=0;t<_;t++){const s=i[2*t],e=i[2*t+1];s<c&&(c=s),e<f&&(f=e),s>u&&(u=s),e>d&&(d=e),this._ids[t]=t}const g=(c+u)/2,y=(f+d)/2;let w,b,A,k=1/0;for(let t=0;t<_;t++){const s=h13(g,y,i[2*t],i[2*t+1]);s<k&&(w=t,k=s)}const S=i[2*w],x=i[2*w+1];k=1/0;for(let t=0;t<_;t++){if(t===w)continue;const s=h13(S,x,i[2*t],i[2*t+1]);s<k&&s>0&&(b=t,k=s)}let z=i[2*b],U=i[2*b+1],p=1/0;for(let t=0;t<_;t++){if(t===w||t===b)continue;const s=r11(S,x,z,U,i[2*t],i[2*t+1]);s<p&&(A=t,p=s)}let M=i[2*A],T=i[2*A+1];if(p===1/0){for(let t=0;t<_;t++)this._dists[t]=i[2*t]-i[0]||i[2*t+1]-i[1];l12(this._ids,this._dists,0,_-1);const t=new Uint32Array(_);let s=0;for(let i=0,e=-1/0;i<_;i++){const h=this._ids[i];this._dists[h]>e&&(t[s++]=h,e=this._dists[h])}return this.hull=t.subarray(0,s),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(x9(S,x,z,U,M,T)<0){const t=b,s=z,i=U;b=A,z=M,U=T,A=t,M=s,T=i}const m=function(t,s,i,e,h,n){const r=i-t,l=e-s,a=h-t,o=n-s,_=r*r+l*l,c=a*a+o*o,f=.5/(r*o-l*a);return{x:t+(o*_-l*c)*f,y:s+(r*c-a*_)*f}}(S,x,z,U,M,T);this._cx=m.x,this._cy=m.y;for(let t=0;t<_;t++)this._dists[t]=h13(i[2*t],i[2*t+1],m.x,m.y);l12(this._ids,this._dists,0,_-1),this._hullStart=w;let K=3;n[w]=e[A]=b,n[b]=e[w]=A,n[A]=e[b]=w,a[w]=0,a[b]=1,a[A]=2,o.fill(-1),o[this._hashKey(S,x)]=w,o[this._hashKey(z,U)]=b,o[this._hashKey(M,T)]=A,this.trianglesLen=0,this._addTriangle(w,b,A,-1,-1,-1);for(let h,r,l=0;l<this._ids.length;l++){const _=this._ids[l],c=i[2*_],f=i[2*_+1];if(l>0&&Math.abs(c-h)<=s13&&Math.abs(f-r)<=s13)continue;if(h=c,r=f,_===w||_===b||_===A)continue;let u=0;for(let t=0,s=this._hashKey(c,f);t<this._hashSize&&(u=o[(s+t)%this._hashSize],-1===u||u===n[u]);t++);u=e[u];let d,g=u;for(;d=n[g],x9(c,f,i[2*g],i[2*g+1],i[2*d],i[2*d+1])>=0;)if(g=d,g===u){g=-1;break}if(-1===g)continue;let y=this._addTriangle(g,_,n[g],-1,-1,a[g]);a[_]=this._legalize(y+2),a[g]=y,K++;let k=n[g];for(;d=n[k],x9(c,f,i[2*k],i[2*k+1],i[2*d],i[2*d+1])<0;)y=this._addTriangle(k,_,d,a[_],-1,a[k]),a[_]=this._legalize(y+2),n[k]=k,K--,k=d;if(g===u)for(;d=e[g],x9(c,f,i[2*d],i[2*d+1],i[2*g],i[2*g+1])<0;)y=this._addTriangle(d,_,g,-1,a[g],a[d]),this._legalize(y+2),a[d]=y,n[g]=g,K--,g=d;this._hullStart=e[_]=g,n[g]=e[k]=_,n[_]=k,o[this._hashKey(c,f)]=_,o[this._hashKey(i[2*g],i[2*g+1])]=g}this.hull=new Uint32Array(K);for(let t=0,s=this._hullStart;t<K;t++)this.hull[t]=s,s=n[s];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,s){return Math.floor(function(t,s){const i=t/(Math.abs(t)+Math.abs(s));return(s>0?3-i:1+i)/4}(t-this._cx,s-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:s,_halfedges:e,coords:h}=this;let r=0,l=0;for(;;){const a=e[t],o=t-t%3;if(l=o+(t+2)%3,-1===a){if(0===r)break;t=i11[--r];continue}const _=a-a%3,c=o+(t+1)%3,f=_+(a+2)%3,u=s[l],d=s[t],g=s[c],y=s[f];if(n9(h[2*u],h[2*u+1],h[2*d],h[2*d+1],h[2*g],h[2*g+1],h[2*y],h[2*y+1])){s[t]=y,s[a]=u;const h=e[f];if(-1===h){let s=this._hullStart;do{if(this._hullTri[s]===f){this._hullTri[s]=t;break}s=this._hullPrev[s]}while(s!==this._hullStart)}this._link(t,h),this._link(a,e[l]),this._link(l,f);const n=_+(a+1)%3;r<i11.length&&(i11[r++]=n)}else{if(0===r)break;t=i11[--r]}}return l}_link(t,s){this._halfedges[t]=s,-1!==s&&(this._halfedges[s]=t)}_addTriangle(t,s,i,e,h,n){const r=this.trianglesLen;return this._triangles[r]=t,this._triangles[r+1]=s,this._triangles[r+2]=i,this._link(r,e),this._link(r+1,h),this._link(r+2,n),this.trianglesLen+=3,r}}function h13(t,s,i,e){const h=t-i,n=s-e;return h*h+n*n}function n9(t,s,i,e,h,n,r,l){const a=t-r,o=s-l,_=i-r,c=e-l,f=h-r,u=n-l,d=_*_+c*c,g=f*f+u*u;return a*(c*g-d*u)-o*(_*g-d*f)+(a*a+o*o)*(_*u-c*f)<0}function r11(t,s,i,e,h,n){const r=i-t,l=e-s,a=h-t,o=n-s,_=r*r+l*l,c=a*a+o*o,f=.5/(r*o-l*a),u=(o*_-l*c)*f,d=(r*c-a*_)*f;return u*u+d*d}function l12(t,s,i,e){if(e-i<=20)for(let h=i+1;h<=e;h++){const e=t[h],n=s[e];let r=h-1;for(;r>=i&&s[t[r]]>n;)t[r+1]=t[r--];t[r+1]=e}else{let h=i+1,n=e;a10(t,i+e>>1,h),s[t[i]]>s[t[e]]&&a10(t,i,e),s[t[h]]>s[t[e]]&&a10(t,h,e),s[t[i]]>s[t[h]]&&a10(t,i,h);const r=t[h],o=s[r];for(;;){do{h++}while(s[t[h]]<o);do{n--}while(s[t[n]]>o);if(n<h)break;a10(t,h,n)}t[i+1]=t[n],t[n]=r,e-h+1>=n-i?(l12(t,s,h,e),l12(t,s,i,n-1)):(l12(t,s,i,n-1),l12(t,s,h,e))}}function a10(t,s,i){const e=t[s];t[s]=t[i],t[i]=e}function o10(t){return t[0]}function _6(t){return t[1]}class i12{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,e){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,e){this._+=`L${this._x1=+t},${this._y1=+e}`}arc(t,i,n){const s=(t=+t)+(n=+n),l=i=+i;if(n<0)throw new Error("negative radius");null===this._x1?this._+=`M${s},${l}`:(Math.abs(this._x1-s)>1e-6||Math.abs(this._y1-l)>1e-6)&&(this._+="L"+s+","+l),n&&(this._+=`A${n},${n},0,1,1,${t-n},${i}A${n},${n},0,1,1,${this._x1=s},${this._y1=l}`)}rect(t,e,i,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${+i}v${+n}h${-i}Z`}value(){return this._||null}}class n10{constructor(){this._=[]}moveTo(t,e){this._.push([t,e])}closePath(){this._.push(this._[0].slice())}lineTo(t,e){this._.push([t,e])}value(){return this._.length?this._:null}}class s14{constructor(t,[e,i,n,s]=[0,0,960,500]){if(!((n=+n)>=(e=+e)&&(s=+s)>=(i=+i)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=n,this.xmin=e,this.ymax=s,this.ymin=i,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:e,triangles:i},vectors:n}=this;let s,l;const h=this.circumcenters=this._circumcenters.subarray(0,i.length/3*2);for(let n,r,o=0,a=0,c=i.length;o<c;o+=3,a+=2){const c=2*i[o],u=2*i[o+1],g=2*i[o+2],d=t[c],f=t[c+1],m=t[u],_=t[u+1],x=t[g],y=t[g+1],p=m-d,v=_-f,w=x-d,T=y-f,$=2*(p*T-v*w);if(Math.abs($)<1e-9){if(void 0===s){s=l=0;for(const i of e)s+=t[2*i],l+=t[2*i+1];s/=e.length,l/=e.length}const i=1e9*Math.sign((s-d)*T-(l-f)*w);n=(d+x)/2-i*T,r=(f+y)/2+i*w}else{const t=1/$,e=p*p+v*v,i=w*w+T*T;n=d+(T*e-v*i)*t,r=f+(p*i-w*e)*t}h[a]=n,h[a+1]=r}let r,o,a,c=e[e.length-1],u=4*c,g=t[2*c],d=t[2*c+1];n.fill(0);for(let i=0;i<e.length;++i)c=e[i],r=u,o=g,a=d,u=4*c,g=t[2*c],d=t[2*c+1],n[r+2]=n[u]=a-d,n[r+3]=n[u+1]=g-o}render(t){const e=null==t?t=new i12:void 0,{delaunay:{halfedges:n,inedges:s,hull:l},circumcenters:h,vectors:r}=this;if(l.length<=1)return null;for(let e=0,i=n.length;e<i;++e){const i=n[e];if(i<e)continue;const s=2*Math.floor(e/3),l=2*Math.floor(i/3),r=h[s],o=h[s+1],a=h[l],c=h[l+1];this._renderSegment(r,o,a,c,t)}let o,a=l[l.length-1];for(let e=0;e<l.length;++e){o=a,a=l[e];const i=2*Math.floor(s[a]/3),n=h[i],c=h[i+1],u=4*o,g=this._project(n,c,r[u+2],r[u+3]);g&&this._renderSegment(n,c,g[0],g[1],t)}return e&&e.value()}renderBounds(t){const e=null==t?t=new i12:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),e&&e.value()}renderCell(t,e){const n=null==e?e=new i12:void 0,s=this._clip(t);if(null===s||!s.length)return;e.moveTo(s[0],s[1]);let l=s.length;for(;s[0]===s[l-2]&&s[1]===s[l-1]&&l>1;)l-=2;for(let t=2;t<l;t+=2)s[t]===s[t-2]&&s[t+1]===s[t-1]||e.lineTo(s[t],s[t+1]);return e.closePath(),n&&n.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let e=0,i=t.length/2;e<i;++e){const t=this.cellPolygon(e);t&&(t.index=e,yield t)}}cellPolygon(t){const e=new n10;return this.renderCell(t,e),e.value()}_renderSegment(t,e,i,n,s){let l;const h=this._regioncode(t,e),r=this._regioncode(i,n);0===h&&0===r?(s.moveTo(t,e),s.lineTo(i,n)):(l=this._clipSegment(t,e,i,n,h,r))&&(s.moveTo(l[0],l[1]),s.lineTo(l[2],l[3]))}contains(t,e,i){return(e=+e)==e&&(i=+i)==i&&this.delaunay._step(t,e,i)===t}*neighbors(t){const e=this._clip(t);if(e)for(const i of this.delaunay.neighbors(t)){const t=this._clip(i);if(t){t:for(let n=0,s=e.length;n<s;n+=2)for(let l=0,h=t.length;l<h;l+=2)if(e[n]===t[l]&&e[n+1]===t[l+1]&&e[(n+2)%s]===t[(l+h-2)%h]&&e[(n+3)%s]===t[(l+h-1)%h]){yield i;break t}}}}_cell(t){const{circumcenters:e,delaunay:{inedges:i,halfedges:n,triangles:s}}=this,l=i[t];if(-1===l)return null;const h=[];let r=l;do{const i=Math.floor(r/3);if(h.push(e[2*i],e[2*i+1]),r=r%3==2?r-2:r+1,s[r]!==t)break;r=n[r]}while(r!==l&&-1!==r);return h}_clip(t){if(0===t&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const e=this._cell(t);if(null===e)return null;const{vectors:i}=this,n=4*t;return this._simplify(i[n]||i[n+1]?this._clipInfinite(t,e,i[n],i[n+1],i[n+2],i[n+3]):this._clipFinite(t,e))}_clipFinite(t,e){const i=e.length;let n,s,l,h,r=null,o=e[i-2],a=e[i-1],c=this._regioncode(o,a),u=0;for(let g=0;g<i;g+=2)if(n=o,s=a,o=e[g],a=e[g+1],l=c,c=this._regioncode(o,a),0===l&&0===c)h=u,u=0,r?r.push(o,a):r=[o,a];else{let e,i,g,d,f;if(0===l){if(null===(e=this._clipSegment(n,s,o,a,l,c)))continue;[i,g,d,f]=e}else{if(null===(e=this._clipSegment(o,a,n,s,c,l)))continue;[d,f,i,g]=e,h=u,u=this._edgecode(i,g),h&&u&&this._edge(t,h,u,r,r.length),r?r.push(i,g):r=[i,g]}h=u,u=this._edgecode(d,f),h&&u&&this._edge(t,h,u,r,r.length),r?r.push(d,f):r=[d,f]}if(r)h=u,u=this._edgecode(r[0],r[1]),h&&u&&this._edge(t,h,u,r,r.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return r}_clipSegment(t,e,i,n,s,l){const h=s<l;for(h&&([t,e,i,n,s,l]=[i,n,t,e,l,s]);;){if(0===s&&0===l)return h?[i,n,t,e]:[t,e,i,n];if(s&l)return null;let r,o,a=s||l;8&a?(r=t+(i-t)*(this.ymax-e)/(n-e),o=this.ymax):4&a?(r=t+(i-t)*(this.ymin-e)/(n-e),o=this.ymin):2&a?(o=e+(n-e)*(this.xmax-t)/(i-t),r=this.xmax):(o=e+(n-e)*(this.xmin-t)/(i-t),r=this.xmin),s?(t=r,e=o,s=this._regioncode(t,e)):(i=r,n=o,l=this._regioncode(i,n))}}_clipInfinite(t,e,i,n,s,l){let h,r=Array.from(e);if((h=this._project(r[0],r[1],i,n))&&r.unshift(h[0],h[1]),(h=this._project(r[r.length-2],r[r.length-1],s,l))&&r.push(h[0],h[1]),r=this._clipFinite(t,r))for(let e,i=0,n=r.length,s=this._edgecode(r[n-2],r[n-1]);i<n;i+=2)e=s,s=this._edgecode(r[i],r[i+1]),e&&s&&(i=this._edge(t,e,s,r,i),n=r.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(r=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return r}_edge(t,e,i,n,s){for(;e!==i;){let i,l;switch(e){case 5:e=4;continue;case 4:e=6,i=this.xmax,l=this.ymin;break;case 6:e=2;continue;case 2:e=10,i=this.xmax,l=this.ymax;break;case 10:e=8;continue;case 8:e=9,i=this.xmin,l=this.ymax;break;case 9:e=1;continue;case 1:e=5,i=this.xmin,l=this.ymin}n[s]===i&&n[s+1]===l||!this.contains(t,i,l)||(n.splice(s,0,i,l),s+=2)}return s}_project(t,e,i,n){let s,l,h,r=1/0;if(n<0){if(e<=this.ymin)return null;(s=(this.ymin-e)/n)<r&&(h=this.ymin,l=t+(r=s)*i)}else if(n>0){if(e>=this.ymax)return null;(s=(this.ymax-e)/n)<r&&(h=this.ymax,l=t+(r=s)*i)}if(i>0){if(t>=this.xmax)return null;(s=(this.xmax-t)/i)<r&&(l=this.xmax,h=e+(r=s)*n)}else if(i<0){if(t<=this.xmin)return null;(s=(this.xmin-t)/i)<r&&(l=this.xmin,h=e+(r=s)*n)}return[l,h]}_edgecode(t,e){return(t===this.xmin?1:t===this.xmax?2:0)|(e===this.ymin?4:e===this.ymax?8:0)}_regioncode(t,e){return(t<this.xmin?1:t>this.xmax?2:0)|(e<this.ymin?4:e>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let e=0;e<t.length;e+=2){const i=(e+2)%t.length,n=(e+4)%t.length;(t[e]===t[i]&&t[i]===t[n]||t[e+1]===t[i+1]&&t[i+1]===t[n+1])&&(t.splice(i,2),e-=2)}t.length||(t=null)}return t}}const l13=2*Math.PI,h14=Math.pow;function r12(t){return t[0]}function o11(t){return t[1]}function a11(t,e,i){return[t+Math.sin(t+e)*i,e+Math.cos(t-e)*i]}class c12{static from(t,e=r12,i=o11,n){return new c12("length"in t?function(t,e,i,n){const s=t.length,l=new Float64Array(2*s);for(let h=0;h<s;++h){const s=t[h];l[2*h]=e.call(n,s,h,t),l[2*h+1]=i.call(n,s,h,t)}return l}(t,e,i,n):Float64Array.from(function*(t,e,i,n){let s=0;for(const l of t)yield e.call(n,l,s,t),yield i.call(n,l,s,t),++s}(t,e,i,n)))}constructor(e){this._delaunator=new e10(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const e=this._delaunator,i=this.points;if(e.hull&&e.hull.length>2&&function(t){const{triangles:e,coords:i}=t;for(let t=0;t<e.length;t+=3){const n=2*e[t],s=2*e[t+1],l=2*e[t+2];if((i[l]-i[n])*(i[s+1]-i[n+1])-(i[s]-i[n])*(i[l+1]-i[n+1])>1e-10)return!1}return!0}(e)){this.collinear=Int32Array.from({length:i.length/2},((t,e)=>e)).sort(((t,e)=>i[2*t]-i[2*e]||i[2*t+1]-i[2*e+1]));const e=this.collinear[0],n=this.collinear[this.collinear.length-1],s=[i[2*e],i[2*e+1],i[2*n],i[2*n+1]],l=1e-8*Math.hypot(s[3]-s[1],s[2]-s[0]);for(let t=0,e=i.length/2;t<e;++t){const e=a11(i[2*t],i[2*t+1],l);i[2*t]=e[0],i[2*t+1]=e[1]}this._delaunator=new e10(i)}else delete this.collinear;const n=this.halfedges=this._delaunator.halfedges,s=this.hull=this._delaunator.hull,l=this.triangles=this._delaunator.triangles,h=this.inedges.fill(-1),r=this._hullIndex.fill(-1);for(let t=0,e=n.length;t<e;++t){const e=l[t%3==2?t-2:t+1];-1!==n[t]&&-1!==h[e]||(h[e]=t)}for(let t=0,e=s.length;t<e;++t)r[s[t]]=t;s.length<=2&&s.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=s[0],h[s[0]]=1,2===s.length&&(h[s[1]]=0,this.triangles[1]=s[1],this.triangles[2]=s[1]))}voronoi(t){return new s14(this,t)}*neighbors(t){const{inedges:e,hull:i,_hullIndex:n,halfedges:s,triangles:l,collinear:h}=this;if(h){const e=h.indexOf(t);return e>0&&(yield h[e-1]),void(e<h.length-1&&(yield h[e+1]))}const r=e[t];if(-1===r)return;let o=r,a=-1;do{if(yield a=l[o],o=o%3==2?o-2:o+1,l[o]!==t)return;if(o=s[o],-1===o){const e=i[(n[t]+1)%i.length];return void(e!==a&&(yield e))}}while(o!==r)}find(t,e,i=0){if((t=+t)!=t||(e=+e)!=e)return-1;const n=i;let s;for(;(s=this._step(i,t,e))>=0&&s!==i&&s!==n;)i=s;return s}_step(t,e,i){const{inedges:n,hull:s,_hullIndex:l,halfedges:r,triangles:o,points:a}=this;if(-1===n[t]||!a.length)return(t+1)%(a.length>>1);let c=t,u=h14(e-a[2*t],2)+h14(i-a[2*t+1],2);const g=n[t];let d=g;do{let n=o[d];const g=h14(e-a[2*n],2)+h14(i-a[2*n+1],2);if(g<u&&(u=g,c=n),d=d%3==2?d-2:d+1,o[d]!==t)break;if(d=r[d],-1===d){if(d=s[(l[t]+1)%s.length],d!==n&&h14(e-a[2*d],2)+h14(i-a[2*d+1],2)<u)return d;break}}while(d!==g);return c}render(t){const e=null==t?t=new i12:void 0,{points:n,halfedges:s,triangles:l}=this;for(let e=0,i=s.length;e<i;++e){const i=s[e];if(i<e)continue;const h=2*l[e],r=2*l[i];t.moveTo(n[h],n[h+1]),t.lineTo(n[r],n[r+1])}return this.renderHull(t),e&&e.value()}renderPoints(t,e){void 0!==e||t&&"function"==typeof t.moveTo||(e=t,t=null),e=null==e?2:+e;const n=null==t?t=new i12:void 0,{points:s}=this;for(let i=0,n=s.length;i<n;i+=2){const n=s[i],h=s[i+1];t.moveTo(n+e,h),t.arc(n,h,e,0,l13)}return n&&n.value()}renderHull(t){const e=null==t?t=new i12:void 0,{hull:n,points:s}=this,l=2*n[0],h=n.length;t.moveTo(s[l],s[l+1]);for(let e=1;e<h;++e){const i=2*n[e];t.lineTo(s[i],s[i+1])}return t.closePath(),e&&e.value()}hullPolygon(){const t=new n10;return this.renderHull(t),t.value()}renderTriangle(t,e){const n=null==e?e=new i12:void 0,{points:s,triangles:l}=this,h=2*l[t*=3],r=2*l[t+1],o=2*l[t+2];return e.moveTo(s[h],s[h+1]),e.lineTo(s[r],s[r+1]),e.lineTo(s[o],s[o+1]),e.closePath(),n&&n.value()}*trianglePolygons(){const{triangles:t}=this;for(let e=0,i=t.length/3;e<i;++e)yield this.trianglePolygon(e)}trianglePolygon(t){const e=new n10;return this.renderTriangle(t,e),e.value()}}export{c12 as Delaunay,s14 as Voronoi};var r13={},n11={};function t10(r){return new Function("d","return {"+r.map((function(r,n){return JSON.stringify(r)+": d["+n+'] || ""'})).join(",")+"}")}function e11(r){var n=Object.create(null),t=[];return r.forEach((function(r){for(var e in r)e in n||t.push(n[e]=e)})),t}function o12(r,n){var t=r+"",e=t.length;return e<n?new Array(n-e+1).join(0)+t:t}function a12(r){var n,t=r.getUTCHours(),e=r.getUTCMinutes(),a=r.getUTCSeconds(),u=r.getUTCMilliseconds();return isNaN(r)?"Invalid Date":((n=r.getUTCFullYear())<0?"-"+o12(-n,6):n>9999?"+"+o12(n,6):o12(n,4))+"-"+o12(r.getUTCMonth()+1,2)+"-"+o12(r.getUTCDate(),2)+(u?"T"+o12(t,2)+":"+o12(e,2)+":"+o12(a,2)+"."+o12(u,3)+"Z":a?"T"+o12(t,2)+":"+o12(e,2)+":"+o12(a,2)+"Z":e||t?"T"+o12(t,2)+":"+o12(e,2)+"Z":"")}function u12(o){var u=new RegExp('["'+o+"\n\r]"),i=o.charCodeAt(0);function f(t,e){var o,a=[],u=t.length,f=0,c=0,s=u<=0,l=!1;function d(){if(s)return n11;if(l)return l=!1,r13;var e,o,a=f;if(34===t.charCodeAt(a)){for(;f++<u&&34!==t.charCodeAt(f)||34===t.charCodeAt(++f););return(e=f)>=u?s=!0:10===(o=t.charCodeAt(f++))?l=!0:13===o&&(l=!0,10===t.charCodeAt(f)&&++f),t.slice(a+1,e-1).replace(/""/g,'"')}for(;f<u;){if(10===(o=t.charCodeAt(e=f++)))l=!0;else if(13===o)l=!0,10===t.charCodeAt(f)&&++f;else if(o!==i)continue;return t.slice(a,e)}return s=!0,t.slice(a,u)}for(10===t.charCodeAt(u-1)&&--u,13===t.charCodeAt(u-1)&&--u;(o=d())!==n11;){for(var m=[];o!==r13&&o!==n11;)m.push(o),o=d();e&&null==(m=e(m,c++))||a.push(m)}return a}function c(r,n){return r.map((function(r){return n.map((function(n){return l(r[n])})).join(o)}))}function s(r){return r.map(l).join(o)}function l(r){return null==r?"":r instanceof Date?a12(r):u.test(r+="")?'"'+r.replace(/"/g,'""')+'"':r}return{parse:function(r,n){var e,o,a=f(r,(function(r,a){if(e)return e(r,a-1);o=r,e=n?function(r,n){var e=t10(r);return function(t,o){return n(e(t),o,r)}}(r,n):t10(r)}));return a.columns=o||[],a},parseRows:f,format:function(r,n){return null==n&&(n=e11(r)),[n.map(l).join(o)].concat(c(r,n)).join("\n")},formatBody:function(r,n){return null==n&&(n=e11(r)),c(r,n).join("\n")},formatRows:function(r){return r.map(s).join("\n")},formatRow:s,formatValue:l}}var i13=u12(","),f11=i13.parse,c13=i13.parseRows,s15=i13.format,l14=i13.formatBody,d11=i13.formatRows,m11=i13.formatRow,p10=i13.formatValue,h15=u12("\t"),C8=h15.parse,g11=h15.parseRows,v9=h15.format,w9=h15.formatBody,T7=h15.formatRows,A9=h15.formatRow,R5=h15.formatValue;function j7(r){for(var n in r){var t,e,o=r[n].trim();if(o)if("true"===o)o=!0;else if("false"===o)o=!1;else if("NaN"===o)o=NaN;else if(isNaN(t=+o)){if(!(e=o.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;N6&&e[4]&&!e[7]&&(o=o.replace(/-/g,"/").replace(/T/," ")),o=new Date(o)}else o=t;else o=null;r[n]=o}return r}const N6=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();export{j7 as autoType,s15 as csvFormat,l14 as csvFormatBody,m11 as csvFormatRow,d11 as csvFormatRows,p10 as csvFormatValue,f11 as csvParse,c13 as csvParseRows,u12 as dsvFormat,v9 as tsvFormat,w9 as tsvFormatBody,A9 as tsvFormatRow,T7 as tsvFormatRows,R5 as tsvFormatValue,C8 as tsvParse,g11 as tsvParseRows};function e12(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function o13(t,n){return fetch(t,n).then(e12)}function u13(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function f12(t,n){return fetch(t,n).then(u13)}function i14(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function s16(t,n){return fetch(t,n).then(i14)}function a13(t){return function(n,r,e){return 2===arguments.length&&"function"==typeof r&&(e=r,r=void 0),s16(n,r).then((function(n){return t(n,e)}))}}function c14(n,r,e,o){3===arguments.length&&"function"==typeof e&&(o=e,e=void 0);var u=u12(n);return s16(r,e).then((function(t){return u.parse(t,o)}))}var h16=a13(f11),l15=a13(C8);function m12(t,n){return new Promise((function(r,e){var o=new Image;for(var u in n)o[u]=n[u];o.onerror=e,o.onload=function(){r(o)},o.src=t}))}function w10(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}function p11(t,n){return fetch(t,n).then(w10)}function x10(t){return(n,r)=>s16(n,r).then((n=>(new DOMParser).parseFromString(n,t)))}var v10=x10("application/xml"),d12=x10("text/html"),g12=x10("image/svg+xml");export{o13 as blob,f12 as buffer,h16 as csv,c14 as dsv,d12 as html,m12 as image,p11 as json,g12 as svg,s16 as text,l15 as tsv,v10 as xml};function t11(t,i,r,n){if(isNaN(i)||isNaN(r))return t;var e,h,s,o,a,u,l,_,f,x=t._root,c={data:n},y=t._x0,v=t._y0,d=t._x1,p=t._y1;if(!x)return t._root=c,t;for(;x.length;)if((u=i>=(h=(y+d)/2))?y=h:d=h,(l=r>=(s=(v+p)/2))?v=s:p=s,e=x,!(x=x[_=l<<1|u]))return e[_]=c,t;if(o=+t._x.call(null,x.data),a=+t._y.call(null,x.data),i===o&&r===a)return c.next=x,e?e[_]=c:t._root=c,t;do{e=e?e[_]=new Array(4):t._root=new Array(4),(u=i>=(h=(y+d)/2))?y=h:d=h,(l=r>=(s=(v+p)/2))?v=s:p=s}while((_=l<<1|u)==(f=(a>=s)<<1|o>=h));return e[f]=x,e[_]=c,t}function i15(t,i,r,n,e){this.node=t,this.x0=i,this.y0=r,this.x1=n,this.y1=e}function r14(t){return t[0]}function n12(t){return t[1]}function e13(t,i,e){var s=new h17(null==i?r14:i,null==e?n12:e,NaN,NaN,NaN,NaN);return null==t?s:s.addAll(t)}function h17(t,i,r,n,e,h){this._x=t,this._y=i,this._x0=r,this._y0=n,this._x1=e,this._y1=h,this._root=void 0}function s17(t){for(var i={data:t.data},r=i;t=t.next;)r=r.next={data:t.data};return i}var o14=e13.prototype=h17.prototype;o14.copy=function(){var t,i,r=new h17(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root;if(!n)return r;if(!n.length)return r._root=s17(n),r;for(t=[{source:n,target:r._root=new Array(4)}];n=t.pop();)for(var e=0;e<4;++e)(i=n.source[e])&&(i.length?t.push({source:i,target:n.target[e]=new Array(4)}):n.target[e]=s17(i));return r},o14.add=function(i){const r=+this._x.call(null,i),n=+this._y.call(null,i);return t11(this.cover(r,n),r,n,i)},o14.addAll=function(i){var r,n,e,h,s=i.length,o=new Array(s),a=new Array(s),u=1/0,l=1/0,_=-1/0,f=-1/0;for(n=0;n<s;++n)isNaN(e=+this._x.call(null,r=i[n]))||isNaN(h=+this._y.call(null,r))||(o[n]=e,a[n]=h,e<u&&(u=e),e>_&&(_=e),h<l&&(l=h),h>f&&(f=h));if(u>_||l>f)return this;for(this.cover(u,l).cover(_,f),n=0;n<s;++n)t11(this,o[n],a[n],i[n]);return this},o14.cover=function(t,i){if(isNaN(t=+t)||isNaN(i=+i))return this;var r=this._x0,n=this._y0,e=this._x1,h=this._y1;if(isNaN(r))e=(r=Math.floor(t))+1,h=(n=Math.floor(i))+1;else{for(var s,o,a=e-r||1,u=this._root;r>t||t>=e||n>i||i>=h;)switch(o=(i<n)<<1|t<r,(s=new Array(4))[o]=u,u=s,a*=2,o){case 0:e=r+a,h=n+a;break;case 1:r=e-a,h=n+a;break;case 2:e=r+a,n=h-a;break;case 3:r=e-a,n=h-a}this._root&&this._root.length&&(this._root=u)}return this._x0=r,this._y0=n,this._x1=e,this._y1=h,this},o14.data=function(){var t=[];return this.visit((function(i){if(!i.length)do{t.push(i.data)}while(i=i.next)})),t},o14.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},o14.find=function(t,r,n){var e,h,s,o,a,u,l,_=this._x0,f=this._y0,x=this._x1,c=this._y1,y=[],v=this._root;for(v&&y.push(new i15(v,_,f,x,c)),null==n?n=1/0:(_=t-n,f=r-n,x=t+n,c=r+n,n*=n);u=y.pop();)if(!(!(v=u.node)||(h=u.x0)>x||(s=u.y0)>c||(o=u.x1)<_||(a=u.y1)<f))if(v.length){var d=(h+o)/2,p=(s+a)/2;y.push(new i15(v[3],d,p,o,a),new i15(v[2],h,p,d,a),new i15(v[1],d,s,o,p),new i15(v[0],h,s,d,p)),(l=(r>=p)<<1|t>=d)&&(u=y[y.length-1],y[y.length-1]=y[y.length-1-l],y[y.length-1-l]=u)}else{var w=t-+this._x.call(null,v.data),N=r-+this._y.call(null,v.data),g=w*w+N*N;if(g<n){var A=Math.sqrt(n=g);_=t-A,f=r-A,x=t+A,c=r+A,e=v.data}}return e},o14.remove=function(t){if(isNaN(h=+this._x.call(null,t))||isNaN(s=+this._y.call(null,t)))return this;var i,r,n,e,h,s,o,a,u,l,_,f,x=this._root,c=this._x0,y=this._y0,v=this._x1,d=this._y1;if(!x)return this;if(x.length)for(;;){if((u=h>=(o=(c+v)/2))?c=o:v=o,(l=s>=(a=(y+d)/2))?y=a:d=a,i=x,!(x=x[_=l<<1|u]))return this;if(!x.length)break;(i[_+1&3]||i[_+2&3]||i[_+3&3])&&(r=i,f=_)}for(;x.data!==t;)if(n=x,!(x=x.next))return this;return(e=x.next)&&delete x.next,n?(e?n.next=e:delete n.next,this):i?(e?i[_]=e:delete i[_],(x=i[0]||i[1]||i[2]||i[3])&&x===(i[3]||i[2]||i[1]||i[0])&&!x.length&&(r?r[f]=x:this._root=x),this):(this._root=e,this)},o14.removeAll=function(t){for(var i=0,r=t.length;i<r;++i)this.remove(t[i]);return this},o14.root=function(){return this._root},o14.size=function(){var t=0;return this.visit((function(i){if(!i.length)do{++t}while(i=i.next)})),t},o14.visit=function(t){var r,n,e,h,s,o,a=[],u=this._root;for(u&&a.push(new i15(u,this._x0,this._y0,this._x1,this._y1));r=a.pop();)if(!t(u=r.node,e=r.x0,h=r.y0,s=r.x1,o=r.y1)&&u.length){var l=(e+s)/2,_=(h+o)/2;(n=u[3])&&a.push(new i15(n,l,_,s,o)),(n=u[2])&&a.push(new i15(n,e,_,l,o)),(n=u[1])&&a.push(new i15(n,l,h,s,_)),(n=u[0])&&a.push(new i15(n,e,h,l,_))}return this},o14.visitAfter=function(t){var r,n=[],e=[];for(this._root&&n.push(new i15(this._root,this._x0,this._y0,this._x1,this._y1));r=n.pop();){var h=r.node;if(h.length){var s,o=r.x0,a=r.y0,u=r.x1,l=r.y1,_=(o+u)/2,f=(a+l)/2;(s=h[0])&&n.push(new i15(s,o,a,_,f)),(s=h[1])&&n.push(new i15(s,_,a,u,f)),(s=h[2])&&n.push(new i15(s,o,f,_,l)),(s=h[3])&&n.push(new i15(s,_,f,u,l))}e.push(r)}for(;r=e.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this},o14.x=function(t){return arguments.length?(this._x=t,this):this._x},o14.y=function(t){return arguments.length?(this._y=t,this):this._y};export{e13 as quadtree};function e14(n,t){var r,e=1;function i(){var i,o,u=r.length,f=0,a=0;for(i=0;i<u;++i)f+=(o=r[i]).x,a+=o.y;for(f=(f/u-n)*e,a=(a/u-t)*e,i=0;i<u;++i)(o=r[i]).x-=f,o.y-=a}return null==n&&(n=0),null==t&&(t=0),i.initialize=function(n){r=n},i.x=function(t){return arguments.length?(n=+t,i):n},i.y=function(n){return arguments.length?(t=+n,i):t},i.strength=function(n){return arguments.length?(e=+n,i):e},i}function i16(n){return function(){return n}}function o15(n){return 1e-6*(n()-.5)}function u14(n){return n.x+n.vx}function f13(n){return n.y+n.vy}function a14(t){var r,e,a,c=1,l=1;function h(){for(var t,i,h,y,x,g,s,d=r.length,p=0;p<l;++p)for(i=e13(r,u14,f13).visitAfter(v),t=0;t<d;++t)h=r[t],g=e[h.index],s=g*g,y=h.x+h.vx,x=h.y+h.vy,i.visit(M);function M(n,t,r,e,i){var u=n.data,f=n.r,l=g+f;if(!u)return t>y+l||e<y-l||r>x+l||i<x-l;if(u.index>h.index){var v=y-u.x-u.vx,d=x-u.y-u.vy,p=v*v+d*d;p<l*l&&(0===v&&(p+=(v=o15(a))*v),0===d&&(p+=(d=o15(a))*d),p=(l-(p=Math.sqrt(p)))/p*c,h.vx+=(v*=p)*(l=(f*=f)/(s+f)),h.vy+=(d*=p)*l,u.vx-=v*(l=1-l),u.vy-=d*l)}}}function v(n){if(n.data)return n.r=e[n.data.index];for(var t=n.r=0;t<4;++t)n[t]&&n[t].r>n.r&&(n.r=n[t].r)}function y(){if(r){var n,i,o=r.length;for(e=new Array(o),n=0;n<o;++n)i=r[n],e[i.index]=+t(i,n,r)}}return"function"!=typeof t&&(t=i16(null==t?1:+t)),h.initialize=function(n,t){r=n,a=t,y()},h.iterations=function(n){return arguments.length?(l=+n,h):l},h.strength=function(n){return arguments.length?(c=+n,h):c},h.radius=function(n){return arguments.length?(t="function"==typeof n?n:i16(+n),y(),h):t},h}function c15(n){return n.index}function l16(n,t){var r=n.get(t);if(!r)throw new Error("node not found: "+t);return r}function h18(n){var t,r,e,u,f,a,h=c15,v=function(n){return 1/Math.min(u[n.source.index],u[n.target.index])},y=i16(30),x=1;function g(e){for(var i=0,u=n.length;i<x;++i)for(var c,l,h,v,y,g,s,d=0;d<u;++d)l=(c=n[d]).source,v=(h=c.target).x+h.vx-l.x-l.vx||o15(a),y=h.y+h.vy-l.y-l.vy||o15(a),v*=g=((g=Math.sqrt(v*v+y*y))-r[d])/g*e*t[d],y*=g,h.vx-=v*(s=f[d]),h.vy-=y*s,l.vx+=v*(s=1-s),l.vy+=y*s}function s(){if(e){var i,o,a=e.length,c=n.length,v=new Map(e.map(((n,t)=>[h(n,t,e),n])));for(i=0,u=new Array(a);i<c;++i)(o=n[i]).index=i,"object"!=typeof o.source&&(o.source=l16(v,o.source)),"object"!=typeof o.target&&(o.target=l16(v,o.target)),u[o.source.index]=(u[o.source.index]||0)+1,u[o.target.index]=(u[o.target.index]||0)+1;for(i=0,f=new Array(c);i<c;++i)o=n[i],f[i]=u[o.source.index]/(u[o.source.index]+u[o.target.index]);t=new Array(c),d(),r=new Array(c),p()}}function d(){if(e)for(var r=0,i=n.length;r<i;++r)t[r]=+v(n[r],r,n)}function p(){if(e)for(var t=0,i=n.length;t<i;++t)r[t]=+y(n[t],t,n)}return null==n&&(n=[]),g.initialize=function(n,t){e=n,a=t,s()},g.links=function(t){return arguments.length?(n=t,s(),g):n},g.id=function(n){return arguments.length?(h=n,g):h},g.iterations=function(n){return arguments.length?(x=+n,g):x},g.strength=function(n){return arguments.length?(v="function"==typeof n?n:i16(+n),d(),g):v},g.distance=function(n){return arguments.length?(y="function"==typeof n?n:i16(+n),p(),g):y},g}const v11=1664525,y10=1013904223,x11=4294967296;function g13(n){return n.x}function s18(n){return n.y}var d13=Math.PI*(3-Math.sqrt(5));function p12(n){var e,i=1,o=.001,u=1-Math.pow(o,1/300),f=0,a=.6,c=new Map,l=m6(s),h=r3("tick","end"),g=function(){let n=1;return()=>(n=(v11*n+y10)%x11)/4294967296}();function s(){p(),h.call("tick",e),i<o&&(l.stop(),h.call("end",e))}function p(t){var r,o,l=n.length;void 0===t&&(t=1);for(var h=0;h<t;++h)for(i+=(f-i)*u,c.forEach((function(n){n(i)})),r=0;r<l;++r)null==(o=n[r]).fx?o.x+=o.vx*=a:(o.x=o.fx,o.vx=0),null==o.fy?o.y+=o.vy*=a:(o.y=o.fy,o.vy=0);return e}function M(){for(var t,r=0,e=n.length;r<e;++r){if((t=n[r]).index=r,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var i=10*Math.sqrt(.5+r),o=r*d13;t.x=i*Math.cos(o),t.y=i*Math.sin(o)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function w(t){return t.initialize&&t.initialize(n,g),t}return null==n&&(n=[]),M(),e={tick:p,restart:function(){return l.restart(s),e},stop:function(){return l.stop(),e},nodes:function(t){return arguments.length?(n=t,M(),c.forEach(w),e):n},alpha:function(n){return arguments.length?(i=+n,e):i},alphaMin:function(n){return arguments.length?(o=+n,e):o},alphaDecay:function(n){return arguments.length?(u=+n,e):+u},alphaTarget:function(n){return arguments.length?(f=+n,e):f},velocityDecay:function(n){return arguments.length?(a=1-n,e):1-a},randomSource:function(n){return arguments.length?(g=n,c.forEach(w),e):g},force:function(n,t){return arguments.length>1?(null==t?c.delete(n):c.set(n,w(t)),e):c.get(n)},find:function(t,r,e){var i,o,u,f,a,c=0,l=n.length;for(null==e?e=1/0:e*=e,c=0;c<l;++c)(u=(i=t-(f=n[c]).x)*i+(o=r-f.y)*o)<e&&(a=f,e=u);return a},on:function(n,t){return arguments.length>1?(h.on(n,t),e):h.on(n)}}}function M10(){var t,r,e,u,f,a=i16(-30),c=1,l=1/0,h=.81;function v(e){var i,o=t.length,f=e13(t,g13,s18).visitAfter(x);for(u=e,i=0;i<o;++i)r=t[i],f.visit(d)}function y(){if(t){var n,r,e=t.length;for(f=new Array(e),n=0;n<e;++n)r=t[n],f[r.index]=+a(r,n,t)}}function x(n){var t,r,e,i,o,u=0,a=0;if(n.length){for(e=i=o=0;o<4;++o)(t=n[o])&&(r=Math.abs(t.value))&&(u+=t.value,a+=r,e+=r*t.x,i+=r*t.y);n.x=e/a,n.y=i/a}else{(t=n).x=t.data.x,t.y=t.data.y;do{u+=f[t.data.index]}while(t=t.next)}n.value=u}function d(n,t,i,a){if(!n.value)return!0;var v=n.x-r.x,y=n.y-r.y,x=a-t,g=v*v+y*y;if(x*x/h<g)return g<l&&(0===v&&(g+=(v=o15(e))*v),0===y&&(g+=(y=o15(e))*y),g<c&&(g=Math.sqrt(c*g)),r.vx+=v*n.value*u/g,r.vy+=y*n.value*u/g),!0;if(!(n.length||g>=l)){(n.data!==r||n.next)&&(0===v&&(g+=(v=o15(e))*v),0===y&&(g+=(y=o15(e))*y),g<c&&(g=Math.sqrt(c*g)));do{n.data!==r&&(x=f[n.data.index]*u/g,r.vx+=v*x,r.vy+=y*x)}while(n=n.next)}}return v.initialize=function(n,r){t=n,e=r,y()},v.strength=function(n){return arguments.length?(a="function"==typeof n?n:i16(+n),y(),v):a},v.distanceMin=function(n){return arguments.length?(c=n*n,v):Math.sqrt(c)},v.distanceMax=function(n){return arguments.length?(l=n*n,v):Math.sqrt(l)},v.theta=function(n){return arguments.length?(h=n*n,v):Math.sqrt(h)},v}function w11(n,t,r){var e,o,u,f=i16(.1);function a(n){for(var i=0,f=e.length;i<f;++i){var a=e[i],c=a.x-t||1e-6,l=a.y-r||1e-6,h=Math.sqrt(c*c+l*l),v=(u[i]-h)*o[i]*n/h;a.vx+=c*v,a.vy+=l*v}}function c(){if(e){var t,r=e.length;for(o=new Array(r),u=new Array(r),t=0;t<r;++t)u[t]=+n(e[t],t,e),o[t]=isNaN(u[t])?0:+f(e[t],t,e)}}return"function"!=typeof n&&(n=i16(+n)),null==t&&(t=0),null==r&&(r=0),a.initialize=function(n){e=n,c()},a.strength=function(n){return arguments.length?(f="function"==typeof n?n:i16(+n),c(),a):f},a.radius=function(t){return arguments.length?(n="function"==typeof t?t:i16(+t),c(),a):n},a.x=function(n){return arguments.length?(t=+n,a):t},a.y=function(n){return arguments.length?(r=+n,a):r},a}function m13(n){var t,r,e,o=i16(.1);function u(n){for(var i,o=0,u=t.length;o<u;++o)(i=t[o]).vx+=(e[o]-i.x)*r[o]*n}function f(){if(t){var i,u=t.length;for(r=new Array(u),e=new Array(u),i=0;i<u;++i)r[i]=isNaN(e[i]=+n(t[i],i,t))?0:+o(t[i],i,t)}}return"function"!=typeof n&&(n=i16(null==n?0:+n)),u.initialize=function(n){t=n,f()},u.strength=function(n){return arguments.length?(o="function"==typeof n?n:i16(+n),f(),u):o},u.x=function(t){return arguments.length?(n="function"==typeof t?t:i16(+t),f(),u):n},u}function A10(n){var t,r,e,o=i16(.1);function u(n){for(var i,o=0,u=t.length;o<u;++o)(i=t[o]).vy+=(e[o]-i.y)*r[o]*n}function f(){if(t){var i,u=t.length;for(r=new Array(u),e=new Array(u),i=0;i<u;++i)r[i]=isNaN(e[i]=+n(t[i],i,t))?0:+o(t[i],i,t)}}return"function"!=typeof n&&(n=i16(null==n?0:+n)),u.initialize=function(n){t=n,f()},u.strength=function(n){return arguments.length?(o="function"==typeof n?n:i16(+n),f(),u):o},u.y=function(t){return arguments.length?(n="function"==typeof t?t:i16(+t),f(),u):n},u}export{e14 as forceCenter,a14 as forceCollide,h18 as forceLink,M10 as forceManyBody,w11 as forceRadial,p12 as forceSimulation,m13 as forceX,A10 as forceY};function t12(t,i){if((n=(t=i?t.toExponential(i-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function i17(i){return(i=t12(Math.abs(i)))?i[1]:NaN}var n13,r15=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function e15(t){if(!(i=r15.exec(t)))throw new Error("invalid format: "+t);var i;return new o16({fill:i[1],align:i[2],sign:i[3],symbol:i[4],zero:i[5],width:i[6],comma:i[7],precision:i[8]&&i[8].slice(1),trim:i[9],type:i[10]})}function o16(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function a15(i,n){var r=t12(i,n);if(!r)return i+"";var e=r[0],o=r[1];return o<0?"0."+new Array(-o).join("0")+e:e.length>o+1?e.slice(0,o+1)+"."+e.slice(o+1):e+new Array(o-e.length+2).join("0")}e15.prototype=o16.prototype,o16.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var s19={"%":(t,i)=>(100*t).toFixed(i),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,i)=>t.toExponential(i),f:(t,i)=>t.toFixed(i),g:(t,i)=>t.toPrecision(i),o:t=>Math.round(t).toString(8),p:(t,i)=>a15(100*t,i),r:a15,s:function(i,r){var e=t12(i,r);if(!e)return i+"";var o=e[0],a=e[1],s=a-(n13=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,h=o.length;return s===h?o:s>h?o+new Array(s-h+1).join("0"):s>0?o.slice(0,s)+"."+o.slice(s):"0."+new Array(1-s).join("0")+t12(i,Math.max(0,r+s-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function h19(t){return t}var c16,l17,u15,f14=Array.prototype.map,m14=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function d14(t){var r,o,a=void 0===t.grouping||void 0===t.thousands?h19:(r=f14.call(t.grouping,Number),o=t.thousands+"",function(t,i){for(var n=t.length,e=[],a=0,s=r[0],h=0;n>0&&s>0&&(h+s+1>i&&(s=Math.max(1,i-h)),e.push(t.substring(n-=s,n+s)),!((h+=s+1)>i));)s=r[a=(a+1)%r.length];return e.reverse().join(o)}),c=void 0===t.currency?"":t.currency[0]+"",l=void 0===t.currency?"":t.currency[1]+"",u=void 0===t.decimal?".":t.decimal+"",d=void 0===t.numerals?h19:function(t){return function(i){return i.replace(/[0-9]/g,(function(i){return t[+i]}))}}(f14.call(t.numerals,String)),g=void 0===t.percent?"%":t.percent+"",p=void 0===t.minus?"−":t.minus+"",v=void 0===t.nan?"NaN":t.nan+"";function M(t){var i=(t=e15(t)).fill,r=t.align,o=t.sign,h=t.symbol,f=t.zero,M=t.width,y=t.comma,x=t.precision,b=t.trim,w=t.type;"n"===w?(y=!0,w="g"):s19[w]||(void 0===x&&(x=12),b=!0,w="g"),(f||"0"===i&&"="===r)&&(f=!0,i="0",r="=");var S="$"===h?c:"#"===h&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",k="$"===h?l:/[%p]/.test(w)?g:"",z=s19[w],A=/[defgprs%]/.test(w);function N(t){var e,s,h,c=S,l=k;if("c"===w)l=z(t)+l,t="";else{var g=(t=+t)<0||1/t<0;if(t=isNaN(t)?v:z(Math.abs(t),x),b&&(t=function(t){t:for(var i,n=t.length,r=1,e=-1;r<n;++r)switch(t[r]){case".":e=i=r;break;case"0":0===e&&(e=r),i=r;break;default:if(!+t[r])break t;e>0&&(e=0)}return e>0?t.slice(0,e)+t.slice(i+1):t}(t)),g&&0==+t&&"+"!==o&&(g=!1),c=(g?"("===o?o:p:"-"===o||"("===o?"":o)+c,l=("s"===w?m14[8+n13/3]:"")+l+(g&&"("===o?")":""),A){for(e=-1,s=t.length;++e<s;)if(48>(h=t.charCodeAt(e))||h>57){l=(46===h?u+t.slice(e+1):t.slice(e))+l,t=t.slice(0,e);break}}}y&&!f&&(t=a(t,1/0));var N=c.length+t.length+l.length,j=N<M?new Array(M-N+1).join(i):"";switch(y&&f&&(t=a(j+t,j.length?M-l.length:1/0),j=""),r){case"<":t=c+t+l+j;break;case"=":t=c+j+t+l;break;case"^":t=j.slice(0,N=j.length>>1)+c+t+l+j.slice(N);break;default:t=j+c+t+l}return d(t)}return x=void 0===x?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x)),N.toString=function(){return t+""},N}return{format:M,formatPrefix:function(t,n){var r=M(((t=e15(t)).type="f",t)),o=3*Math.max(-8,Math.min(8,Math.floor(i17(n)/3))),a=Math.pow(10,-o),s=m14[8+o/3];return function(t){return r(a*t)+s}}}}function g14(t){return c16=d14(t),l17=c16.format,u15=c16.formatPrefix,c16}function p13(t){return Math.max(0,-i17(Math.abs(t)))}function v12(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(i17(n)/3)))-i17(Math.abs(t)))}function M11(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,i17(n)-i17(t))+1}g14({thousands:",",grouping:[3],currency:["$",""]});export{o16 as FormatSpecifier,l17 as format,g14 as formatDefaultLocale,d14 as formatLocale,u15 as formatPrefix,e15 as formatSpecifier,p13 as precisionFixed,v12 as precisionPrefix,M11 as precisionRound};var i18=1e-6,e16=1e-12,o17=Math.PI,u16=o17/2,a16=o17/4,c17=2*o17,l18=180/o17,f15=o17/180,s20=Math.abs,p14=Math.atan,h20=Math.atan2,g15=Math.cos,v13=Math.ceil,d15=Math.exp,E8=Math.hypot,y11=Math.log,S7=Math.pow,m15=Math.sin,M12=Math.sign||function(n){return n>0?1:n<0?-1:0},w12=Math.sqrt,x12=Math.tan;function _7(n){return n>1?0:n<-1?o17:Math.acos(n)}function N7(n){return n>1?u16:n<-1?-u16:Math.asin(n)}function R6(n){return(n=m15(n/2))*n}function C9(){}function P7(n,t){n&&$6.hasOwnProperty(n.type)&&$6[n.type](n,t)}var A11={Feature:function(n,t){P7(n.geometry,t)},FeatureCollection:function(n,t){for(var r=n.features,i=-1,e=r.length;++i<e;)P7(r[i].geometry,t)}},$6={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)n=r[i],t.point(n[0],n[1],n[2])},LineString:function(n,t){q7(n.coordinates,t,0)},MultiLineString:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)q7(r[i],t,0)},Polygon:function(n,t){z7(n.coordinates,t)},MultiPolygon:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)z7(r[i],t)},GeometryCollection:function(n,t){for(var r=n.geometries,i=-1,e=r.length;++i<e;)P7(r[i],t)}};function q7(n,t,r){var i,e=-1,o=n.length-r;for(t.lineStart();++e<o;)i=n[e],t.point(i[0],i[1],i[2]);t.lineEnd()}function z7(n,t){var r=-1,i=n.length;for(t.polygonStart();++r<i;)q7(n[r],t,1);t.polygonEnd()}function j8(n,t){n&&A11.hasOwnProperty(n.type)?A11[n.type](n,t):P7(n,t)}var L6,b9,G6,O6,T8,k7,F6,H6,I7,W5,X5,Y5,B7,D6,U5,Z5,J6=new F,K7=new F,Q6={point:C9,lineStart:C9,lineEnd:C9,polygonStart:function(){J6=new F,Q6.lineStart=V6,Q6.lineEnd=nn},polygonEnd:function(){var n=+J6;K7.add(n<0?c17+n:n),this.lineStart=this.lineEnd=this.point=C9},sphere:function(){K7.add(c17)}};function V6(){Q6.point=tn}function nn(){rn(L6,b9)}function tn(n,t){Q6.point=rn,L6=n,b9=t,G6=n*=f15,O6=g15(t=(t*=f15)/2+a16),T8=m15(t)}function rn(n,t){var r=(n*=f15)-G6,i=r>=0?1:-1,e=i*r,o=g15(t=(t*=f15)/2+a16),u=m15(t),c=T8*u,l=O6*o+c*g15(e),s=c*i*m15(e);J6.add(h20(s,l)),G6=n,O6=o,T8=u}function en(t){return K7=new F,j8(t,Q6),2*K7}function on(n){return[h20(n[1],n[0]),N7(n[2])]}function un(n){var t=n[0],r=n[1],i=g15(r);return[i*g15(t),i*m15(t),m15(r)]}function an(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function cn(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function ln(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function fn(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function sn(n){var t=w12(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}var pn,hn,gn,vn,dn,En,yn,Sn,mn,Mn,wn,xn,_n,Nn,Rn,Cn,Pn={point:An,lineStart:qn,lineEnd:zn,polygonStart:function(){Pn.point=jn,Pn.lineStart=Ln,Pn.lineEnd=bn,D6=new F,Q6.polygonStart()},polygonEnd:function(){Q6.polygonEnd(),Pn.point=An,Pn.lineStart=qn,Pn.lineEnd=zn,J6<0?(k7=-(H6=180),F6=-(I7=90)):D6>i18?I7=90:D6<-i18&&(F6=-90),Z5[0]=k7,Z5[1]=H6},sphere:function(){k7=-(H6=180),F6=-(I7=90)}};function An(n,t){U5.push(Z5=[k7=n,H6=n]),t<F6&&(F6=t),t>I7&&(I7=t)}function $n(n,t){var r=un([n*f15,t*f15]);if(B7){var i=cn(B7,r),e=cn([i[1],-i[0],0],i);sn(e),e=on(e);var o,u=n-W5,a=u>0?1:-1,c=e[0]*l18*a,p=s20(u)>180;p^(a*W5<c&&c<a*n)?(o=e[1]*l18)>I7&&(I7=o):p^(a*W5<(c=(c+360)%360-180)&&c<a*n)?(o=-e[1]*l18)<F6&&(F6=o):(t<F6&&(F6=t),t>I7&&(I7=t)),p?n<W5?Gn(k7,n)>Gn(k7,H6)&&(H6=n):Gn(n,H6)>Gn(k7,H6)&&(k7=n):H6>=k7?(n<k7&&(k7=n),n>H6&&(H6=n)):n>W5?Gn(k7,n)>Gn(k7,H6)&&(H6=n):Gn(n,H6)>Gn(k7,H6)&&(k7=n)}else U5.push(Z5=[k7=n,H6=n]);t<F6&&(F6=t),t>I7&&(I7=t),B7=r,W5=n}function qn(){Pn.point=$n}function zn(){Z5[0]=k7,Z5[1]=H6,Pn.point=An,B7=null}function jn(n,t){if(B7){var r=n-W5;D6.add(s20(r)>180?r+(r>0?360:-360):r)}else X5=n,Y5=t;Q6.point(n,t),$n(n,t)}function Ln(){Q6.lineStart()}function bn(){jn(X5,Y5),Q6.lineEnd(),s20(D6)>i18&&(k7=-(H6=180)),Z5[0]=k7,Z5[1]=H6,B7=null}function Gn(n,t){return(t-=n)<0?t+360:t}function On(n,t){return n[0]-t[0]}function Tn(n,t){return n[0]<=n[1]?n[0]<=t&&t<=n[1]:t<n[0]||n[1]<t}function kn(n){var t,r,i,e,o,u,a;if(I7=H6=-(k7=F6=1/0),U5=[],j8(n,Pn),r=U5.length){for(U5.sort(On),t=1,o=[i=U5[0]];t<r;++t)Tn(i,(e=U5[t])[0])||Tn(i,e[1])?(Gn(i[0],e[1])>Gn(i[0],i[1])&&(i[1]=e[1]),Gn(e[0],i[1])>Gn(i[0],i[1])&&(i[0]=e[0])):o.push(i=e);for(u=-1/0,t=0,i=o[r=o.length-1];t<=r;i=e,++t)e=o[t],(a=Gn(i[1],e[0]))>u&&(u=a,k7=e[0],H6=i[1])}return U5=Z5=null,k7===1/0||F6===1/0?[[NaN,NaN],[NaN,NaN]]:[[k7,F6],[H6,I7]]}var Fn={sphere:C9,point:Hn,lineStart:Wn,lineEnd:Bn,polygonStart:function(){Fn.lineStart=Dn,Fn.lineEnd=Un},polygonEnd:function(){Fn.lineStart=Wn,Fn.lineEnd=Bn}};function Hn(n,t){n*=f15;var r=g15(t*=f15);In(r*g15(n),r*m15(n),m15(t))}function In(n,t,r){++pn,gn+=(n-gn)/pn,vn+=(t-vn)/pn,dn+=(r-dn)/pn}function Wn(){Fn.point=Xn}function Xn(n,t){n*=f15;var r=g15(t*=f15);Nn=r*g15(n),Rn=r*m15(n),Cn=m15(t),Fn.point=Yn,In(Nn,Rn,Cn)}function Yn(n,t){n*=f15;var r=g15(t*=f15),i=r*g15(n),e=r*m15(n),o=m15(t),u=h20(w12((u=Rn*o-Cn*e)*u+(u=Cn*i-Nn*o)*u+(u=Nn*e-Rn*i)*u),Nn*i+Rn*e+Cn*o);hn+=u,En+=u*(Nn+(Nn=i)),yn+=u*(Rn+(Rn=e)),Sn+=u*(Cn+(Cn=o)),In(Nn,Rn,Cn)}function Bn(){Fn.point=Hn}function Dn(){Fn.point=Zn}function Un(){Jn(xn,_n),Fn.point=Hn}function Zn(n,t){xn=n,_n=t,n*=f15,t*=f15,Fn.point=Jn;var r=g15(t);Nn=r*g15(n),Rn=r*m15(n),Cn=m15(t),In(Nn,Rn,Cn)}function Jn(n,t){n*=f15;var r=g15(t*=f15),i=r*g15(n),e=r*m15(n),o=m15(t),u=Rn*o-Cn*e,a=Cn*i-Nn*o,c=Nn*e-Rn*i,l=E8(u,a,c),s=N7(l),p=l&&-s/l;mn.add(p*u),Mn.add(p*a),wn.add(p*c),hn+=s,En+=s*(Nn+(Nn=i)),yn+=s*(Rn+(Rn=e)),Sn+=s*(Cn+(Cn=o)),In(Nn,Rn,Cn)}function Kn(t){pn=hn=gn=vn=dn=En=yn=Sn=0,mn=new F,Mn=new F,wn=new F,j8(t,Fn);var r=+mn,o=+Mn,u=+wn,a=E8(r,o,u);return a<e16&&(r=En,o=yn,u=Sn,hn<i18&&(r=gn,o=vn,u=dn),(a=E8(r,o,u))<e16)?[NaN,NaN]:[h20(o,r)*l18,N7(u/a)*l18]}function Qn(n){return function(){return n}}function Vn(n,t){function r(r,i){return r=n(r,i),t(r[0],r[1])}return n.invert&&t.invert&&(r.invert=function(r,i){return(r=t.invert(r,i))&&n.invert(r[0],r[1])}),r}function nt4(n,t){return s20(n)>o17&&(n-=Math.round(n/c17)*c17),[n,t]}function tt4(n,t,r){return(n%=c17)?t||r?Vn(it3(n),et4(t,r)):it3(n):t||r?et4(t,r):nt4}function rt4(n){return function(t,r){return s20(t+=n)>o17&&(t-=Math.round(t/c17)*c17),[t,r]}}function it3(n){var t=rt4(n);return t.invert=rt4(-n),t}function et4(n,t){var r=g15(n),i=m15(n),e=g15(t),o=m15(t);function u(n,t){var u=g15(t),a=g15(n)*u,c=m15(n)*u,l=m15(t),f=l*r+a*i;return[h20(c*e-f*o,a*r-l*i),N7(f*e+c*o)]}return u.invert=function(n,t){var u=g15(t),a=g15(n)*u,c=m15(n)*u,l=m15(t),f=l*e-c*o;return[h20(c*e+l*o,a*r+f*i),N7(f*r-a*i)]},u}function ot3(n){function t(t){return(t=n(t[0]*f15,t[1]*f15))[0]*=l18,t[1]*=l18,t}return n=tt4(n[0]*f15,n[1]*f15,n.length>2?n[2]*f15:0),t.invert=function(t){return(t=n.invert(t[0]*f15,t[1]*f15))[0]*=l18,t[1]*=l18,t},t}function ut3(n,t,r,i,e,o){if(r){var u=g15(t),a=m15(t),l=i*r;null==e?(e=t+i*c17,o=t-l/2):(e=at3(u,e),o=at3(u,o),(i>0?e<o:e>o)&&(e+=i*c17));for(var f,s=e;i>0?s>o:s<o;s-=l)f=on([u,-a*g15(s),-a*m15(s)]),n.point(f[0],f[1])}}function at3(n,t){(t=un(t))[0]-=n,sn(t);var r=_7(-t[1]);return((-t[2]<0?-r:r)+c17-i18)%c17}function ct3(){var n,t,r=Qn([0,0]),i=Qn(90),e=Qn(6),o={point:function(r,i){n.push(r=t(r,i)),r[0]*=l18,r[1]*=l18}};function u(){var u=r.apply(this,arguments),a=i.apply(this,arguments)*f15,c=e.apply(this,arguments)*f15;return n=[],t=tt4(-u[0]*f15,-u[1]*f15,0).invert,ut3(o,a,c,1),u={type:"Polygon",coordinates:[n]},n=t=null,u}return u.center=function(n){return arguments.length?(r="function"==typeof n?n:Qn([+n[0],+n[1]]),u):r},u.radius=function(n){return arguments.length?(i="function"==typeof n?n:Qn(+n),u):i},u.precision=function(n){return arguments.length?(e="function"==typeof n?n:Qn(+n),u):e},u}function lt3(){var n,t=[];return{point:function(t,r,i){n.push([t,r,i])},lineStart:function(){t.push(n=[])},lineEnd:C9,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var r=t;return t=[],n=null,r}}}function ft2(n,t){return s20(n[0]-t[0])<i18&&s20(n[1]-t[1])<i18}function st3(n,t,r,i){this.x=n,this.z=t,this.o=r,this.e=i,this.v=!1,this.n=this.p=null}function pt3(n,t,r,e,o){var u,a,c=[],l=[];if(n.forEach((function(n){if(!((t=n.length-1)<=0)){var t,r,e=n[0],a=n[t];if(ft2(e,a)){if(!e[2]&&!a[2]){for(o.lineStart(),u=0;u<t;++u)o.point((e=n[u])[0],e[1]);return void o.lineEnd()}a[0]+=2*i18}c.push(r=new st3(e,n,null,!0)),l.push(r.o=new st3(e,null,r,!1)),c.push(r=new st3(a,n,null,!1)),l.push(r.o=new st3(a,null,r,!0))}})),c.length){for(l.sort(t),ht3(c),ht3(l),u=0,a=l.length;u<a;++u)l[u].e=r=!r;for(var f,s,p=c[0];;){for(var h=p,g=!0;h.v;)if((h=h.n)===p)return;f=h.z,o.lineStart();do{if(h.v=h.o.v=!0,h.e){if(g)for(u=0,a=f.length;u<a;++u)o.point((s=f[u])[0],s[1]);else e(h.x,h.n.x,1,o);h=h.n}else{if(g)for(f=h.p.z,u=f.length-1;u>=0;--u)o.point((s=f[u])[0],s[1]);else e(h.x,h.p.x,-1,o);h=h.p}f=(h=h.o).z,g=!g}while(!h.v);o.lineEnd()}}}function ht3(n){if(t=n.length){for(var t,r,i=0,e=n[0];++i<t;)e.n=r=n[i],r.p=e,e=r;e.n=r=n[0],r.p=e}}function gt3(n){return s20(n[0])<=o17?n[0]:M12(n[0])*((s20(n[0])+o17)%c17-o17)}function vt2(t,r){var l=gt3(r),f=r[1],s=m15(f),p=[m15(l),-g15(l),0],v=0,d=0,E=new F;1===s?f=u16+i18:-1===s&&(f=-u16-i18);for(var y=0,S=t.length;y<S;++y)if(w=(M=t[y]).length)for(var M,w,x=M[w-1],_=gt3(x),R=x[1]/2+a16,C=m15(R),P=g15(R),A=0;A<w;++A,_=q,C=j,P=L,x=$){var $=M[A],q=gt3($),z=$[1]/2+a16,j=m15(z),L=g15(z),b=q-_,G=b>=0?1:-1,O=G*b,T=O>o17,k=C*j;if(E.add(h20(k*G*m15(O),P*L+k*g15(O))),v+=T?b+G*c17:b,T^_>=l^q>=l){var F1=cn(un(x),un($));sn(F1);var H=cn(p,F1);sn(H);var I=(T^b>=0?-1:1)*N7(H[2]);(f>I||f===I&&(F1[0]||F1[1]))&&(d+=T^b>=0?1:-1)}}return(v<-i18||v<i18&&E<-e16)^1&d}function dt2(n,r,i,e){return function(o){var u,a,c,l=r(o),f=lt3(),s=r(f),p=!1,h={point:g,lineStart:d,lineEnd:E,polygonStart:function(){h.point=y,h.lineStart=S,h.lineEnd=m,a=[],u=[]},polygonEnd:function(){h.point=g,h.lineStart=d,h.lineEnd=E,a=gt(a);var n=vt2(u,e);a.length?(p||(o.polygonStart(),p=!0),pt3(a,yt2,n,i,o)):n&&(p||(o.polygonStart(),p=!0),o.lineStart(),i(null,null,1,o),o.lineEnd()),p&&(o.polygonEnd(),p=!1),a=u=null},sphere:function(){o.polygonStart(),o.lineStart(),i(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function g(t,r){n(t,r)&&o.point(t,r)}function v(n,t){l.point(n,t)}function d(){h.point=v,l.lineStart()}function E(){h.point=g,l.lineEnd()}function y(n,t){c.push([n,t]),s.point(n,t)}function S(){s.lineStart(),c=[]}function m(){y(c[0][0],c[0][1]),s.lineEnd();var n,t,r,i,e=s.clean(),l=f.result(),h=l.length;if(c.pop(),u.push(c),c=null,h)if(1&e){if((t=(r=l[0]).length-1)>0){for(p||(o.polygonStart(),p=!0),o.lineStart(),n=0;n<t;++n)o.point((i=r[n])[0],i[1]);o.lineEnd()}}else h>1&&2&e&&l.push(l.pop().concat(l.shift())),a.push(l.filter(Et1))}return h}}function Et1(n){return n.length>1}function yt2(n,t){return((n=n.x)[0]<0?n[1]-u16-i18:u16-n[1])-((t=t.x)[0]<0?t[1]-u16-i18:u16-t[1])}nt4.invert=nt4;var St1=dt2((function(){return!0}),(function(n){var t,r=NaN,e=NaN,a=NaN;return{lineStart:function(){n.lineStart(),t=1},point:function(c,l){var f=c>0?o17:-o17,h=s20(c-r);s20(h-o17)<i18?(n.point(r,e=(e+l)/2>0?u16:-u16),n.point(a,e),n.lineEnd(),n.lineStart(),n.point(f,e),n.point(c,e),t=0):a!==f&&h>=o17&&(s20(r-a)<i18&&(r-=a*i18),s20(c-f)<i18&&(c-=f*i18),e=function(n,t,r,e){var o,u,a=m15(n-r);return s20(a)>i18?p14((m15(t)*(u=g15(e))*m15(r)-m15(e)*(o=g15(t))*m15(n))/(o*u*a)):(t+e)/2}(r,e,c,l),n.point(a,e),n.lineEnd(),n.lineStart(),n.point(f,e),t=0),n.point(r=c,e=l),a=f},lineEnd:function(){n.lineEnd(),r=e=NaN},clean:function(){return 2-t}}}),(function(n,t,r,e){var a;if(null==n)a=r*u16,e.point(-o17,a),e.point(0,a),e.point(o17,a),e.point(o17,0),e.point(o17,-a),e.point(0,-a),e.point(-o17,-a),e.point(-o17,0),e.point(-o17,a);else if(s20(n[0]-t[0])>i18){var c=n[0]<t[0]?o17:-o17;a=r*c/2,e.point(-c,a),e.point(0,a),e.point(c,a)}else e.point(t[0],t[1])}),[-o17,-u16]);function mt2(n){var t=g15(n),r=6*f15,e=t>0,u=s20(t)>i18;function a(n,r){return g15(n)*g15(r)>t}function c(n,r,e){var u=[1,0,0],a=cn(un(n),un(r)),c=an(a,a),l=a[0],f=c-l*l;if(!f)return!e&&n;var p=t*c/f,h=-t*l/f,g=cn(u,a),v=fn(u,p);ln(v,fn(a,h));var d=g,E=an(v,d),y=an(d,d),S=E*E-y*(an(v,v)-1);if(!(S<0)){var m=w12(S),M=fn(d,(-E-m)/y);if(ln(M,v),M=on(M),!e)return M;var x,_=n[0],N=r[0],R=n[1],C=r[1];N<_&&(x=_,_=N,N=x);var P=N-_,A=s20(P-o17)<i18;if(!A&&C<R&&(x=R,R=C,C=x),A||P<i18?A?R+C>0^M[1]<(s20(M[0]-_)<i18?R:C):R<=M[1]&&M[1]<=C:P>o17^(_<=M[0]&&M[0]<=N)){var $=fn(d,(-E+m)/y);return ln($,v),[M,on($)]}}}function l(t,r){var i=e?n:o17-n,u=0;return t<-i?u|=1:t>i&&(u|=2),r<-i?u|=4:r>i&&(u|=8),u}return dt2(a,(function(n){var t,r,i,f,s;return{lineStart:function(){f=i=!1,s=1},point:function(p,h){var g,v=[p,h],d=a(p,h),E=e?d?0:l(p,h):d?l(p+(p<0?o17:-o17),h):0;if(!t&&(f=i=d)&&n.lineStart(),d!==i&&(!(g=c(t,v))||ft2(t,g)||ft2(v,g))&&(v[2]=1),d!==i)s=0,d?(n.lineStart(),g=c(v,t),n.point(g[0],g[1])):(g=c(t,v),n.point(g[0],g[1],2),n.lineEnd()),t=g;else if(u&&t&&e^d){var y;E&r||!(y=c(v,t,!0))||(s=0,e?(n.lineStart(),n.point(y[0][0],y[0][1]),n.point(y[1][0],y[1][1]),n.lineEnd()):(n.point(y[1][0],y[1][1]),n.lineEnd(),n.lineStart(),n.point(y[0][0],y[0][1],3)))}!d||t&&ft2(t,v)||n.point(v[0],v[1]),t=v,i=d,r=E},lineEnd:function(){i&&n.lineEnd(),t=null},clean:function(){return s|(f&&i)<<1}}}),(function(t,i,e,o){ut3(o,n,r,e,t,i)}),e?[0,-n]:[-o17,n-o17])}var Mt1,wt2,xt1,_t2,Nt1=1e9,Rt1=-Nt1;function Ct1(n,r,e,o){function u(t,i){return n<=t&&t<=e&&r<=i&&i<=o}function a(t,i,u,a){var l=0,s=0;if(null==t||(l=c(t,u))!==(s=c(i,u))||f(t,i)<0^u>0)do{a.point(0===l||3===l?n:e,l>1?o:r)}while((l=(l+u+4)%4)!==s);else a.point(i[0],i[1])}function c(t,o){return s20(t[0]-n)<i18?o>0?0:3:s20(t[0]-e)<i18?o>0?2:1:s20(t[1]-r)<i18?o>0?1:0:o>0?3:2}function l(n,t){return f(n.x,t.x)}function f(n,t){var r=c(n,1),i=c(t,1);return r!==i?r-i:0===r?t[1]-n[1]:1===r?n[0]-t[0]:2===r?n[1]-t[1]:t[0]-n[0]}return function(i){var c,f,s,p,h,g,v,d,E,y,S,m=i,M=lt3(),w={point:x,lineStart:function(){w.point=_,f&&f.push(s=[]);y=!0,E=!1,v=d=NaN},lineEnd:function(){c&&(_(p,h),g&&E&&M.rejoin(),c.push(M.result()));w.point=x,E&&m.lineEnd()},polygonStart:function(){m=M,c=[],f=[],S=!0},polygonEnd:function(){var r=function(){for(var t=0,r=0,i=f.length;r<i;++r)for(var e,u,a=f[r],c=1,l=a.length,s=a[0],p=s[0],h=s[1];c<l;++c)e=p,u=h,p=(s=a[c])[0],h=s[1],u<=o?h>o&&(p-e)*(o-u)>(h-u)*(n-e)&&++t:h<=o&&(p-e)*(o-u)<(h-u)*(n-e)&&--t;return t}(),e=S&&r,u=(c=gt(c)).length;(e||u)&&(i.polygonStart(),e&&(i.lineStart(),a(null,null,1,i),i.lineEnd()),u&&pt3(c,l,r,a,i),i.polygonEnd());m=i,c=f=s=null}};function x(n,t){u(n,t)&&m.point(n,t)}function _(t,i){var a=u(t,i);if(f&&s.push([t,i]),y)p=t,h=i,g=a,y=!1,a&&(m.lineStart(),m.point(t,i));else if(a&&E)m.point(t,i);else{var c=[v=Math.max(Rt1,Math.min(Nt1,v)),d=Math.max(Rt1,Math.min(Nt1,d))],l=[t=Math.max(Rt1,Math.min(Nt1,t)),i=Math.max(Rt1,Math.min(Nt1,i))];!function(n,t,r,i,e,o){var u,a=n[0],c=n[1],l=0,f=1,s=t[0]-a,p=t[1]-c;if(u=r-a,s||!(u>0)){if(u/=s,s<0){if(u<l)return;u<f&&(f=u)}else if(s>0){if(u>f)return;u>l&&(l=u)}if(u=e-a,s||!(u<0)){if(u/=s,s<0){if(u>f)return;u>l&&(l=u)}else if(s>0){if(u<l)return;u<f&&(f=u)}if(u=i-c,p||!(u>0)){if(u/=p,p<0){if(u<l)return;u<f&&(f=u)}else if(p>0){if(u>f)return;u>l&&(l=u)}if(u=o-c,p||!(u<0)){if(u/=p,p<0){if(u>f)return;u>l&&(l=u)}else if(p>0){if(u<l)return;u<f&&(f=u)}return l>0&&(n[0]=a+l*s,n[1]=c+l*p),f<1&&(t[0]=a+f*s,t[1]=c+f*p),!0}}}}}(c,l,n,r,e,o)?a&&(m.lineStart(),m.point(t,i),S=!1):(E||(m.lineStart(),m.point(c[0],c[1])),m.point(l[0],l[1]),a||m.lineEnd(),S=!1)}v=t,d=i,E=a}return w}}function Pt1(){var n,t,r,i=0,e=0,o=960,u=500;return r={stream:function(r){return n&&t===r?n:n=Ct1(i,e,o,u)(t=r)},extent:function(a){return arguments.length?(i=+a[0][0],e=+a[0][1],o=+a[1][0],u=+a[1][1],n=t=null,r):[[i,e],[o,u]]}}}var At1={sphere:C9,point:C9,lineStart:function(){At1.point=qt1,At1.lineEnd=$t},lineEnd:C9,polygonStart:C9,polygonEnd:C9};function $t(){At1.point=At1.lineEnd=C9}function qt1(n,t){wt2=n*=f15,xt1=m15(t*=f15),_t2=g15(t),At1.point=zt1}function zt1(n,t){n*=f15;var r=m15(t*=f15),i=g15(t),e=s20(n-wt2),o=g15(e),u=i*m15(e),a=_t2*r-xt1*i*o,c=xt1*r+_t2*i*o;Mt1.add(h20(w12(u*u+a*a),c)),wt2=n,xt1=r,_t2=i}function jt1(t){return Mt1=new F,j8(t,At1),+Mt1}var Lt1=[null,null],bt1={type:"LineString",coordinates:Lt1};function Gt1(n,t){return Lt1[0]=n,Lt1[1]=t,jt1(bt1)}var Ot1={Feature:function(n,t){return kt1(n.geometry,t)},FeatureCollection:function(n,t){for(var r=n.features,i=-1,e=r.length;++i<e;)if(kt1(r[i].geometry,t))return!0;return!1}},Tt1={Sphere:function(){return!0},Point:function(n,t){return Ft1(n.coordinates,t)},MultiPoint:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)if(Ft1(r[i],t))return!0;return!1},LineString:function(n,t){return Ht1(n.coordinates,t)},MultiLineString:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)if(Ht1(r[i],t))return!0;return!1},Polygon:function(n,t){return It1(n.coordinates,t)},MultiPolygon:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)if(It1(r[i],t))return!0;return!1},GeometryCollection:function(n,t){for(var r=n.geometries,i=-1,e=r.length;++i<e;)if(kt1(r[i],t))return!0;return!1}};function kt1(n,t){return!(!n||!Tt1.hasOwnProperty(n.type))&&Tt1[n.type](n,t)}function Ft1(n,t){return 0===Gt1(n,t)}function Ht1(n,t){for(var r,i,o,u=0,a=n.length;u<a;u++){if(0===(i=Gt1(n[u],t)))return!0;if(u>0&&(o=Gt1(n[u],n[u-1]))>0&&r<=o&&i<=o&&(r+i-o)*(1-Math.pow((r-i)/o,2))<e16*o)return!0;r=i}return!1}function It1(n,t){return!!vt2(n.map(Wt1),Xt(t))}function Wt1(n){return(n=n.map(Xt)).pop(),n}function Xt(n){return[n[0]*f15,n[1]*f15]}function Yt(n,t){return(n&&Ot1.hasOwnProperty(n.type)?Ot1[n.type]:kt1)(n,t)}function Bt1(n,t,e){var o=Nt(n,t-i18,e).concat(t);return function(n){return o.map((function(t){return[n,t]}))}}function Dt1(n,t,e){var o=Nt(n,t-i18,e).concat(t);return function(n){return o.map((function(t){return[t,n]}))}}function Ut1(){var n,t,e,o,u,a,c,l,f,p,h,g,d=10,E=d,y=90,S=360,m=2.5;function M(){return{type:"MultiLineString",coordinates:w()}}function w(){return Nt(v13(o/y)*y,e,y).map(h).concat(Nt(v13(l/S)*S,c,S).map(g)).concat(Nt(v13(t/d)*d,n,d).filter((function(n){return s20(n%y)>i18})).map(f)).concat(Nt(v13(a/E)*E,u,E).filter((function(n){return s20(n%S)>i18})).map(p))}return M.lines=function(){return w().map((function(n){return{type:"LineString",coordinates:n}}))},M.outline=function(){return{type:"Polygon",coordinates:[h(o).concat(g(c).slice(1),h(e).reverse().slice(1),g(l).reverse().slice(1))]}},M.extent=function(n){return arguments.length?M.extentMajor(n).extentMinor(n):M.extentMinor()},M.extentMajor=function(n){return arguments.length?(o=+n[0][0],e=+n[1][0],l=+n[0][1],c=+n[1][1],o>e&&(n=o,o=e,e=n),l>c&&(n=l,l=c,c=n),M.precision(m)):[[o,l],[e,c]]},M.extentMinor=function(r){return arguments.length?(t=+r[0][0],n=+r[1][0],a=+r[0][1],u=+r[1][1],t>n&&(r=t,t=n,n=r),a>u&&(r=a,a=u,u=r),M.precision(m)):[[t,a],[n,u]]},M.step=function(n){return arguments.length?M.stepMajor(n).stepMinor(n):M.stepMinor()},M.stepMajor=function(n){return arguments.length?(y=+n[0],S=+n[1],M):[y,S]},M.stepMinor=function(n){return arguments.length?(d=+n[0],E=+n[1],M):[d,E]},M.precision=function(r){return arguments.length?(m=+r,f=Bt1(a,u,90),p=Dt1(t,n,m),h=Bt1(l,c,90),g=Dt1(o,e,m),M):m},M.extentMajor([[-180,-90+i18],[180,90-i18]]).extentMinor([[-180,-80-i18],[180,80+i18]])}function Zt(){return Ut1()()}function Jt1(n,t){var r=n[0]*f15,i=n[1]*f15,e=t[0]*f15,o=t[1]*f15,u=g15(i),a=m15(i),c=g15(o),s=m15(o),p=u*g15(r),v=u*m15(r),d=c*g15(e),E=c*m15(e),y=2*N7(w12(R6(o-i)+u*c*R6(e-r))),S=m15(y),M=y?function(n){var t=m15(n*=y)/S,r=m15(y-n)/S,i=r*p+t*d,e=r*v+t*E,o=r*a+t*s;return[h20(e,i)*l18,h20(o,w12(i*i+e*e))*l18]}:function(){return[r*l18,i*l18]};return M.distance=y,M}var Kt1,Qt1,Vt1,nr,tr=n=>n,rr=new F,ir=new F,er={point:C9,lineStart:C9,lineEnd:C9,polygonStart:function(){er.lineStart=or,er.lineEnd=cr},polygonEnd:function(){er.lineStart=er.lineEnd=er.point=C9,rr.add(s20(ir)),ir=new F},result:function(){var t=rr/2;return rr=new F,t}};function or(){er.point=ur}function ur(n,t){er.point=ar,Kt1=Vt1=n,Qt1=nr=t}function ar(n,t){ir.add(nr*n-Vt1*t),Vt1=n,nr=t}function cr(){ar(Kt1,Qt1)}var lr=1/0,fr=lr,sr=-lr,pr=sr,hr={point:function(n,t){n<lr&&(lr=n);n>sr&&(sr=n);t<fr&&(fr=t);t>pr&&(pr=t)},lineStart:C9,lineEnd:C9,polygonStart:C9,polygonEnd:C9,result:function(){var n=[[lr,fr],[sr,pr]];return sr=pr=-(fr=lr=1/0),n}};var gr,vr,dr,Er,yr=0,Sr=0,mr=0,Mr=0,wr=0,xr=0,_r=0,Nr=0,Rr=0,Cr={point:Pr,lineStart:Ar,lineEnd:zr,polygonStart:function(){Cr.lineStart=jr,Cr.lineEnd=Lr},polygonEnd:function(){Cr.point=Pr,Cr.lineStart=Ar,Cr.lineEnd=zr},result:function(){var n=Rr?[_r/Rr,Nr/Rr]:xr?[Mr/xr,wr/xr]:mr?[yr/mr,Sr/mr]:[NaN,NaN];return yr=Sr=mr=Mr=wr=xr=_r=Nr=Rr=0,n}};function Pr(n,t){yr+=n,Sr+=t,++mr}function Ar(){Cr.point=$r}function $r(n,t){Cr.point=qr,Pr(dr=n,Er=t)}function qr(n,t){var r=n-dr,i=t-Er,e=w12(r*r+i*i);Mr+=e*(dr+n)/2,wr+=e*(Er+t)/2,xr+=e,Pr(dr=n,Er=t)}function zr(){Cr.point=Pr}function jr(){Cr.point=br}function Lr(){Gr(gr,vr)}function br(n,t){Cr.point=Gr,Pr(gr=dr=n,vr=Er=t)}function Gr(n,t){var r=n-dr,i=t-Er,e=w12(r*r+i*i);Mr+=e*(dr+n)/2,wr+=e*(Er+t)/2,xr+=e,_r+=(e=Er*n-dr*t)*(dr+n),Nr+=e*(Er+t),Rr+=3*e,Pr(dr=n,Er=t)}function Or(n){this._context=n}Or.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(n,t){switch(this._point){case 0:this._context.moveTo(n,t),this._point=1;break;case 1:this._context.lineTo(n,t);break;default:this._context.moveTo(n+this._radius,t),this._context.arc(n,t,this._radius,0,c17)}},result:C9};var Tr,kr,Fr,Hr,Ir,Wr=new F,Xr={point:C9,lineStart:function(){Xr.point=Yr},lineEnd:function(){Tr&&Br(kr,Fr),Xr.point=C9},polygonStart:function(){Tr=!0},polygonEnd:function(){Tr=null},result:function(){var t=+Wr;return Wr=new F,t}};function Yr(n,t){Xr.point=Br,kr=Hr=n,Fr=Ir=t}function Br(n,t){Hr-=n,Ir-=t,Wr.add(w12(Hr*Hr+Ir*Ir)),Hr=n,Ir=t}let Dr,Ur,Zr,Jr;class Kr{constructor(n){this._append=null==n?Qr:function(n){const t=Math.floor(n);if(!(t>=0))throw new RangeError(`invalid digits: ${n}`);if(t>15)return Qr;if(t!==Dr){const n=10**t;Dr=t,Ur=function(t){let r=1;this._+=t[0];for(const i=t.length;r<i;++r)this._+=Math.round(arguments[r]*n)/n+t[r]}}return Ur}(n),this._radius=4.5,this._=""}pointRadius(n){return this._radius=+n,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(n,t){switch(this._point){case 0:this._append`M${n},${t}`,this._point=1;break;case 1:this._append`L${n},${t}`;break;default:if(this._append`M${n},${t}`,this._radius!==Zr||this._append!==Ur){const n=this._radius,t=this._;this._="",this._append`m0,${n}a${n},${n} 0 1,1 0,${-2*n}a${n},${n} 0 1,1 0,${2*n}z`,Zr=n,Ur=this._append,Jr=this._,this._=t}this._+=Jr}}result(){const n=this._;return this._="",n.length?n:null}}function Qr(n){let t=1;this._+=n[0];for(const r=n.length;t<r;++t)this._+=arguments[t]+n[t]}function Vr(n,t){let r,i,e=3,o=4.5;function u(n){return n&&("function"==typeof o&&i.pointRadius(+o.apply(this,arguments)),j8(n,r(i))),i.result()}return u.area=function(n){return j8(n,r(er)),er.result()},u.measure=function(n){return j8(n,r(Xr)),Xr.result()},u.bounds=function(n){return j8(n,r(hr)),hr.result()},u.centroid=function(n){return j8(n,r(Cr)),Cr.result()},u.projection=function(t){return arguments.length?(r=null==t?(n=null,tr):(n=t).stream,u):n},u.context=function(n){return arguments.length?(i=null==n?(t=null,new Kr(e)):new Or(t=n),"function"!=typeof o&&i.pointRadius(o),u):t},u.pointRadius=function(n){return arguments.length?(o="function"==typeof n?n:(i.pointRadius(+n),+n),u):o},u.digits=function(n){if(!arguments.length)return e;if(null==n)e=null;else{const t=Math.floor(n);if(!(t>=0))throw new RangeError(`invalid digits: ${n}`);e=t}return null===t&&(i=new Kr(e)),u},u.projection(n).digits(e).context(t)}function ni(n){return{stream:ti(n)}}function ti(n){return function(t){var r=new ri;for(var i in n)r[i]=n[i];return r.stream=t,r}}function ri(){}function ii(n,t,r){var i=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),null!=i&&n.clipExtent(null),j8(r,n.stream(hr)),t(hr.result()),null!=i&&n.clipExtent(i),n}function ei(n,t,r){return ii(n,(function(r){var i=t[1][0]-t[0][0],e=t[1][1]-t[0][1],o=Math.min(i/(r[1][0]-r[0][0]),e/(r[1][1]-r[0][1])),u=+t[0][0]+(i-o*(r[1][0]+r[0][0]))/2,a=+t[0][1]+(e-o*(r[1][1]+r[0][1]))/2;n.scale(150*o).translate([u,a])}),r)}function oi(n,t,r){return ei(n,[[0,0],t],r)}function ui(n,t,r){return ii(n,(function(r){var i=+t,e=i/(r[1][0]-r[0][0]),o=(i-e*(r[1][0]+r[0][0]))/2,u=-e*r[0][1];n.scale(150*e).translate([o,u])}),r)}function ai(n,t,r){return ii(n,(function(r){var i=+t,e=i/(r[1][1]-r[0][1]),o=-e*r[0][0],u=(i-e*(r[1][1]+r[0][1]))/2;n.scale(150*e).translate([o,u])}),r)}ri.prototype={constructor:ri,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var ci=16,li=g15(30*f15);function fi(n,t){return+t?function(n,t){function r(e,o,u,a,c,l,f,p,g,v,d,E,y,S){var m=f-e,M=p-o,x=m*m+M*M;if(x>4*t&&y--){var _=a+v,R=c+d,C=l+E,P=w12(_*_+R*R+C*C),A=N7(C/=P),$=s20(s20(C)-1)<i18||s20(u-g)<i18?(u+g)/2:h20(R,_),q=n($,A),z=q[0],j=q[1],L=z-e,b=j-o,G=M*L-m*b;(G*G/x>t||s20((m*L+M*b)/x-.5)>.3||a*v+c*d+l*E<li)&&(r(e,o,u,a,c,l,z,j,$,_/=P,R/=P,C,y,S),S.point(z,j),r(z,j,$,_,R,C,f,p,g,v,d,E,y,S))}}return function(t){var i,e,o,u,a,c,l,f,s,p,h,g,v={point:d,lineStart:E,lineEnd:S,polygonStart:function(){t.polygonStart(),v.lineStart=m},polygonEnd:function(){t.polygonEnd(),v.lineStart=E}};function d(r,i){r=n(r,i),t.point(r[0],r[1])}function E(){f=NaN,v.point=y,t.lineStart()}function y(i,e){var o=un([i,e]),u=n(i,e);r(f,s,l,p,h,g,f=u[0],s=u[1],l=i,p=o[0],h=o[1],g=o[2],ci,t),t.point(f,s)}function S(){v.point=d,t.lineEnd()}function m(){E(),v.point=M,v.lineEnd=w}function M(n,t){y(i=n,t),e=f,o=s,u=p,a=h,c=g,v.point=y}function w(){r(f,s,l,p,h,g,e,o,i,u,a,c,ci,t),v.lineEnd=S,S()}return v}}(n,t):function(n){return ti({point:function(t,r){t=n(t,r),this.stream.point(t[0],t[1])}})}(n)}var si=ti({point:function(n,t){this.stream.point(n*f15,t*f15)}});function pi(n,t,r,i,e,o){if(!o)return function(n,t,r,i,e){function o(o,u){return[t+n*(o*=i),r-n*(u*=e)]}return o.invert=function(o,u){return[(o-t)/n*i,(r-u)/n*e]},o}(n,t,r,i,e);var u=g15(o),a=m15(o),c=u*n,l=a*n,f=u/n,s=a/n,p=(a*r-u*t)/n,h=(a*t+u*r)/n;function v(n,o){return[c*(n*=i)-l*(o*=e)+t,r-l*n-c*o]}return v.invert=function(n,t){return[i*(f*n-s*t+p),e*(h-s*n-f*t)]},v}function hi(n){return gi((function(){return n}))()}function gi(n){var t,r,i,e,o,u,a,c,s,p,h=150,g=480,v=250,d=0,E=0,y=0,S=0,m=0,M=0,x=1,_=1,N=null,R=St1,C=null,P=tr,A=.5;function $(n){return c(n[0]*f15,n[1]*f15)}function q(n){return(n=c.invert(n[0],n[1]))&&[n[0]*l18,n[1]*l18]}function z(){var n=pi(h,0,0,x,_,M).apply(null,t(d,E)),i=pi(h,g-n[0],v-n[1],x,_,M);return r=tt4(y,S,m),a=Vn(t,i),c=Vn(r,a),u=fi(a,A),j()}function j(){return s=p=null,$}return $.stream=function(n){return s&&p===n?s:s=si(function(n){return ti({point:function(t,r){var i=n(t,r);return this.stream.point(i[0],i[1])}})}(r)(R(u(P(p=n)))))},$.preclip=function(n){return arguments.length?(R=n,N=void 0,j()):R},$.postclip=function(n){return arguments.length?(P=n,C=i=e=o=null,j()):P},$.clipAngle=function(n){return arguments.length?(R=+n?mt2(N=n*f15):(N=null,St1),j()):N*l18},$.clipExtent=function(n){return arguments.length?(P=null==n?(C=i=e=o=null,tr):Ct1(C=+n[0][0],i=+n[0][1],e=+n[1][0],o=+n[1][1]),j()):null==C?null:[[C,i],[e,o]]},$.scale=function(n){return arguments.length?(h=+n,z()):h},$.translate=function(n){return arguments.length?(g=+n[0],v=+n[1],z()):[g,v]},$.center=function(n){return arguments.length?(d=n[0]%360*f15,E=n[1]%360*f15,z()):[d*l18,E*l18]},$.rotate=function(n){return arguments.length?(y=n[0]%360*f15,S=n[1]%360*f15,m=n.length>2?n[2]%360*f15:0,z()):[y*l18,S*l18,m*l18]},$.angle=function(n){return arguments.length?(M=n%360*f15,z()):M*l18},$.reflectX=function(n){return arguments.length?(x=n?-1:1,z()):x<0},$.reflectY=function(n){return arguments.length?(_=n?-1:1,z()):_<0},$.precision=function(n){return arguments.length?(u=fi(a,A=n*n),j()):w12(A)},$.fitExtent=function(n,t){return ei($,n,t)},$.fitSize=function(n,t){return oi($,n,t)},$.fitWidth=function(n,t){return ui($,n,t)},$.fitHeight=function(n,t){return ai($,n,t)},function(){return t=n.apply(this,arguments),$.invert=t.invert&&q,z()}}function vi(n){var t=0,r=o17/3,i=gi(n),e=i(t,r);return e.parallels=function(n){return arguments.length?i(t=n[0]*f15,r=n[1]*f15):[t*l18,r*l18]},e}function di(n,t){var r=m15(n),e=(r+m15(t))/2;if(s20(e)<i18)return function(n){var t=g15(n);function r(n,r){return[n*t,m15(r)/t]}return r.invert=function(n,r){return[n/t,N7(r*t)]},r}(n);var u=1+r*(2*e-r),a=w12(u)/e;function c(n,t){var r=w12(u-2*e*m15(t))/e;return[r*m15(n*=e),a-r*g15(n)]}return c.invert=function(n,t){var r=a-t,i=h20(n,s20(r))*M12(r);return r*e<0&&(i-=o17*M12(n)*M12(r)),[i/e,N7((u-(n*n+r*r)*e*e)/(2*e))]},c}function Ei(){return vi(di).scale(155.424).center([0,33.6442])}function yi(){return Ei().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Si(){var n,t,r,e,o,u,a=yi(),c=Ei().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=Ei().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f={point:function(n,t){u=[n,t]}};function s(n){var t=n[0],i=n[1];return u=null,r.point(t,i),u||(e.point(t,i),u)||(o.point(t,i),u)}function p(){return n=t=null,s}return s.invert=function(n){var t=a.scale(),r=a.translate(),i=(n[0]-r[0])/t,e=(n[1]-r[1])/t;return(e>=.12&&e<.234&&i>=-.425&&i<-.214?c:e>=.166&&e<.234&&i>=-.214&&i<-.115?l:a).invert(n)},s.stream=function(r){return n&&t===r?n:(i=[a.stream(t=r),c.stream(r),l.stream(r)],e=i.length,n={point:function(n,t){for(var r=-1;++r<e;)i[r].point(n,t)},sphere:function(){for(var n=-1;++n<e;)i[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)i[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)i[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)i[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)i[n].polygonEnd()}});var i,e},s.precision=function(n){return arguments.length?(a.precision(n),c.precision(n),l.precision(n),p()):a.precision()},s.scale=function(n){return arguments.length?(a.scale(n),c.scale(.35*n),l.scale(n),s.translate(a.translate())):a.scale()},s.translate=function(n){if(!arguments.length)return a.translate();var t=a.scale(),u=+n[0],s=+n[1];return r=a.translate(n).clipExtent([[u-.455*t,s-.238*t],[u+.455*t,s+.238*t]]).stream(f),e=c.translate([u-.307*t,s+.201*t]).clipExtent([[u-.425*t+i18,s+.12*t+i18],[u-.214*t-i18,s+.234*t-i18]]).stream(f),o=l.translate([u-.205*t,s+.212*t]).clipExtent([[u-.214*t+i18,s+.166*t+i18],[u-.115*t-i18,s+.234*t-i18]]).stream(f),p()},s.fitExtent=function(n,t){return ei(s,n,t)},s.fitSize=function(n,t){return oi(s,n,t)},s.fitWidth=function(n,t){return ui(s,n,t)},s.fitHeight=function(n,t){return ai(s,n,t)},s.scale(1070)}function mi(n){return function(t,r){var i=g15(t),e=g15(r),o=n(i*e);return o===1/0?[2,0]:[o*e*m15(t),o*m15(r)]}}function Mi(n){return function(t,r){var i=w12(t*t+r*r),e=n(i),o=m15(e),u=g15(e);return[h20(t*o,i*u),N7(i&&r*o/i)]}}var wi=mi((function(n){return w12(2/(1+n))}));function xi(){return hi(wi).scale(124.75).clipAngle(179.999)}wi.invert=Mi((function(n){return 2*N7(n/2)}));var _i=mi((function(n){return(n=_7(n))&&n/m15(n)}));function Ni(){return hi(_i).scale(79.4188).clipAngle(179.999)}function Ri(n,t){return[n,y11(x12((u16+t)/2))]}function Ci(){return Pi(Ri).scale(961/c17)}function Pi(n){var t,r,i,e=hi(n),u=e.center,a=e.scale,c=e.translate,l=e.clipExtent,f=null;function s(){var u=o17*a(),c=e(ot3(e.rotate()).invert([0,0]));return l(null==f?[[c[0]-u,c[1]-u],[c[0]+u,c[1]+u]]:n===Ri?[[Math.max(c[0]-u,f),t],[Math.min(c[0]+u,r),i]]:[[f,Math.max(c[1]-u,t)],[r,Math.min(c[1]+u,i)]])}return e.scale=function(n){return arguments.length?(a(n),s()):a()},e.translate=function(n){return arguments.length?(c(n),s()):c()},e.center=function(n){return arguments.length?(u(n),s()):u()},e.clipExtent=function(n){return arguments.length?(null==n?f=t=r=i=null:(f=+n[0][0],t=+n[0][1],r=+n[1][0],i=+n[1][1]),s()):null==f?null:[[f,t],[r,i]]},s()}function Ai(n){return x12((u16+n)/2)}function $i(n,t){var r=g15(n),e=n===t?m15(n):y11(r/g15(t))/y11(Ai(t)/Ai(n)),a=r*S7(Ai(n),e)/e;if(!e)return Ri;function c(n,t){a>0?t<-u16+i18&&(t=-u16+i18):t>u16-i18&&(t=u16-i18);var r=a/S7(Ai(t),e);return[r*m15(e*n),a-r*g15(e*n)]}return c.invert=function(n,t){var r=a-t,i=M12(e)*w12(n*n+r*r),c=h20(n,s20(r))*M12(r);return r*e<0&&(c-=o17*M12(n)*M12(r)),[c/e,2*p14(S7(a/i,1/e))-u16]},c}function qi(){return vi($i).scale(109.5).parallels([30,30])}function zi(n,t){return[n,t]}function ji(){return hi(zi).scale(152.63)}function Li(n,t){var r=g15(n),e=n===t?m15(n):(r-g15(t))/(t-n),u=r/e+n;if(s20(e)<i18)return zi;function a(n,t){var r=u-t,i=e*n;return[r*m15(i),u-r*g15(i)]}return a.invert=function(n,t){var r=u-t,i=h20(n,s20(r))*M12(r);return r*e<0&&(i-=o17*M12(n)*M12(r)),[i/e,u-M12(e)*w12(n*n+r*r)]},a}function bi(){return vi(Li).scale(131.154).center([0,13.9389])}_i.invert=Mi((function(n){return n})),Ri.invert=function(n,t){return[n,2*p14(d15(t))-u16]},zi.invert=zi;var Gi=1.340264,Oi=-.081106,Ti=893e-6,ki=.003796,Fi=w12(3)/2;function Hi(n,t){var r=N7(Fi*m15(t)),i=r*r,e=i*i*i;return[n*g15(r)/(Fi*(Gi+3*Oi*i+e*(7*Ti+9*ki*i))),r*(Gi+Oi*i+e*(Ti+ki*i))]}function Ii(){return hi(Hi).scale(177.158)}function Wi(n,t){var r=g15(t),i=g15(n)*r;return[r*m15(n)/i,m15(t)/i]}function Xi(){return hi(Wi).scale(144.049).clipAngle(60)}function Yi(){var n,t,r,i,e,o,u,a=1,c=0,s=0,p=1,h=1,v=0,d=null,E=1,y=1,S=ti({point:function(n,t){var r=x([n,t]);this.stream.point(r[0],r[1])}}),M=tr;function w(){return E=a*p,y=a*h,o=u=null,x}function x(r){var i=r[0]*E,e=r[1]*y;if(v){var o=e*n-i*t;i=i*n+e*t,e=o}return[i+c,e+s]}return x.invert=function(r){var i=r[0]-c,e=r[1]-s;if(v){var o=e*n+i*t;i=i*n-e*t,e=o}return[i/E,e/y]},x.stream=function(n){return o&&u===n?o:o=S(M(u=n))},x.postclip=function(n){return arguments.length?(M=n,d=r=i=e=null,w()):M},x.clipExtent=function(n){return arguments.length?(M=null==n?(d=r=i=e=null,tr):Ct1(d=+n[0][0],r=+n[0][1],i=+n[1][0],e=+n[1][1]),w()):null==d?null:[[d,r],[i,e]]},x.scale=function(n){return arguments.length?(a=+n,w()):a},x.translate=function(n){return arguments.length?(c=+n[0],s=+n[1],w()):[c,s]},x.angle=function(r){return arguments.length?(t=m15(v=r%360*f15),n=g15(v),w()):v*l18},x.reflectX=function(n){return arguments.length?(p=n?-1:1,w()):p<0},x.reflectY=function(n){return arguments.length?(h=n?-1:1,w()):h<0},x.fitExtent=function(n,t){return ei(x,n,t)},x.fitSize=function(n,t){return oi(x,n,t)},x.fitWidth=function(n,t){return ui(x,n,t)},x.fitHeight=function(n,t){return ai(x,n,t)},x}function Bi(n,t){var r=t*t,i=r*r;return[n*(.8707-.131979*r+i*(i*(.003971*r-.001529*i)-.013791)),t*(1.007226+r*(.015085+i*(.028874*r-.044475-.005916*i)))]}function Di(){return hi(Bi).scale(175.295)}function Ui(n,t){return[g15(t)*m15(n),m15(t)]}function Zi(){return hi(Ui).scale(249.5).clipAngle(90+i18)}function Ji(n,t){var r=g15(t),i=1+g15(n)*r;return[r*m15(n)/i,m15(t)/i]}function Ki(){return hi(Ji).scale(250).clipAngle(142)}function Qi(n,t){return[y11(x12((u16+t)/2)),-n]}function Vi(){var n=Pi(Qi),t=n.center,r=n.rotate;return n.center=function(n){return arguments.length?t([-n[1],n[0]]):[(n=t())[1],-n[0]]},n.rotate=function(n){return arguments.length?r([n[0],n[1],n.length>2?n[2]+90:90]):[(n=r())[0],n[1],n[2]-90]},r([0,0,90]).scale(159.155)}Hi.invert=function(n,t){for(var r,i=t,o=i*i,u=o*o*o,a=0;a<12&&(u=(o=(i-=r=(i*(Gi+Oi*o+u*(Ti+ki*o))-t)/(Gi+3*Oi*o+u*(7*Ti+9*ki*o)))*i)*o*o,!(s20(r)<e16));++a);return[Fi*n*(Gi+3*Oi*o+u*(7*Ti+9*ki*o))/g15(i),N7(m15(i)/Fi)]},Wi.invert=Mi(p14),Bi.invert=function(n,t){var r,e=t,o=25;do{var u=e*e,a=u*u;e-=r=(e*(1.007226+u*(.015085+a*(.028874*u-.044475-.005916*a)))-t)/(1.007226+u*(.045255+a*(.259866*u-.311325-.005916*11*a)))}while(s20(r)>i18&&--o>0);return[n/(.8707+(u=e*e)*(u*(u*u*u*(.003971-.001529*u)-.013791)-.131979)),e]},Ui.invert=Mi(N7),Ji.invert=Mi((function(n){return 2*p14(n)})),Qi.invert=function(n,t){return[-t,2*p14(d15(n))-u16]};export{yi as geoAlbers,Si as geoAlbersUsa,en as geoArea,xi as geoAzimuthalEqualArea,wi as geoAzimuthalEqualAreaRaw,Ni as geoAzimuthalEquidistant,_i as geoAzimuthalEquidistantRaw,kn as geoBounds,Kn as geoCentroid,ct3 as geoCircle,St1 as geoClipAntimeridian,mt2 as geoClipCircle,Pt1 as geoClipExtent,Ct1 as geoClipRectangle,qi as geoConicConformal,$i as geoConicConformalRaw,Ei as geoConicEqualArea,di as geoConicEqualAreaRaw,bi as geoConicEquidistant,Li as geoConicEquidistantRaw,Yt as geoContains,Gt1 as geoDistance,Ii as geoEqualEarth,Hi as geoEqualEarthRaw,ji as geoEquirectangular,zi as geoEquirectangularRaw,Xi as geoGnomonic,Wi as geoGnomonicRaw,Ut1 as geoGraticule,Zt as geoGraticule10,Yi as geoIdentity,Jt1 as geoInterpolate,jt1 as geoLength,Ci as geoMercator,Ri as geoMercatorRaw,Di as geoNaturalEarth1,Bi as geoNaturalEarth1Raw,Zi as geoOrthographic,Ui as geoOrthographicRaw,Vr as geoPath,hi as geoProjection,gi as geoProjectionMutator,ot3 as geoRotation,Ki as geoStereographic,Ji as geoStereographicRaw,j8 as geoStream,ni as geoTransform,Vi as geoTransverseMercator,Qi as geoTransverseMercatorRaw};function n14(n,r){return n.parent===r.parent?1:2}function r16(n,r){return n+r.x}function t13(n,r){return Math.max(n,r.y)}function e17(){var e=n14,u=1,i=1,o=!1;function a(n){var a,f=0;n.eachAfter((function(n){var u=n.children;u?(n.x=function(n){return n.reduce(r16,0)/n.length}(u),n.y=function(n){return 1+n.reduce(t13,0)}(u)):(n.x=a?f+=e(n,a):0,n.y=0,a=n)}));var c=function(n){for(var r;r=n.children;)n=r[0];return n}(n),h=function(n){for(var r;r=n.children;)n=r[r.length-1];return n}(n),l=c.x-e(c,h)/2,p=h.x+e(h,c)/2;return n.eachAfter(o?function(r){r.x=(r.x-n.x)*u,r.y=(n.y-r.y)*i}:function(r){r.x=(r.x-l)/(p-l)*u,r.y=(1-(n.y?r.y/n.y:1))*i})}return a.separation=function(n){return arguments.length?(e=n,a):e},a.size=function(n){return arguments.length?(o=!1,u=+n[0],i=+n[1],a):o?null:[u,i]},a.nodeSize=function(n){return arguments.length?(o=!0,u=+n[0],i=+n[1],a):o?[u,i]:null},a}function u17(n){var r=0,t=n.children,e=t&&t.length;if(e)for(;--e>=0;)r+=t[e].value;else r=1;n.value=r}function i19(n,r){n instanceof Map?(n=[void 0,n],void 0===r&&(r=a17)):void 0===r&&(r=o18);for(var t,e,u,i,f,l=new h21(n),p=[l];t=p.pop();)if((u=r(t.data))&&(f=(u=Array.from(u)).length))for(t.children=u,i=f-1;i>=0;--i)p.push(e=u[i]=new h21(u[i])),e.parent=t,e.depth=t.depth+1;return l.eachBefore(c18)}function o18(n){return n.children}function a17(n){return Array.isArray(n)?n[1]:null}function f16(n){void 0!==n.data.value&&(n.value=n.data.value),n.data=n.data.data}function c18(n){var r=0;do{n.height=r}while((n=n.parent)&&n.height<++r)}function h21(n){this.data=n,this.depth=this.height=0,this.parent=null}function l19(n){return null==n?null:p15(n)}function p15(n){if("function"!=typeof n)throw new Error;return n}function s21(){return 0}function d16(n){return function(){return n}}h21.prototype=i19.prototype={constructor:h21,count:function(){return this.eachAfter(u17)},each:function(n,r){let t=-1;for(const e of this)n.call(r,e,++t,this);return this},eachAfter:function(n,r){for(var t,e,u,i=this,o=[i],a=[],f=-1;i=o.pop();)if(a.push(i),t=i.children)for(e=0,u=t.length;e<u;++e)o.push(t[e]);for(;i=a.pop();)n.call(r,i,++f,this);return this},eachBefore:function(n,r){for(var t,e,u=this,i=[u],o=-1;u=i.pop();)if(n.call(r,u,++o,this),t=u.children)for(e=t.length-1;e>=0;--e)i.push(t[e]);return this},find:function(n,r){let t=-1;for(const e of this)if(n.call(r,e,++t,this))return e},sum:function(n){return this.eachAfter((function(r){for(var t=+n(r.data)||0,e=r.children,u=e&&e.length;--u>=0;)t+=e[u].value;r.value=t}))},sort:function(n){return this.eachBefore((function(r){r.children&&r.children.sort(n)}))},path:function(n){for(var r=this,t=function(n,r){if(n===r)return n;var t=n.ancestors(),e=r.ancestors(),u=null;n=t.pop(),r=e.pop();for(;n===r;)u=n,n=t.pop(),r=e.pop();return u}(r,n),e=[r];r!==t;)r=r.parent,e.push(r);for(var u=e.length;n!==t;)e.splice(u,0,n),n=n.parent;return e},ancestors:function(){for(var n=this,r=[n];n=n.parent;)r.push(n);return r},descendants:function(){return Array.from(this)},leaves:function(){var n=[];return this.eachBefore((function(r){r.children||n.push(r)})),n},links:function(){var n=this,r=[];return n.each((function(t){t!==n&&r.push({source:t.parent,target:t})})),r},copy:function(){return i19(this).eachBefore(f16)},[Symbol.iterator]:function*(){var n,r,t,e,u=this,i=[u];do{for(n=i.reverse(),i=[];u=n.pop();)if(yield u,r=u.children)for(t=0,e=r.length;t<e;++t)i.push(r[t])}while(i.length)}};const v14=1664525,x13=1013904223,y12=4294967296;function g16(){let n=1;return()=>(n=(v14*n+x13)%y12)/4294967296}function m16(n){return w13(n,g16())}function w13(n,r){for(var t,e,u=0,i=(n=function(n,r){let t,e,u=n.length;for(;u;)e=r()*u--|0,t=n[u],n[u]=n[e],n[e]=t;return n}(Array.from(n),r)).length,o=[];u<i;)t=n[u],e&&z8(e,t)?++u:(e=A12(o=_8(o,t)),u=0);return e}function _8(n,r){var t,e;if(B8(r,n))return[r];for(t=0;t<n.length;++t)if(M13(r,n[t])&&B8(q8(n[t],r),n))return[n[t],r];for(t=0;t<n.length-1;++t)for(e=t+1;e<n.length;++e)if(M13(q8(n[t],n[e]),r)&&M13(q8(n[t],r),n[e])&&M13(q8(n[e],r),n[t])&&B8(E9(n[t],n[e],r),n))return[n[t],n[e],r];throw new Error}function M13(n,r){var t=n.r-r.r,e=r.x-n.x,u=r.y-n.y;return t<0||t*t<e*e+u*u}function z8(n,r){var t=n.r-r.r+1e-9*Math.max(n.r,r.r,1),e=r.x-n.x,u=r.y-n.y;return t>0&&t*t>e*e+u*u}function B8(n,r){for(var t=0;t<r.length;++t)if(!z8(n,r[t]))return!1;return!0}function A12(n){switch(n.length){case 1:return function(n){return{x:n.x,y:n.y,r:n.r}}(n[0]);case 2:return q8(n[0],n[1]);case 3:return E9(n[0],n[1],n[2])}}function q8(n,r){var t=n.x,e=n.y,u=n.r,i=r.x,o=r.y,a=r.r,f=i-t,c=o-e,h=a-u,l=Math.sqrt(f*f+c*c);return{x:(t+i+f/l*h)/2,y:(e+o+c/l*h)/2,r:(l+u+a)/2}}function E9(n,r,t){var e=n.x,u=n.y,i=n.r,o=r.x,a=r.y,f=r.r,c=t.x,h=t.y,l=t.r,p=e-o,s=e-c,d=u-a,v=u-h,x=f-i,y=l-i,g=e*e+u*u-i*i,m=g-o*o-a*a+f*f,w=g-c*c-h*h+l*l,_=s*d-p*v,M=(d*w-v*m)/(2*_)-e,z=(v*x-d*y)/_,B=(s*m-p*w)/(2*_)-u,A=(p*y-s*x)/_,q=z*z+A*A-1,E=2*(i+M*z+B*A),b=M*M+B*B-i*i,S=-(Math.abs(q)>1e-6?(E+Math.sqrt(E*E-4*q*b))/(2*q):b/E);return{x:e+M+z*S,y:u+B+A*S,r:S}}function b10(n,r,t){var e,u,i,o,a=n.x-r.x,f=n.y-r.y,c=a*a+f*f;c?(u=r.r+t.r,u*=u,o=n.r+t.r,u>(o*=o)?(e=(c+o-u)/(2*c),i=Math.sqrt(Math.max(0,o/c-e*e)),t.x=n.x-e*a-i*f,t.y=n.y-e*f+i*a):(e=(c+u-o)/(2*c),i=Math.sqrt(Math.max(0,u/c-e*e)),t.x=r.x+e*a-i*f,t.y=r.y+e*f+i*a)):(t.x=r.x+t.r,t.y=r.y)}function S8(n,r){var t=n.r+r.r-1e-6,e=r.x-n.x,u=r.y-n.y;return t>0&&t*t>e*e+u*u}function k8(n){var r=n._,t=n.next._,e=r.r+t.r,u=(r.x*t.r+t.x*r.r)/e,i=(r.y*t.r+t.y*r.r)/e;return u*u+i*i}function I8(n){this._=n,this.next=null,this.previous=null}function O7(n,r){if(!(o=(t=n,n="object"==typeof t&&"length"in t?t:Array.from(t)).length))return 0;var t,e,u,i,o,a,f,c,h,l,p,s;if((e=n[0]).x=0,e.y=0,!(o>1))return e.r;if(u=n[1],e.x=-u.r,u.x=e.r,u.y=0,!(o>2))return e.r+u.r;b10(u,e,i=n[2]),e=new I8(e),u=new I8(u),i=new I8(i),e.next=i.previous=u,u.next=e.previous=i,i.next=u.previous=e;n:for(c=3;c<o;++c){b10(e._,u._,i=n[c]),i=new I8(i),h=u.next,l=e.previous,p=u._.r,s=e._.r;do{if(p<=s){if(S8(h._,i._)){u=h,e.next=u,u.previous=e,--c;continue n}p+=h._.r,h=h.next}else{if(S8(l._,i._)){(e=l).next=u,u.previous=e,--c;continue n}s+=l._.r,l=l.previous}}while(h!==l.next);for(i.previous=e,i.next=u,e.next=u.previous=u=i,a=k8(e);(i=i.next)!==u;)(f=k8(i))<a&&(e=i,a=f);u=e.next}for(e=[u._],i=u;(i=i.next)!==u;)e.push(i._);for(i=w13(e,r),c=0;c<o;++c)(e=n[c]).x-=i.x,e.y-=i.y;return i.r}function R7(n){return O7(n,g16()),n}function T9(n){return Math.sqrt(n.value)}function j9(){var n=null,r=1,t=1,e=s21;function u(u){const i=g16();return u.x=r/2,u.y=t/2,n?u.eachBefore(L7(n)).eachAfter($7(e,.5,i)).eachBefore(D7(1)):u.eachBefore(L7(T9)).eachAfter($7(s21,1,i)).eachAfter($7(e,u.r/Math.min(r,t),i)).eachBefore(D7(Math.min(r,t)/(2*u.r))),u}return u.radius=function(r){return arguments.length?(n=l19(r),u):n},u.size=function(n){return arguments.length?(r=+n[0],t=+n[1],u):[r,t]},u.padding=function(n){return arguments.length?(e="function"==typeof n?n:d16(+n),u):e},u}function L7(n){return function(r){r.children||(r.r=Math.max(0,+n(r)||0))}}function $7(n,r,t){return function(e){if(u=e.children){var u,i,o,a=u.length,f=n(e)*r||0;if(f)for(i=0;i<a;++i)u[i].r+=f;if(o=O7(u,t),f)for(i=0;i<a;++i)u[i].r-=f;e.r=o+f}}}function D7(n){return function(r){var t=r.parent;r.r*=n,t&&(r.x=t.x+n*r.x,r.y=t.y+n*r.y)}}function N8(n){n.x0=Math.round(n.x0),n.y0=Math.round(n.y0),n.x1=Math.round(n.x1),n.y1=Math.round(n.y1)}function C10(n,r,t,e,u){for(var i,o=n.children,a=-1,f=o.length,c=n.value&&(e-r)/n.value;++a<f;)(i=o[a]).y0=t,i.y1=u,i.x0=r,i.x1=r+=i.value*c}function F7(){var n=1,r=1,t=0,e=!1;function u(u){var i=u.height+1;return u.x0=u.y0=t,u.x1=n,u.y1=r/i,u.eachBefore(function(n,r){return function(e){e.children&&C10(e,e.x0,n*(e.depth+1)/r,e.x1,n*(e.depth+2)/r);var u=e.x0,i=e.y0,o=e.x1-t,a=e.y1-t;o<u&&(u=o=(u+o)/2),a<i&&(i=a=(i+a)/2),e.x0=u,e.y0=i,e.x1=o,e.y1=a}}(r,i)),e&&u.eachBefore(N8),u}return u.round=function(n){return arguments.length?(e=!!n,u):e},u.size=function(t){return arguments.length?(n=+t[0],r=+t[1],u):[n,r]},u.padding=function(n){return arguments.length?(t=+n,u):t},u}var G7={depth:-1},H7={},J7={};function K8(n){return n.id}function P8(n){return n.parentId}function Q7(){var n,r=K8,t=P8;function e(e){var u,i,o,a,f,l,p,s,d=Array.from(e),v=r,x=t,y=new Map;if(null!=n){const r=d.map(((r,t)=>function(n){n=`${n}`;let r=n.length;V7(n,r-1)&&!V7(n,r-2)&&(n=n.slice(0,-1));return"/"===n[0]?n:`/${n}`}(n(r,t,e)))),t=r.map(U6),u=new Set(r).add("");for(const n of t)u.has(n)||(u.add(n),r.push(n),t.push(U6(n)),d.push(J7));v=(n,t)=>r[t],x=(n,r)=>t[r]}for(o=0,u=d.length;o<u;++o)i=d[o],l=d[o]=new h21(i),null!=(p=v(i,o,e))&&(p+="")&&(s=l.id=p,y.set(s,y.has(s)?H7:l)),null!=(p=x(i,o,e))&&(p+="")&&(l.parent=p);for(o=0;o<u;++o)if(p=(l=d[o]).parent){if(!(f=y.get(p)))throw new Error("missing: "+p);if(f===H7)throw new Error("ambiguous: "+p);f.children?f.children.push(l):f.children=[l],l.parent=f}else{if(a)throw new Error("multiple roots");a=l}if(!a)throw new Error("no root");if(null!=n){for(;a.data===J7&&1===a.children.length;)a=a.children[0],--u;for(let n=d.length-1;n>=0&&(l=d[n]).data===J7;--n)l.data=null}if(a.parent=G7,a.eachBefore((function(n){n.depth=n.parent.depth+1,--u})).eachBefore(c18),a.parent=null,u>0)throw new Error("cycle");return a}return e.id=function(n){return arguments.length?(r=l19(n),e):r},e.parentId=function(n){return arguments.length?(t=l19(n),e):t},e.path=function(r){return arguments.length?(n=l19(r),e):n},e}function U6(n){let r=n.length;if(r<2)return"";for(;--r>1&&!V7(n,r););return n.slice(0,r)}function V7(n,r){if("/"===n[r]){let t=0;for(;r>0&&"\\"===n[--r];)++t;if(0==(1&t))return!0}return!1}function W6(n,r){return n.parent===r.parent?1:2}function X6(n){var r=n.children;return r?r[0]:n.t}function Y6(n){var r=n.children;return r?r[r.length-1]:n.t}function Z6(n,r,t){var e=t/(r.i-n.i);r.c-=e,r.s+=t,n.c+=e,r.z+=t,r.m+=t}function nn1(n,r,t){return n.a.parent===r.parent?n.a:t}function rn1(n,r){this._=n,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=r}function tn1(){var n=W6,r=1,t=1,e=null;function u(u){var f=function(n){for(var r,t,e,u,i,o=new rn1(n,0),a=[o];r=a.pop();)if(e=r._.children)for(r.children=new Array(i=e.length),u=i-1;u>=0;--u)a.push(t=r.children[u]=new rn1(e[u],u)),t.parent=r;return(o.parent=new rn1(null,0)).children=[o],o}(u);if(f.eachAfter(i),f.parent.m=-f.z,f.eachBefore(o),e)u.eachBefore(a);else{var c=u,h=u,l=u;u.eachBefore((function(n){n.x<c.x&&(c=n),n.x>h.x&&(h=n),n.depth>l.depth&&(l=n)}));var p=c===h?1:n(c,h)/2,s=p-c.x,d=r/(h.x+p+s),v=t/(l.depth||1);u.eachBefore((function(n){n.x=(n.x+s)*d,n.y=n.depth*v}))}return u}function i(r){var t=r.children,e=r.parent.children,u=r.i?e[r.i-1]:null;if(t){!function(n){for(var r,t=0,e=0,u=n.children,i=u.length;--i>=0;)(r=u[i]).z+=t,r.m+=t,t+=r.s+(e+=r.c)}(r);var i=(t[0].z+t[t.length-1].z)/2;u?(r.z=u.z+n(r._,u._),r.m=r.z-i):r.z=i}else u&&(r.z=u.z+n(r._,u._));r.parent.A=function(r,t,e){if(t){for(var u,i=r,o=r,a=t,f=i.parent.children[0],c=i.m,h=o.m,l=a.m,p=f.m;a=Y6(a),i=X6(i),a&&i;)f=X6(f),(o=Y6(o)).a=r,(u=a.z+l-i.z-c+n(a._,i._))>0&&(Z6(nn1(a,r,e),r,u),c+=u,h+=u),l+=a.m,c+=i.m,p+=f.m,h+=o.m;a&&!Y6(o)&&(o.t=a,o.m+=l-h),i&&!X6(f)&&(f.t=i,f.m+=c-p,e=r)}return e}(r,u,r.parent.A||e[0])}function o(n){n._.x=n.z+n.parent.m,n.m+=n.parent.m}function a(n){n.x*=r,n.y=n.depth*t}return u.separation=function(r){return arguments.length?(n=r,u):n},u.size=function(n){return arguments.length?(e=!1,r=+n[0],t=+n[1],u):e?null:[r,t]},u.nodeSize=function(n){return arguments.length?(e=!0,r=+n[0],t=+n[1],u):e?[r,t]:null},u}function en1(n,r,t,e,u){for(var i,o=n.children,a=-1,f=o.length,c=n.value&&(u-t)/n.value;++a<f;)(i=o[a]).x0=r,i.x1=e,i.y0=t,i.y1=t+=i.value*c}rn1.prototype=Object.create(h21.prototype);var un1=(1+Math.sqrt(5))/2;function on1(n,r,t,e,u,i){for(var o,a,f,c,h,l,p,s,d,v,x,y=[],g=r.children,m=0,w=0,_=g.length,M=r.value;m<_;){f=u-t,c=i-e;do{h=g[w++].value}while(!h&&w<_);for(l=p=h,x=h*h*(v=Math.max(c/f,f/c)/(M*n)),d=Math.max(p/x,x/l);w<_;++w){if(h+=a=g[w].value,a<l&&(l=a),a>p&&(p=a),x=h*h*v,(s=Math.max(p/x,x/l))>d){h-=a;break}d=s}y.push(o={value:h,dice:f<c,children:g.slice(m,w)}),o.dice?C10(o,t,e,u,M?e+=c*h/M:i):en1(o,t,e,M?t+=f*h/M:u,i),M-=h,m=w}return y}var an1=function n(r){function t(n,t,e,u,i){on1(r,n,t,e,u,i)}return t.ratio=function(r){return n((r=+r)>1?r:1)},t}(un1);function fn1(){var n=an1,r=!1,t=1,e=1,u=[0],i=s21,o=s21,a=s21,f=s21,c=s21;function h(n){return n.x0=n.y0=0,n.x1=t,n.y1=e,n.eachBefore(l),u=[0],r&&n.eachBefore(N8),n}function l(r){var t=u[r.depth],e=r.x0+t,h=r.y0+t,l=r.x1-t,p=r.y1-t;l<e&&(e=l=(e+l)/2),p<h&&(h=p=(h+p)/2),r.x0=e,r.y0=h,r.x1=l,r.y1=p,r.children&&(t=u[r.depth+1]=i(r)/2,e+=c(r)-t,h+=o(r)-t,(l-=a(r)-t)<e&&(e=l=(e+l)/2),(p-=f(r)-t)<h&&(h=p=(h+p)/2),n(r,e,h,l,p))}return h.round=function(n){return arguments.length?(r=!!n,h):r},h.size=function(n){return arguments.length?(t=+n[0],e=+n[1],h):[t,e]},h.tile=function(r){return arguments.length?(n=p15(r),h):n},h.padding=function(n){return arguments.length?h.paddingInner(n).paddingOuter(n):h.paddingInner()},h.paddingInner=function(n){return arguments.length?(i="function"==typeof n?n:d16(+n),h):i},h.paddingOuter=function(n){return arguments.length?h.paddingTop(n).paddingRight(n).paddingBottom(n).paddingLeft(n):h.paddingTop()},h.paddingTop=function(n){return arguments.length?(o="function"==typeof n?n:d16(+n),h):o},h.paddingRight=function(n){return arguments.length?(a="function"==typeof n?n:d16(+n),h):a},h.paddingBottom=function(n){return arguments.length?(f="function"==typeof n?n:d16(+n),h):f},h.paddingLeft=function(n){return arguments.length?(c="function"==typeof n?n:d16(+n),h):c},h}function cn1(n,r,t,e,u){var i,o,a=n.children,f=a.length,c=new Array(f+1);for(c[0]=o=i=0;i<f;++i)c[i+1]=o+=a[i].value;!function n(r,t,e,u,i,o,f){if(r>=t-1){var h=a[r];return h.x0=u,h.y0=i,h.x1=o,void(h.y1=f)}var l=c[r],p=e/2+l,s=r+1,d=t-1;for(;s<d;){var v=s+d>>>1;c[v]<p?s=v+1:d=v}p-c[s-1]<c[s]-p&&r+1<s&&--s;var x=c[s]-l,y=e-x;if(o-u>f-i){var g=e?(u*y+o*x)/e:o;n(r,s,x,u,i,g,f),n(s,t,y,g,i,o,f)}else{var m=e?(i*y+f*x)/e:f;n(r,s,x,u,i,o,m),n(s,t,y,u,m,o,f)}}(0,f,n.value,r,t,e,u)}function hn1(n,r,t,e,u){(1&n.depth?en1:C10)(n,r,t,e,u)}var ln1=function n(r){function t(n,t,e,u,i){if((o=n._squarify)&&o.ratio===r)for(var o,a,f,c,h,l=-1,p=o.length,s=n.value;++l<p;){for(f=(a=o[l]).children,c=a.value=0,h=f.length;c<h;++c)a.value+=f[c].value;a.dice?C10(a,t,e,u,s?e+=(i-e)*a.value/s:i):en1(a,t,e,s?t+=(u-t)*a.value/s:u,i),s-=a.value}else n._squarify=o=on1(r,n,t,e,u,i),o.ratio=r}return t.ratio=function(r){return n((r=+r)>1?r:1)},t}(un1);export{h21 as Node,e17 as cluster,i19 as hierarchy,j9 as pack,m16 as packEnclose,R7 as packSiblings,F7 as partition,Q7 as stratify,tn1 as tree,fn1 as treemap,cn1 as treemapBinary,C10 as treemapDice,ln1 as treemapResquarify,en1 as treemapSlice,hn1 as treemapSliceDice,an1 as treemapSquarify};function n15(n){for(var r,t=-1,o=n.length,e=n[o-1],l=0;++t<o;)r=e,e=n[t],l+=r[1]*e[0]-r[0]*e[1];return l/2}function r17(n){for(var r,t,o=-1,e=n.length,l=0,u=0,f=n[e-1],a=0;++o<e;)r=f,f=n[o],a+=t=r[0]*f[1]-f[0]*r[1],l+=(r[0]+f[0])*t,u+=(r[1]+f[1])*t;return[l/(a*=3),u/a]}function t14(n,r){return n[0]-r[0]||n[1]-r[1]}function o19(n){const r=n.length,t=[0,1];let o,e=2;for(o=2;o<r;++o){for(;e>1&&(l=n[t[e-2]],u=n[t[e-1]],f=n[o],(u[0]-l[0])*(f[1]-l[1])-(u[1]-l[1])*(f[0]-l[0])<=0);)--e;t[e++]=o}var l,u,f;return t.slice(0,e)}function e18(n){if((e=n.length)<3)return null;var r,e,l=new Array(e),u=new Array(e);for(r=0;r<e;++r)l[r]=[+n[r][0],+n[r][1],r];for(l.sort(t14),r=0;r<e;++r)u[r]=[l[r][0],-l[r][1]];var f=o19(l),a=o19(u),g=a[0]===f[0],h=a[a.length-1]===f[f.length-1],i=[];for(r=f.length-1;r>=0;--r)i.push(n[l[f[r]][2]]);for(r=+g;r<a.length-h;++r)i.push(n[l[a[r]][2]]);return i}function l20(n,r){for(var t,o,e=n.length,l=n[e-1],u=r[0],f=r[1],a=l[0],g=l[1],h=!1,i=0;i<e;++i)t=(l=n[i])[0],(o=l[1])>f!=g>f&&u<(a-t)*(f-o)/(g-o)+t&&(h=!h),a=t,g=o;return h}function u18(n){for(var r,t,o=-1,e=n.length,l=n[e-1],u=l[0],f=l[1],a=0;++o<e;)r=u,t=f,r-=u=(l=n[o])[0],t-=f=l[1],a+=Math.hypot(r,t);return a}export{n15 as polygonArea,r17 as polygonCentroid,l20 as polygonContains,e18 as polygonHull,u18 as polygonLength};var r18=Math.random,n16=function r(n){function t(r,t){return r=null==r?0:+r,t=null==t?1:+t,1===arguments.length?(t=r,r=0):t-=r,function(){return n()*t+r}}return t.source=r,t}(r18),t15=function r(n){function t(r,t){return arguments.length<2&&(t=r,r=0),r=Math.floor(r),t=Math.floor(t)-r,function(){return Math.floor(n()*t+r)}}return t.source=r,t}(r18),o20=function r(n){function t(r,t){var o,u;return r=null==r?0:+r,t=null==t?1:+t,function(){var a;if(null!=o)a=o,o=null;else do{o=2*n()-1,a=2*n()-1,u=o*o+a*a}while(!u||u>1);return r+t*a*Math.sqrt(-2*Math.log(u)/u)}}return t.source=r,t}(r18),u19=function r(n){var t=o20.source(n);function u(){var r=t.apply(this,arguments);return function(){return Math.exp(r())}}return u.source=r,u}(r18),a18=function r(n){function t(r){return(r=+r)<=0?()=>0:function(){for(var t=0,o=r;o>1;--o)t+=n();return t+o*n()}}return t.source=r,t}(r18),e19=function r(n){var t=a18.source(n);function o(r){if(0==(r=+r))return n;var o=t(r);return function(){return o()/r}}return o.source=r,o}(r18),i20=function r(n){function t(r){return function(){return-Math.log1p(-n())/r}}return t.source=r,t}(r18),c19=function r(n){function t(r){if((r=+r)<0)throw new RangeError("invalid alpha");return r=1/-r,function(){return Math.pow(1-n(),r)}}return t.source=r,t}(r18),f17=function r(n){function t(r){if((r=+r)<0||r>1)throw new RangeError("invalid p");return function(){return Math.floor(n()+r)}}return t.source=r,t}(r18),l21=function r(n){function t(r){if((r=+r)<0||r>1)throw new RangeError("invalid p");return 0===r?()=>1/0:1===r?()=>1:(r=Math.log1p(-r),function(){return 1+Math.floor(Math.log1p(-n())/r)})}return t.source=r,t}(r18),s22=function r(n){var t=o20.source(n)();function u(r,o){if((r=+r)<0)throw new RangeError("invalid k");if(0===r)return()=>0;if(o=null==o?1:+o,1===r)return()=>-Math.log1p(-n())*o;var u=(r<1?r+1:r)-1/3,a=1/(3*Math.sqrt(u)),e=r<1?()=>Math.pow(n(),1/r):()=>1;return function(){do{do{var r=t(),i=1+a*r}while(i<=0);i*=i*i;var c=1-n()}while(c>=1-.0331*r*r*r*r&&Math.log(c)>=.5*r*r+u*(1-i+Math.log(i)));return u*i*e()*o}}return u.source=r,u}(r18),h22=function r(n){var t=s22.source(n);function o(r,n){var o=t(r),u=t(n);return function(){var r=o();return 0===r?0:r/(r+u())}}return o.source=r,o}(r18),M14=function r(n){var t=l21.source(n),o=h22.source(n);function u(r,n){return r=+r,(n=+n)>=1?()=>r:n<=0?()=>0:function(){for(var u=0,a=r,e=n;a*e>16&&a*(1-e)>16;){var i=Math.floor((a+1)*e),c=o(i,a-i+1)();c<=e?(u+=i,a-=i,e=(e-c)/(1-c)):(a=i-1,e/=c)}for(var f=e<.5,l=t(f?e:1-e),s=l(),h=0;s<=a;++h)s+=l();return u+(f?h:a-h)}}return u.source=r,u}(r18),v15=function r(n){function t(r,t,o){var u;return 0==(r=+r)?u=r=>-Math.log(r):(r=1/r,u=n=>Math.pow(n,r)),t=null==t?0:+t,o=null==o?1:+o,function(){return t+o*u(-Math.log1p(-n()))}}return t.source=r,t}(r18),d17=function r(n){function t(r,t){return r=null==r?0:+r,t=null==t?1:+t,function(){return r+t*Math.tan(Math.PI*n())}}return t.source=r,t}(r18),m17=function r(n){function t(r,t){return r=null==r?0:+r,t=null==t?1:+t,function(){var o=n();return r+t*Math.log(o/(1-o))}}return t.source=r,t}(r18),g17=function r(n){var t=s22.source(n),o=M14.source(n);function u(r){return function(){for(var u=0,a=r;a>16;){var e=Math.floor(.875*a),i=t(e)();if(i>a)return u+o(e-1,a/i)();u+=e,a-=i}for(var c=-Math.log1p(-n()),f=0;c<=a;++f)c-=Math.log1p(-n());return u+f}}return u.source=r,u}(r18);const p16=1/4294967296;function w14(r=Math.random()){let n=0|(0<=r&&r<1?r/p16:Math.abs(r));return()=>(n=1664525*n+1013904223|0,p16*(n>>>0))}export{e19 as randomBates,f17 as randomBernoulli,h22 as randomBeta,M14 as randomBinomial,d17 as randomCauchy,i20 as randomExponential,s22 as randomGamma,l21 as randomGeometric,t15 as randomInt,a18 as randomIrwinHall,w14 as randomLcg,u19 as randomLogNormal,m17 as randomLogistic,o20 as randomNormal,c19 as randomPareto,g17 as randomPoisson,n16 as randomUniform,v15 as randomWeibull};const n17=new Date,s23=new Date;function r19(e,t,a,o){function l(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return l.floor=t=>(e(t=new Date(+t)),t),l.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),l.round=e=>{const t=l(e),n=l.ceil(e);return e-t<n-e?t:n},l.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),l.range=(n,s,r)=>{const a=[];if(n=l.ceil(n),r=null==r?1:Math.floor(r),!(n<s&&r>0))return a;let o;do{a.push(o=new Date(+n)),t(n,r),e(n)}while(o<n&&n<s);return a},l.filter=n=>r19((t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),((e,s)=>{if(e>=e)if(s<0)for(;++s<=0;)for(;t(e,-1),!n(e););else for(;--s>=0;)for(;t(e,1),!n(e););})),a&&(l.count=(t,r)=>(n17.setTime(+t),s23.setTime(+r),e(n17),e(s23),Math.floor(a(n17,s23))),l.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?l.filter(o?t=>o(t)%e==0:t=>l.count(0,t)%e==0):l:null)),l}const a19=r19((()=>{}),((e,t)=>{e.setTime(+e+t)}),((e,t)=>t-e));a19.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?r19((t=>{t.setTime(Math.floor(t/e)*e)}),((t,n)=>{t.setTime(+t+n*e)}),((t,n)=>(n-t)/e)):a19:null);const o21=a19.range,l22=1e3,g18=6e4,u20=36e5,i21=864e5,C11=r19((e=>{e.setTime(e-e.getMilliseconds())}),((e,t)=>{e.setTime(+e+t*l22)}),((e,t)=>(t-e)/l22),(e=>e.getUTCSeconds())),U7=C11.range,M15=r19((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*l22)}),((e,t)=>{e.setTime(+e+t*g18)}),((e,t)=>(t-e)/g18),(e=>e.getMinutes())),h23=M15.range,m18=r19((e=>{e.setUTCSeconds(0,0)}),((e,t)=>{e.setTime(+e+t*g18)}),((e,t)=>(t-e)/g18),(e=>e.getUTCMinutes())),D8=m18.range,F8=r19((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*l22-e.getMinutes()*g18)}),((e,t)=>{e.setTime(+e+t*u20)}),((e,t)=>(t-e)/u20),(e=>e.getHours())),Y7=F8.range,d18=r19((e=>{e.setUTCMinutes(0,0,0)}),((e,t)=>{e.setTime(+e+t*u20)}),((e,t)=>(t-e)/u20),(e=>e.getUTCHours())),H8=d18.range,y13=r19((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*g18)/i21),(e=>e.getDate()-1)),w15=y13.range,v16=r19((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/i21),(e=>e.getUTCDate()-1)),S9=v16.range,p17=r19((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/i21),(e=>Math.floor(e/i21))),k9=p17.range;function z9(e){return r19((t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),((e,t)=>{e.setDate(e.getDate()+7*t)}),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/6048e5))}const O8=z9(0),W7=z9(1),x14=z9(2),b11=z9(3),j10=z9(4),q9=z9(5),A13=z9(6),B9=O8.range,E10=W7.range,G8=x14.range,I9=b11.range,J8=j10.range,K9=q9.range,L8=A13.range;function N9(e){return r19((t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)}),((e,t)=>(t-e)/6048e5))}const P9=N9(0),Q8=N9(1),R8=N9(2),V8=N9(3),X7=N9(4),Z7=N9(5),$8=N9(6),_9=P9.range,ee=Q8.range,te=R8.range,ne=V8.range,se=X7.range,re=Z7.range,ae=$8.range,oe=r19((e=>{e.setDate(1),e.setHours(0,0,0,0)}),((e,t)=>{e.setMonth(e.getMonth()+t)}),((e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())),(e=>e.getMonth())),le=oe.range,ge=r19((e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)}),((e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())),(e=>e.getUTCMonth())),ue=ge.range,ie=r19((e=>{e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,t)=>{e.setFullYear(e.getFullYear()+t)}),((e,t)=>t.getFullYear()-e.getFullYear()),(e=>e.getFullYear()));ie.every=e=>isFinite(e=Math.floor(e))&&e>0?r19((t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,n)=>{t.setFullYear(t.getFullYear()+n*e)})):null;const Te=ie.range,ce=r19((e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)}),((e,t)=>t.getUTCFullYear()-e.getUTCFullYear()),(e=>e.getUTCFullYear()));ce.every=e=>isFinite(e=Math.floor(e))&&e>0?r19((t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null;const fe=ce.range;function Ce(n,s,r,o,U,M){const h=[[C11,1,1e3],[C11,5,5e3],[C11,15,15e3],[C11,30,3e4],[M,1,6e4],[M,5,3e5],[M,15,9e5],[M,30,18e5],[U,1,36e5],[U,3,108e5],[U,6,216e5],[U,12,432e5],[o,1,864e5],[o,2,1728e5],[r,1,6048e5],[s,1,2592e6],[s,3,7776e6],[n,1,31536e6]];function m(s,r,o){const l=Math.abs(r-s)/o,g=e1((([,,e])=>e)).right(h,l);if(g===h.length)return n.every(nt(s/31536e6,r/31536e6,o));if(0===g)return a19.every(Math.max(nt(s,r,o),1));const[u,i]=h[l/h[g-1][2]<h[g][2]/l?g-1:g];return u.every(i)}return[function(e,t,n){const s=t<e;s&&([e,t]=[t,e]);const r=n&&"function"==typeof n.range?n:m(e,t,n),a=r?r.range(e,+t+1):[];return s?a.reverse():a},m]}const[Ue,Me]=Ce(ce,ge,P9,p17,d18,m18),[he,me]=Ce(ie,oe,O8,y13,F8,M15);export{y13 as timeDay,w15 as timeDays,q9 as timeFriday,K9 as timeFridays,F8 as timeHour,Y7 as timeHours,r19 as timeInterval,a19 as timeMillisecond,o21 as timeMilliseconds,M15 as timeMinute,h23 as timeMinutes,W7 as timeMonday,E10 as timeMondays,oe as timeMonth,le as timeMonths,A13 as timeSaturday,L8 as timeSaturdays,C11 as timeSecond,U7 as timeSeconds,O8 as timeSunday,B9 as timeSundays,j10 as timeThursday,J8 as timeThursdays,me as timeTickInterval,he as timeTicks,x14 as timeTuesday,G8 as timeTuesdays,b11 as timeWednesday,I9 as timeWednesdays,O8 as timeWeek,B9 as timeWeeks,ie as timeYear,Te as timeYears,p17 as unixDay,k9 as unixDays,v16 as utcDay,S9 as utcDays,Z7 as utcFriday,re as utcFridays,d18 as utcHour,H8 as utcHours,a19 as utcMillisecond,o21 as utcMilliseconds,m18 as utcMinute,D8 as utcMinutes,Q8 as utcMonday,ee as utcMondays,ge as utcMonth,ue as utcMonths,$8 as utcSaturday,ae as utcSaturdays,C11 as utcSecond,U7 as utcSeconds,P9 as utcSunday,_9 as utcSundays,X7 as utcThursday,se as utcThursdays,Me as utcTickInterval,Ue as utcTicks,R8 as utcTuesday,te as utcTuesdays,V8 as utcWednesday,ne as utcWednesdays,P9 as utcWeek,_9 as utcWeeks,ce as utcYear,fe as utcYears};function l23(n){if(0<=n.y&&n.y<100){var t=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return t.setFullYear(n.y),t}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function g19(n){if(0<=n.y&&n.y<100){var t=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return t.setUTCFullYear(n.y),t}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function s24(n,t,e){return{y:n,m:t,d:e,H:0,M:0,S:0,L:0}}function h24(t){var e=t.dateTime,r=t.date,o=t.time,c=t.periods,a=t.days,h=t.shortDays,y=t.months,v=t.shortMonths,d=p18(c),m=S10(c),D=p18(a),M=S10(a),T=p18(h),U=S10(h),x=p18(y),w=S10(y),un=p18(v),pn=S10(v),qn={a:function(n){return h[n.getDay()]},A:function(n){return a[n.getDay()]},b:function(n){return v[n.getMonth()]},B:function(n){return y[n.getMonth()]},c:null,d:$9,e:$9,f:k10,g:ln2,G:sn1,H:z10,I:E11,j:R9,L:_10,m:K10,M:nn2,p:function(n){return c[+(n.getHours()>=12)]},q:function(n){return 1+~~(n.getMonth()/3)},Q:Vn1,s:jn1,S:tn2,u:en2,U:rn2,V:on2,w:cn2,W:an2,x:null,X:null,y:fn2,Y:gn1,Z:hn2,"%":bn1},In={a:function(n){return h[n.getUTCDay()]},A:function(n){return a[n.getUTCDay()]},b:function(n){return v[n.getUTCMonth()]},B:function(n){return y[n.getUTCMonth()]},c:null,d:yn1,e:yn1,f:Cn1,g:Yn1,G:Zn1,H:vn1,I:dn1,j:mn1,L:Dn1,m:Mn1,M:Tn1,p:function(n){return c[+(n.getUTCHours()>=12)]},q:function(n){return 1+~~(n.getUTCMonth()/3)},Q:Vn1,s:jn1,S:Un1,u:xn1,U:wn1,V:Sn1,w:Fn1,W:Ln1,x:null,X:null,y:Hn1,Y:An1,Z:Wn1,"%":bn1},Jn={a:function(n,t,e){var r=T.exec(t.slice(e));return r?(n.w=U.get(r[0].toLowerCase()),e+r[0].length):-1},A:function(n,t,e){var r=D.exec(t.slice(e));return r?(n.w=M.get(r[0].toLowerCase()),e+r[0].length):-1},b:function(n,t,e){var r=un.exec(t.slice(e));return r?(n.m=pn.get(r[0].toLowerCase()),e+r[0].length):-1},B:function(n,t,e){var r=x.exec(t.slice(e));return r?(n.m=w.get(r[0].toLowerCase()),e+r[0].length):-1},c:function(n,t,r){return On(n,e,t,r)},d:q10,e:q10,f:N10,g:W8,G:Z8,H:J9,I:J9,j:I10,L:O9,m:j11,M:Q9,p:function(n,t,e){var r=d.exec(t.slice(e));return r?(n.p=m.get(r[0].toLowerCase()),e+r[0].length):-1},q:V9,Q:B10,s:G9,S:X8,u:L9,U:H9,V:Y8,w:F9,W:A14,x:function(n,t,e){return On(n,r,t,e)},X:function(n,t,e){return On(n,o,t,e)},y:W8,Y:Z8,Z:b12,"%":P10};function Qn(n,t){return function(e){var r,u,i,o=[],c=-1,a=0,f=n.length;for(e instanceof Date||(e=new Date(+e));++c<f;)37===n.charCodeAt(c)&&(o.push(n.slice(a,c)),null!=(u=C12[r=n.charAt(++c)])?r=n.charAt(++c):u="e"===r?" ":"0",(i=t[r])&&(r=i(e,u)),o.push(r),a=c+1);return o.push(n.slice(a,c)),o.join("")}}function Xn(t,e){return function(r){var o,c,a=s24(1900,void 0,1);if(On(a,t,r+="",0)!=r.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(e&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(c=(o=g19(s24(a.y,0,1))).getUTCDay(),o=c>4||0===c?Q8.ceil(o):Q8(o),o=v16.offset(o,7*(a.V-1)),a.y=o.getUTCFullYear(),a.m=o.getUTCMonth(),a.d=o.getUTCDate()+(a.w+6)%7):(c=(o=l23(s24(a.y,0,1))).getDay(),o=c>4||0===c?W7.ceil(o):W7(o),o=y13.offset(o,7*(a.V-1)),a.y=o.getFullYear(),a.m=o.getMonth(),a.d=o.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),c="Z"in a?g19(s24(a.y,0,1)).getUTCDay():l23(s24(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(c+5)%7:a.w+7*a.U-(c+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,g19(a)):l23(a)}}function On(n,t,e,r){for(var u,i,o=0,c=t.length,a=e.length;o<c;){if(r>=a)return-1;if(37===(u=t.charCodeAt(o++))){if(u=t.charAt(o++),!(i=Jn[u in C12?t.charAt(o++):u])||(r=i(n,e,r))<0)return-1}else if(u!=e.charCodeAt(r++))return-1}return r}return qn.x=Qn(r,qn),qn.X=Qn(o,qn),qn.c=Qn(e,qn),In.x=Qn(r,In),In.X=Qn(o,In),In.c=Qn(e,In),{format:function(n){var t=Qn(n+="",qn);return t.toString=function(){return n},t},parse:function(n){var t=Xn(n+="",!1);return t.toString=function(){return n},t},utcFormat:function(n){var t=Qn(n+="",In);return t.toString=function(){return n},t},utcParse:function(n){var t=Xn(n+="",!0);return t.toString=function(){return n},t}}}var y14,v17,d19,m19,D9,C12={"-":"",_:" ",0:"0"},M16=/^\s*\d+/,T10=/^%/,U8=/[\\^$*+?|[\]().{}]/g;function x15(n,t,e){var r=n<0?"-":"",u=(r?-n:n)+"",i=u.length;return r+(i<e?new Array(e-i+1).join(t)+u:u)}function w16(n){return n.replace(U8,"\\$&")}function p18(n){return new RegExp("^(?:"+n.map(w16).join("|")+")","i")}function S10(n){return new Map(n.map(((n,t)=>[n.toLowerCase(),t])))}function F9(n,t,e){var r=M16.exec(t.slice(e,e+1));return r?(n.w=+r[0],e+r[0].length):-1}function L9(n,t,e){var r=M16.exec(t.slice(e,e+1));return r?(n.u=+r[0],e+r[0].length):-1}function H9(n,t,e){var r=M16.exec(t.slice(e,e+2));return r?(n.U=+r[0],e+r[0].length):-1}function Y8(n,t,e){var r=M16.exec(t.slice(e,e+2));return r?(n.V=+r[0],e+r[0].length):-1}function A14(n,t,e){var r=M16.exec(t.slice(e,e+2));return r?(n.W=+r[0],e+r[0].length):-1}function Z8(n,t,e){var r=M16.exec(t.slice(e,e+4));return r?(n.y=+r[0],e+r[0].length):-1}function W8(n,t,e){var r=M16.exec(t.slice(e,e+2));return r?(n.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function b12(n,t,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(e,e+6));return r?(n.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function V9(n,t,e){var r=M16.exec(t.slice(e,e+1));return r?(n.q=3*r[0]-3,e+r[0].length):-1}function j11(n,t,e){var r=M16.exec(t.slice(e,e+2));return r?(n.m=r[0]-1,e+r[0].length):-1}function q10(n,t,e){var r=M16.exec(t.slice(e,e+2));return r?(n.d=+r[0],e+r[0].length):-1}function I10(n,t,e){var r=M16.exec(t.slice(e,e+3));return r?(n.m=0,n.d=+r[0],e+r[0].length):-1}function J9(n,t,e){var r=M16.exec(t.slice(e,e+2));return r?(n.H=+r[0],e+r[0].length):-1}function Q9(n,t,e){var r=M16.exec(t.slice(e,e+2));return r?(n.M=+r[0],e+r[0].length):-1}function X8(n,t,e){var r=M16.exec(t.slice(e,e+2));return r?(n.S=+r[0],e+r[0].length):-1}function O9(n,t,e){var r=M16.exec(t.slice(e,e+3));return r?(n.L=+r[0],e+r[0].length):-1}function N10(n,t,e){var r=M16.exec(t.slice(e,e+6));return r?(n.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function P10(n,t,e){var r=T10.exec(t.slice(e,e+1));return r?e+r[0].length:-1}function B10(n,t,e){var r=M16.exec(t.slice(e));return r?(n.Q=+r[0],e+r[0].length):-1}function G9(n,t,e){var r=M16.exec(t.slice(e));return r?(n.s=+r[0],e+r[0].length):-1}function $9(n,t){return x15(n.getDate(),t,2)}function z10(n,t){return x15(n.getHours(),t,2)}function E11(n,t){return x15(n.getHours()%12||12,t,2)}function R9(e,r){return x15(1+y13.count(ie(e),e),r,3)}function _10(n,t){return x15(n.getMilliseconds(),t,3)}function k10(n,t){return _10(n,t)+"000"}function K10(n,t){return x15(n.getMonth()+1,t,2)}function nn2(n,t){return x15(n.getMinutes(),t,2)}function tn2(n,t){return x15(n.getSeconds(),t,2)}function en2(n){var t=n.getDay();return 0===t?7:t}function rn2(n,r){return x15(O8.count(ie(n)-1,n),r,2)}function un2(n){var t=n.getDay();return t>=4||0===t?j10(n):j10.ceil(n)}function on2(n,e){return n=un2(n),x15(j10.count(ie(n),n)+(4===ie(n).getDay()),e,2)}function cn2(n){return n.getDay()}function an2(n,e){return x15(W7.count(ie(n)-1,n),e,2)}function fn2(n,t){return x15(n.getFullYear()%100,t,2)}function ln2(n,t){return x15((n=un2(n)).getFullYear()%100,t,2)}function gn1(n,t){return x15(n.getFullYear()%1e4,t,4)}function sn1(n,t){var e=n.getDay();return x15((n=e>=4||0===e?j10(n):j10.ceil(n)).getFullYear()%1e4,t,4)}function hn2(n){var t=n.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+x15(t/60|0,"0",2)+x15(t%60,"0",2)}function yn1(n,t){return x15(n.getUTCDate(),t,2)}function vn1(n,t){return x15(n.getUTCHours(),t,2)}function dn1(n,t){return x15(n.getUTCHours()%12||12,t,2)}function mn1(n,t){return x15(1+v16.count(ce(n),n),t,3)}function Dn1(n,t){return x15(n.getUTCMilliseconds(),t,3)}function Cn1(n,t){return Dn1(n,t)+"000"}function Mn1(n,t){return x15(n.getUTCMonth()+1,t,2)}function Tn1(n,t){return x15(n.getUTCMinutes(),t,2)}function Un1(n,t){return x15(n.getUTCSeconds(),t,2)}function xn1(n){var t=n.getUTCDay();return 0===t?7:t}function wn1(n,t){return x15(P9.count(ce(n)-1,n),t,2)}function pn1(n){var t=n.getUTCDay();return t>=4||0===t?X7(n):X7.ceil(n)}function Sn1(n,t){return n=pn1(n),x15(X7.count(ce(n),n)+(4===ce(n).getUTCDay()),t,2)}function Fn1(n){return n.getUTCDay()}function Ln1(n,t){return x15(Q8.count(ce(n)-1,n),t,2)}function Hn1(n,t){return x15(n.getUTCFullYear()%100,t,2)}function Yn1(n,t){return x15((n=pn1(n)).getUTCFullYear()%100,t,2)}function An1(n,t){return x15(n.getUTCFullYear()%1e4,t,4)}function Zn1(n,t){var e=n.getUTCDay();return x15((n=e>=4||0===e?X7(n):X7.ceil(n)).getUTCFullYear()%1e4,t,4)}function Wn1(){return"+0000"}function bn1(){return"%"}function Vn1(n){return+n}function jn1(n){return Math.floor(+n/1e3)}function qn1(n){return y14=h24(n),v17=y14.format,d19=y14.parse,m19=y14.utcFormat,D9=y14.utcParse,y14}qn1({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var In1="%Y-%m-%dT%H:%M:%S.%LZ";var Jn1=Date.prototype.toISOString?function(n){return n.toISOString()}:m19(In1);var Qn1=+new Date("2000-01-01T00:00:00.000Z")?function(n){var t=new Date(n);return isNaN(t)?null:t}:D9(In1);export{Jn1 as isoFormat,Qn1 as isoParse,v17 as timeFormat,qn1 as timeFormatDefaultLocale,h24 as timeFormatLocale,d19 as timeParse,m19 as utcFormat,D9 as utcParse};function B11(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n)}return this}function C13(n,t){switch(arguments.length){case 0:break;case 1:"function"==typeof n?this.interpolator(n):this.range(n);break;default:this.domain(n),"function"==typeof t?this.interpolator(t):this.range(t)}return this}const z11=Symbol("implicit");function Y9(){var t=new e,r=[],e1=[],u=z11;function a(n){let a=t.get(n);if(void 0===a){if(u!==z11)return u;t.set(n,a=r.push(n)-1)}return e1[a%e1.length]}return a.domain=function(e1){if(!arguments.length)return r.slice();r=[],t=new e;for(const n of e1)t.has(n)||t.set(n,r.push(n)-1);return a},a.range=function(n){return arguments.length?(e1=Array.from(n),a):e1.slice()},a.unknown=function(n){return arguments.length?(u=n,a):u},a.copy=function(){return Y9(r,e1).unknown(u)},B11.apply(a,arguments),a}function j12(){var n,r,e=Y9().unknown(void 0),u=e.domain,a=e.range,o=0,i=1,c=!1,l=0,f=0,s=.5;function p(){var e=u().length,p=i<o,h=p?i:o,g=p?o:i;n=(g-h)/Math.max(1,e-l+2*f),c&&(n=Math.floor(n)),h+=(g-h-n*(e-l))*s,r=n*(1-l),c&&(h=Math.round(h),r=Math.round(r));var m=Nt(e).map((function(t){return h+n*t}));return a(p?m.reverse():m)}return delete e.unknown,e.domain=function(n){return arguments.length?(u(n),p()):u()},e.range=function(n){return arguments.length?([o,i]=n,o=+o,i=+i,p()):[o,i]},e.rangeRound=function(n){return[o,i]=n,o=+o,i=+i,c=!0,p()},e.bandwidth=function(){return r},e.step=function(){return n},e.round=function(n){return arguments.length?(c=!!n,p()):c},e.padding=function(n){return arguments.length?(l=Math.min(1,f=+n),p()):l},e.paddingInner=function(n){return arguments.length?(l=Math.min(1,n),p()):l},e.paddingOuter=function(n){return arguments.length?(f=+n,p()):f},e.align=function(n){return arguments.length?(s=Math.max(0,Math.min(1,n)),p()):s},e.copy=function(){return j12(u(),[o,i]).round(c).paddingInner(l).paddingOuter(f).align(s)},B11.apply(p(),arguments)}function G10(n){var t=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return G10(t())},n}function H10(){return G10(j12.apply(null,arguments).paddingInner(1))}function J10(n){return+n}var K11=[0,1];function V10(n){return n}function W9(n,t){return(t-=n=+n)?function(r){return(r-n)/t}:(r=isNaN(t)?NaN:.5,function(){return r});var r}function X9(n,t,r){var e=n[0],u=n[1],a=t[0],o=t[1];return u<e?(e=W9(u,e),a=r(o,a)):(e=W9(e,u),a=r(a,o)),function(n){return a(e(n))}}function Z9(n,t,e){var u=Math.min(n.length,t.length)-1,a=new Array(u),o=new Array(u),i=-1;for(n[u]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++i<u;)a[i]=W9(n[i],n[i+1]),o[i]=e(t[i],t[i+1]);return function(t){var e=l(n,t,1,u)-1;return o[e](a[e](t))}}function $10(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function _11(){var n,t,r,e,u,a,o=K11,i=K11,c=R3,p=V10;function h(){var n,t,r,c=Math.min(o.length,i.length);return p!==V10&&(n=o[0],t=o[c-1],n>t&&(r=n,n=t,t=r),p=function(r){return Math.max(n,Math.min(t,r))}),e=c>2?Z9:X9,u=a=null,g}function g(t){return null==t||isNaN(t=+t)?r:(u||(u=e(o.map(n),i,c)))(n(p(t)))}return g.invert=function(r){return p(t((a||(a=e(i,o.map(n),X3)))(r)))},g.domain=function(n){return arguments.length?(o=Array.from(n,J10),h()):o.slice()},g.range=function(n){return arguments.length?(i=Array.from(n),h()):i.slice()},g.rangeRound=function(n){return i=Array.from(n),c=j3,h()},g.clamp=function(n){return arguments.length?(p=!!n||V10,h()):p!==V10},g.interpolate=function(n){return arguments.length?(c=n,h()):c},g.unknown=function(n){return arguments.length?(r=n,g):r},function(r,e){return n=r,t=e,h()}}function nn3(){return _11()(V10,V10)}function tn3(n,t,r,u){var a,o=nt(n,t,r);switch((u=e15(null==u?",f":u)).type){case"s":var i=Math.max(Math.abs(n),Math.abs(t));return null!=u.precision||isNaN(a=v12(o,i))||(u.precision=a),u15(u,i);case"":case"e":case"g":case"p":case"r":null!=u.precision||isNaN(a=M11(o,Math.max(Math.abs(n),Math.abs(t))))||(u.precision=a-("e"===u.type));break;case"f":case"%":null!=u.precision||isNaN(a=p13(o))||(u.precision=a-2*("%"===u.type))}return l17(u)}function rn3(n){var t=n.domain;return n.ticks=function(n){var r=t();return $(r[0],r[r.length-1],null==n?10:n)},n.tickFormat=function(n,r){var e=t();return tn3(e[0],e[e.length-1],null==n?10:n,r)},n.nice=function(r){null==r&&(r=10);var e,u,o=t(),i=0,c=o.length-1,l=o[i],f=o[c],s=10;for(f<l&&(u=l,l=f,f=u,u=i,i=c,c=u);s-- >0;){if((u=tt(l,f,r))===e)return o[i]=l,o[c]=f,t(o);if(u>0)l=Math.floor(l/u)*u,f=Math.ceil(f/u)*u;else{if(!(u<0))break;l=Math.ceil(l*u)/u,f=Math.floor(f*u)/u}e=u}return n},n}function en3(){var n=nn3();return n.copy=function(){return $10(n,en3())},B11.apply(n,arguments),rn3(n)}function un3(n){var t;function r(n){return null==n||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(t){return arguments.length?(n=Array.from(t,J10),r):n.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return un3(n).unknown(t)},n=arguments.length?Array.from(n,J10):[0,1],rn3(r)}function an3(n,t){var r,e=0,u=(n=n.slice()).length-1,a=n[e],o=n[u];return o<a&&(r=e,e=u,u=r,r=a,a=o,o=r),n[e]=t.floor(a),n[u]=t.ceil(o),n}function on3(n){return Math.log(n)}function cn3(n){return Math.exp(n)}function ln3(n){return-Math.log(-n)}function fn3(n){return-Math.exp(-n)}function sn2(n){return isFinite(n)?+("1e"+n):n<0?0:n}function pn2(n){return(t,r)=>-n(-t,r)}function hn3(n){const t=n(on3,cn3),r=t.domain;let e,a,o=10;function i(){return e=function(n){return n===Math.E?Math.log:10===n&&Math.log10||2===n&&Math.log2||(n=Math.log(n),t=>Math.log(t)/n)}(o),a=function(n){return 10===n?sn2:n===Math.E?Math.exp:t=>Math.pow(n,t)}(o),r()[0]<0?(e=pn2(e),a=pn2(a),n(ln3,fn3)):n(on3,cn3),t}return t.base=function(n){return arguments.length?(o=+n,i()):o},t.domain=function(n){return arguments.length?(r(n),i()):r()},t.ticks=n=>{const t=r();let i=t[0],c=t[t.length-1];const l=c<i;l&&([i,c]=[c,i]);let f,s,p=e(i),h=e(c);const g=null==n?10:+n;let m=[];if(!(o%1)&&h-p<g){if(p=Math.floor(p),h=Math.ceil(h),i>0){for(;p<=h;++p)for(f=1;f<o;++f)if(s=p<0?f/a(-p):f*a(p),!(s<i)){if(s>c)break;m.push(s)}}else for(;p<=h;++p)for(f=o-1;f>=1;--f)if(s=p>0?f/a(-p):f*a(p),!(s<i)){if(s>c)break;m.push(s)}2*m.length<g&&(m=$(i,c,g))}else m=$(p,h,Math.min(h-p,g)).map(a);return l?m.reverse():m},t.tickFormat=(n,r)=>{if(null==n&&(n=10),null==r&&(r=10===o?"s":","),"function"!=typeof r&&(o%1||null!=(r=e15(r)).precision||(r.trim=!0),r=l17(r)),n===1/0)return r;const u=Math.max(1,o*n/t.ticks().length);return n=>{let t=n/a(Math.round(e(n)));return t*o<o-.5&&(t*=o),t<=u?r(n):""}},t.nice=()=>r(an3(r(),{floor:n=>a(Math.floor(e(n))),ceil:n=>a(Math.ceil(e(n)))})),t}function gn2(){const n=hn3(_11()).domain([1,10]);return n.copy=()=>$10(n,gn2()).base(n.base()),B11.apply(n,arguments),n}function mn2(n){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/n))}}function dn2(n){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*n}}function yn2(n){var t=1,r=n(mn2(t),dn2(t));return r.constant=function(r){return arguments.length?n(mn2(t=+r),dn2(t)):t},rn3(r)}function vn2(){var n=yn2(_11());return n.copy=function(){return $10(n,vn2()).constant(n.constant())},B11.apply(n,arguments)}function Mn2(n){return function(t){return t<0?-Math.pow(-t,n):Math.pow(t,n)}}function wn2(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function kn1(n){return n<0?-n*n:n*n}function Nn1(n){var t=n(V10,V10),r=1;return t.exponent=function(t){return arguments.length?1===(r=+t)?n(V10,V10):.5===r?n(wn2,kn1):n(Mn2(r),Mn2(1/r)):r},rn3(t)}function xn2(){var n=Nn1(_11());return n.copy=function(){return $10(n,xn2()).exponent(n.exponent())},B11.apply(n,arguments),n}function bn2(){return xn2.apply(null,arguments).exponent(.5)}function An2(n){return Math.sign(n)*n*n}function qn2(){var n,t=nn3(),r=[0,1],e=!1;function u(r){var u=function(n){return Math.sign(n)*Math.sqrt(Math.abs(n))}(t(r));return isNaN(u)?n:e?Math.round(u):u}return u.invert=function(n){return t.invert(An2(n))},u.domain=function(n){return arguments.length?(t.domain(n),u):t.domain()},u.range=function(n){return arguments.length?(t.range((r=Array.from(n,J10)).map(An2)),u):r.slice()},u.rangeRound=function(n){return u.range(n).round(!0)},u.round=function(n){return arguments.length?(e=!!n,u):e},u.clamp=function(n){return arguments.length?(t.clamp(n),u):t.clamp()},u.unknown=function(t){return arguments.length?(n=t,u):n},u.copy=function(){return qn2(t.domain(),r).round(e).clamp(t.clamp()).unknown(n)},B11.apply(u,arguments),rn3(u)}function Sn2(){var n,t=[],e=[],u=[];function a(){var n=0,r=Math.max(1,e.length);for(u=new Array(r-1);++n<r;)u[n-1]=yt(t,n/r);return c}function c(t){return null==t||isNaN(t=+t)?n:e[l(u,t)]}return c.invertExtent=function(n){var r=e.indexOf(n);return r<0?[NaN,NaN]:[r>0?u[r-1]:t[0],r<u.length?u[r]:t[t.length-1]]},c.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let r of n)null==r||isNaN(r=+r)||t.push(r);return t.sort(r1),a()},c.range=function(n){return arguments.length?(e=Array.from(n),a()):e.slice()},c.unknown=function(t){return arguments.length?(n=t,c):n},c.quantiles=function(){return u.slice()},c.copy=function(){return Sn2().domain(t).range(e).unknown(n)},B11.apply(c,arguments)}function Dn2(){var n,t=0,e=1,u=1,a=[.5],o=[0,1];function i(t){return null!=t&&t<=t?o[l(a,t,0,u)]:n}function c(){var n=-1;for(a=new Array(u);++n<u;)a[n]=((n+1)*e-(n-u)*t)/(u+1);return i}return i.domain=function(n){return arguments.length?([t,e]=n,t=+t,e=+e,c()):[t,e]},i.range=function(n){return arguments.length?(u=(o=Array.from(n)).length-1,c()):o.slice()},i.invertExtent=function(n){var r=o.indexOf(n);return r<0?[NaN,NaN]:r<1?[t,a[0]]:r>=u?[a[u-1],e]:[a[r-1],a[r]]},i.unknown=function(t){return arguments.length?(n=t,i):i},i.thresholds=function(){return a.slice()},i.copy=function(){return Dn2().domain([t,e]).range(o).unknown(n)},B11.apply(rn3(i),arguments)}function In2(){var n,t=[.5],e=[0,1],u=1;function a(a){return null!=a&&a<=a?e[l(t,a,0,u)]:n}return a.domain=function(n){return arguments.length?(t=Array.from(n),u=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(n){return arguments.length?(e=Array.from(n),u=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(n){var r=e.indexOf(n);return[t[r-1],t[r]]},a.unknown=function(t){return arguments.length?(n=t,a):n},a.copy=function(){return In2().domain(t).range(e).unknown(n)},B11.apply(a,arguments)}function On1(n){return new Date(n)}function Rn1(n){return n instanceof Date?+n:+new Date(+n)}function En1(n,t,r,e,u,a,o,i,c,l){var f=nn3(),s=f.invert,p=f.domain,h=l(".%L"),g=l(":%S"),m=l("%I:%M"),d=l("%I %p"),y=l("%a %d"),v=l("%b %d"),M=l("%B"),w=l("%Y");function k(n){return(c(n)<n?h:i(n)<n?g:o(n)<n?m:a(n)<n?d:e(n)<n?u(n)<n?y:v:r(n)<n?M:w)(n)}return f.invert=function(n){return new Date(s(n))},f.domain=function(n){return arguments.length?p(Array.from(n,Rn1)):p().map(On1)},f.ticks=function(t){var r=p();return n(r[0],r[r.length-1],null==t?10:t)},f.tickFormat=function(n,t){return null==t?k:l(t)},f.nice=function(n){var r=p();return n&&"function"==typeof n.range||(n=t(r[0],r[r.length-1],null==n?10:n)),n?p(an3(r,n)):f},f.copy=function(){return $10(f,En1(n,t,r,e,u,a,o,i,c,l))},f}function Ln2(){return B11.apply(En1(he,me,ie,oe,O8,y13,F8,M15,C11,v17).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Fn2(){return B11.apply(En1(Ue,Me,ce,ge,P9,v16,d18,m18,C11,m19).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Pn1(){var n,t,r,e,u,a=0,o=1,i=V10,c=!1;function l(t){return null==t||isNaN(t=+t)?u:i(0===r?.5:(t=(e(t)-n)*r,c?Math.max(0,Math.min(1,t)):t))}function p(n){return function(t){var r,e;return arguments.length?([r,e]=t,i=n(r,e),l):[i(0),i(1)]}}return l.domain=function(u){return arguments.length?([a,o]=u,n=e(a=+a),t=e(o=+o),r=n===t?0:1/(t-n),l):[a,o]},l.clamp=function(n){return arguments.length?(c=!!n,l):c},l.interpolator=function(n){return arguments.length?(i=n,l):i},l.range=p(R3),l.rangeRound=p(j3),l.unknown=function(n){return arguments.length?(u=n,l):u},function(u){return e=u,n=u(a),t=u(o),r=n===t?0:1/(t-n),l}}function Tn2(n,t){return t.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function Qn2(){var n=rn3(Pn1()(V10));return n.copy=function(){return Tn2(n,Qn2())},C13.apply(n,arguments)}function Un2(){var n=hn3(Pn1()).domain([1,10]);return n.copy=function(){return Tn2(n,Un2()).base(n.base())},C13.apply(n,arguments)}function Bn1(){var n=yn2(Pn1());return n.copy=function(){return Tn2(n,Bn1()).constant(n.constant())},C13.apply(n,arguments)}function Cn2(){var n=Nn1(Pn1());return n.copy=function(){return Tn2(n,Cn2()).exponent(n.exponent())},C13.apply(n,arguments)}function zn1(){return Cn2.apply(null,arguments).exponent(.5)}function Yn2(){var n=[],t=V10;function e(e){if(null!=e&&!isNaN(e=+e))return t((l(n,e,1)-1)/(n.length-1))}return e.domain=function(t){if(!arguments.length)return n.slice();n=[];for(let r of t)null==r||isNaN(r=+r)||n.push(r);return n.sort(r1),e},e.interpolator=function(n){return arguments.length?(t=n,e):t},e.range=function(){return n.map(((r,e)=>t(e/(n.length-1))))},e.quantiles=function(t){return Array.from({length:t+1},((r,e)=>ht(n,e/t)))},e.copy=function(){return Yn2(t).domain(n)},C13.apply(e,arguments)}function jn2(){var n,t,r,e,u,a,o,i=0,c=.5,l=1,h=1,g=V10,m=!1;function d(n){return isNaN(n=+n)?o:(n=.5+((n=+a(n))-t)*(h*n<h*t?e:u),g(m?Math.max(0,Math.min(1,n)):n))}function y(n){return function(t){var r,e,u;return arguments.length?([r,e,u]=t,g=U3(n,[r,e,u]),d):[g(0),g(.5),g(1)]}}return d.domain=function(o){return arguments.length?([i,c,l]=o,n=a(i=+i),t=a(c=+c),r=a(l=+l),e=n===t?0:.5/(t-n),u=t===r?0:.5/(r-t),h=t<n?-1:1,d):[i,c,l]},d.clamp=function(n){return arguments.length?(m=!!n,d):m},d.interpolator=function(n){return arguments.length?(g=n,d):g},d.range=y(R3),d.rangeRound=y(j3),d.unknown=function(n){return arguments.length?(o=n,d):o},function(o){return a=o,n=o(i),t=o(c),r=o(l),e=n===t?0:.5/(t-n),u=t===r?0:.5/(r-t),h=t<n?-1:1,d}}function Gn1(){var n=rn3(jn2()(V10));return n.copy=function(){return Tn2(n,Gn1())},C13.apply(n,arguments)}function Hn2(){var n=hn3(jn2()).domain([.1,1,10]);return n.copy=function(){return Tn2(n,Hn2()).base(n.base())},C13.apply(n,arguments)}function Jn2(){var n=yn2(jn2());return n.copy=function(){return Tn2(n,Jn2()).constant(n.constant())},C13.apply(n,arguments)}function Kn1(){var n=Nn1(jn2());return n.copy=function(){return Tn2(n,Kn1()).exponent(n.exponent())},C13.apply(n,arguments)}function Vn2(){return Kn1.apply(null,arguments).exponent(.5)}export{j12 as scaleBand,Gn1 as scaleDiverging,Hn2 as scaleDivergingLog,Kn1 as scaleDivergingPow,Vn2 as scaleDivergingSqrt,Jn2 as scaleDivergingSymlog,un3 as scaleIdentity,z11 as scaleImplicit,en3 as scaleLinear,gn2 as scaleLog,Y9 as scaleOrdinal,H10 as scalePoint,xn2 as scalePow,Sn2 as scaleQuantile,Dn2 as scaleQuantize,qn2 as scaleRadial,Qn2 as scaleSequential,Un2 as scaleSequentialLog,Cn2 as scaleSequentialPow,Yn2 as scaleSequentialQuantile,zn1 as scaleSequentialSqrt,Bn1 as scaleSequentialSymlog,bn2 as scaleSqrt,vn2 as scaleSymlog,In2 as scaleThreshold,Ln2 as scaleTime,Fn2 as scaleUtc,tn3 as tickFormat};function c20(f){for(var e=f.length/6|0,a=new Array(e),d=0;d<e;)a[d]="#"+f.slice(6*d,6*++d);return a}var b13=c20("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),t16=c20("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),r20=c20("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),n18=c20("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),s25=c20("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),o22=c20("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),m20=c20("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),h25=c20("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),l24=c20("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),p19=c20("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),i22=e=>M3(e[e.length-1]),u21=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(c20),M17=i22(u21),y15=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(c20),w17=i22(y15),A15=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(c20),P11=i22(A15),B12=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(c20),G11=i22(B12),R10=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(c20),Y10=i22(R10),x16=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(c20),g20=i22(x16),O10=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(c20),v18=i22(O10),S11=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(c20),C14=i22(S11),I11=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(c20),D10=i22(I11),T11=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(c20),k11=i22(T11),V11=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(c20),W10=i22(V11),j13=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(c20),q11=i22(j13),z12=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(c20),E12=i22(z12),F10=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(c20),H11=i22(F10),J11=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(c20),K12=i22(J11),L10=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(c20),N11=i22(L10),Q10=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(c20),U9=i22(Q10),X10=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(c20),Z10=i22(X10),$11=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(c20),_12=i22($11),ff=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(c20),ef=i22(ff),af=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(c20),df=i22(af),cf=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(c20),bf=i22(cf),tf=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(c20),rf=i22(tf),nf=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(c20),sf=i22(nf),of=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(c20),mf=i22(of),hf=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(c20),lf=i22(hf),pf=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(c20),uf=i22(pf);function Mf(f){return f=Math.max(0,Math.min(1,f)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-f*(35.34-f*(2381.73-f*(6402.7-f*(7024.72-2710.57*f)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+f*(170.73+f*(52.82-f*(131.46-f*(176.58-67.37*f)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+f*(442.36-f*(2482.43-f*(6167.24-f*(6614.94-2475.67*f)))))))+")"}var yf=J3(gt2(300,.5,0),gt2(-240,.5,1)),wf=J3(gt2(-100,.75,.35),gt2(80,1.5,.8)),Af=J3(gt2(260,.75,.35),gt2(80,1.5,.8)),Pf=gt2();function Bf(f){(f<0||f>1)&&(f-=Math.floor(f));var e=Math.abs(f-.5);return Pf.h=360*f-100,Pf.s=1.5-1.5*e,Pf.l=.8-.9*e,Pf+""}var Gf=k2(),Rf=Math.PI/3,Yf=2*Math.PI/3;function xf(f){var e;return f=(.5-f)*Math.PI,Gf.r=255*(e=Math.sin(f))*e,Gf.g=255*(e=Math.sin(f+Rf))*e,Gf.b=255*(e=Math.sin(f+Yf))*e,Gf+""}function gf(f){return f=Math.max(0,Math.min(1,f)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+f*(1172.33-f*(10793.56-f*(33300.12-f*(38394.49-14825.05*f)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+f*(557.33+f*(1225.33-f*(3574.96-f*(1073.77+707.56*f)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+f*(3211.1-f*(15327.97-f*(27814-f*(22569.18-6838.66*f)))))))+")"}function Of(f){var e=f.length;return function(a){return f[Math.max(0,Math.min(e-1,Math.floor(a*e)))]}}var vf=Of(c20("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Sf=Of(c20("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Cf=Of(c20("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),If=Of(c20("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));export{bf as interpolateBlues,M17 as interpolateBrBG,k11 as interpolateBuGn,W10 as interpolateBuPu,Mf as interpolateCividis,Af as interpolateCool,yf as interpolateCubehelixDefault,q11 as interpolateGnBu,rf as interpolateGreens,sf as interpolateGreys,Cf as interpolateInferno,Sf as interpolateMagma,E12 as interpolateOrRd,uf as interpolateOranges,w17 as interpolatePRGn,P11 as interpolatePiYG,If as interpolatePlasma,K12 as interpolatePuBu,H11 as interpolatePuBuGn,G11 as interpolatePuOr,N11 as interpolatePuRd,mf as interpolatePurples,Bf as interpolateRainbow,Y10 as interpolateRdBu,g20 as interpolateRdGy,U9 as interpolateRdPu,v18 as interpolateRdYlBu,C14 as interpolateRdYlGn,lf as interpolateReds,xf as interpolateSinebow,D10 as interpolateSpectral,gf as interpolateTurbo,vf as interpolateViridis,wf as interpolateWarm,_12 as interpolateYlGn,Z10 as interpolateYlGnBu,ef as interpolateYlOrBr,df as interpolateYlOrRd,t16 as schemeAccent,cf as schemeBlues,u21 as schemeBrBG,T11 as schemeBuGn,V11 as schemeBuPu,b13 as schemeCategory10,r20 as schemeDark2,j13 as schemeGnBu,tf as schemeGreens,nf as schemeGreys,z12 as schemeOrRd,pf as schemeOranges,y15 as schemePRGn,n18 as schemePaired,s25 as schemePastel1,o22 as schemePastel2,A15 as schemePiYG,J11 as schemePuBu,F10 as schemePuBuGn,B12 as schemePuOr,L10 as schemePuRd,of as schemePurples,R10 as schemeRdBu,x16 as schemeRdGy,Q10 as schemeRdPu,O10 as schemeRdYlBu,S11 as schemeRdYlGn,hf as schemeReds,m20 as schemeSet1,h25 as schemeSet2,l24 as schemeSet3,I11 as schemeSpectral,p19 as schemeTableau10,$11 as schemeYlGn,X10 as schemeYlGnBu,ff as schemeYlOrBr,af as schemeYlOrRd};function n19(t){return function(){return t}}const i23=Math.abs,e20=Math.atan2,s26=Math.cos,o23=Math.max,h26=Math.min,_13=Math.sin,r21=Math.sqrt,a20=1e-12,l25=Math.PI,c21=l25/2,u22=2*l25;function f18(t){return t>=1?c21:t<=-1?-c21:Math.asin(t)}function y16(n){let i=3;return n.digits=function(t){if(!arguments.length)return i;if(null==t)i=null;else{const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);i=n}return n},()=>new e8(i)}function x17(t){return t.innerRadius}function p20(t){return t.outerRadius}function v19(t){return t.startAngle}function d20(t){return t.endAngle}function T12(t){return t&&t.padAngle}function g21(t,n,i,e,s,h,_){var a=t-i,l=n-e,c=(_?h:-h)/r21(a*a+l*l),u=c*l,f=-c*a,y=t+u,x=n+f,p=i+u,v=e+f,d=(y+p)/2,T=(x+v)/2,g=p-y,m=v-x,b=g*g+m*m,w=s-h,k=y*v-p*x,N=(m<0?-1:1)*r21(o23(0,w*w*b-k*k)),S=(k*m-g*N)/b,E=(-k*g-m*N)/b,A=(k*m+g*N)/b,M=(-k*g+m*N)/b,P=S-d,C=E-T,O=A-d,R=M-T;return P*P+C*C>O*O+R*R&&(S=A,E=M),{cx:S,cy:E,x01:-u,y01:-f,x11:S*(s/w-1),y11:E*(s/w-1)}}function m21(){var t=x17,o=p20,m=n19(0),b=null,w=v19,k=d20,N=T12,S=null,E=y16(A);function A(){var n,y,x=+t.apply(this,arguments),p=+o.apply(this,arguments),v=w.apply(this,arguments)-c21,d=k.apply(this,arguments)-c21,T=i23(d-v),A=d>v;if(S||(S=n=E()),p<x&&(y=p,p=x,x=y),p>1e-12)if(T>u22-1e-12)S.moveTo(p*s26(v),p*_13(v)),S.arc(0,0,p,v,d,!A),x>1e-12&&(S.moveTo(x*s26(d),x*_13(d)),S.arc(0,0,x,d,v,A));else{var M,P,C=v,O=d,R=v,z=d,X=T,Y=T,B=N.apply(this,arguments)/2,q=B>1e-12&&(b?+b.apply(this,arguments):r21(x*x+p*p)),D=h26(i23(p-x)/2,+m.apply(this,arguments)),I=D,j=D;if(q>1e-12){var L=f18(q/x*_13(B)),W=f18(q/p*_13(B));(X-=2*L)>1e-12?(R+=L*=A?1:-1,z-=L):(X=0,R=z=(v+d)/2),(Y-=2*W)>1e-12?(C+=W*=A?1:-1,O-=W):(Y=0,C=O=(v+d)/2)}var V=p*s26(C),$=p*_13(C),F=x*s26(z),G=x*_13(z);if(D>1e-12){var H,J=p*s26(O),K=p*_13(O),Q=x*s26(R),U=x*_13(R);if(T<l25)if(H=function(t,n,i,e,s,o,h,_){var r=i-t,l=e-n,c=h-s,u=_-o,f=u*r-c*l;if(!(f*f<a20))return[t+(f=(c*(n-o)-u*(t-s))/f)*r,n+f*l]}(V,$,Q,U,J,K,F,G)){var Z=V-H[0],tt=$-H[1],nt=J-H[0],it=K-H[1],et=1/_13(function(t){return t>1?0:t<-1?l25:Math.acos(t)}((Z*nt+tt*it)/(r21(Z*Z+tt*tt)*r21(nt*nt+it*it)))/2),st=r21(H[0]*H[0]+H[1]*H[1]);I=h26(D,(x-st)/(et-1)),j=h26(D,(p-st)/(et+1))}else I=j=0}Y>1e-12?j>1e-12?(M=g21(Q,U,V,$,p,j,A),P=g21(J,K,F,G,p,j,A),S.moveTo(M.cx+M.x01,M.cy+M.y01),j<D?S.arc(M.cx,M.cy,j,e20(M.y01,M.x01),e20(P.y01,P.x01),!A):(S.arc(M.cx,M.cy,j,e20(M.y01,M.x01),e20(M.y11,M.x11),!A),S.arc(0,0,p,e20(M.cy+M.y11,M.cx+M.x11),e20(P.cy+P.y11,P.cx+P.x11),!A),S.arc(P.cx,P.cy,j,e20(P.y11,P.x11),e20(P.y01,P.x01),!A))):(S.moveTo(V,$),S.arc(0,0,p,C,O,!A)):S.moveTo(V,$),x>1e-12&&X>1e-12?I>1e-12?(M=g21(F,G,J,K,x,-I,A),P=g21(V,$,Q,U,x,-I,A),S.lineTo(M.cx+M.x01,M.cy+M.y01),I<D?S.arc(M.cx,M.cy,I,e20(M.y01,M.x01),e20(P.y01,P.x01),!A):(S.arc(M.cx,M.cy,I,e20(M.y01,M.x01),e20(M.y11,M.x11),!A),S.arc(0,0,x,e20(M.cy+M.y11,M.cx+M.x11),e20(P.cy+P.y11,P.cx+P.x11),A),S.arc(P.cx,P.cy,I,e20(P.y11,P.x11),e20(P.y01,P.x01),!A))):S.arc(0,0,x,z,R,A):S.lineTo(F,G)}else S.moveTo(0,0);if(S.closePath(),n)return S=null,n+""||null}return A.centroid=function(){var n=(+t.apply(this,arguments)+ +o.apply(this,arguments))/2,i=(+w.apply(this,arguments)+ +k.apply(this,arguments))/2-l25/2;return[s26(i)*n,_13(i)*n]},A.innerRadius=function(i){return arguments.length?(t="function"==typeof i?i:n19(+i),A):t},A.outerRadius=function(t){return arguments.length?(o="function"==typeof t?t:n19(+t),A):o},A.cornerRadius=function(t){return arguments.length?(m="function"==typeof t?t:n19(+t),A):m},A.padRadius=function(t){return arguments.length?(b=null==t?null:"function"==typeof t?t:n19(+t),A):b},A.startAngle=function(t){return arguments.length?(w="function"==typeof t?t:n19(+t),A):w},A.endAngle=function(t){return arguments.length?(k="function"==typeof t?t:n19(+t),A):k},A.padAngle=function(t){return arguments.length?(N="function"==typeof t?t:n19(+t),A):N},A.context=function(t){return arguments.length?(S=null==t?null:t,A):S},A}var b14=Array.prototype.slice;function w18(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function k12(t){this._context=t}function N12(t){return new k12(t)}function S12(t){return t[0]}function E13(t){return t[1]}function A16(t,i){var e=n19(!0),s=null,o=N12,h=null,_=y16(r);function r(n){var r,a,l,c=(n=w18(n)).length,u=!1;for(null==s&&(h=o(l=_())),r=0;r<=c;++r)!(r<c&&e(a=n[r],r,n))===u&&((u=!u)?h.lineStart():h.lineEnd()),u&&h.point(+t(a,r,n),+i(a,r,n));if(l)return h=null,l+""||null}return t="function"==typeof t?t:void 0===t?S12:n19(t),i="function"==typeof i?i:void 0===i?E13:n19(i),r.x=function(i){return arguments.length?(t="function"==typeof i?i:n19(+i),r):t},r.y=function(t){return arguments.length?(i="function"==typeof t?t:n19(+t),r):i},r.defined=function(t){return arguments.length?(e="function"==typeof t?t:n19(!!t),r):e},r.curve=function(t){return arguments.length?(o=t,null!=s&&(h=o(s)),r):o},r.context=function(t){return arguments.length?(null==t?s=h=null:h=o(s=t),r):s},r}function M18(t,i,e){var s=null,o=n19(!0),h=null,_=N12,r=null,a=y16(l);function l(n){var l,c,u,f,y,x=(n=w18(n)).length,p=!1,v=new Array(x),d=new Array(x);for(null==h&&(r=_(y=a())),l=0;l<=x;++l){if(!(l<x&&o(f=n[l],l,n))===p)if(p=!p)c=l,r.areaStart(),r.lineStart();else{for(r.lineEnd(),r.lineStart(),u=l-1;u>=c;--u)r.point(v[u],d[u]);r.lineEnd(),r.areaEnd()}p&&(v[l]=+t(f,l,n),d[l]=+i(f,l,n),r.point(s?+s(f,l,n):v[l],e?+e(f,l,n):d[l]))}if(y)return r=null,y+""||null}function c(){return A16().defined(o).curve(_).context(h)}return t="function"==typeof t?t:void 0===t?S12:n19(+t),i="function"==typeof i?i:n19(void 0===i?0:+i),e="function"==typeof e?e:void 0===e?E13:n19(+e),l.x=function(i){return arguments.length?(t="function"==typeof i?i:n19(+i),s=null,l):t},l.x0=function(i){return arguments.length?(t="function"==typeof i?i:n19(+i),l):t},l.x1=function(t){return arguments.length?(s=null==t?null:"function"==typeof t?t:n19(+t),l):s},l.y=function(t){return arguments.length?(i="function"==typeof t?t:n19(+t),e=null,l):i},l.y0=function(t){return arguments.length?(i="function"==typeof t?t:n19(+t),l):i},l.y1=function(t){return arguments.length?(e=null==t?null:"function"==typeof t?t:n19(+t),l):e},l.lineX0=l.lineY0=function(){return c().x(t).y(i)},l.lineY1=function(){return c().x(t).y(e)},l.lineX1=function(){return c().x(s).y(i)},l.defined=function(t){return arguments.length?(o="function"==typeof t?t:n19(!!t),l):o},l.curve=function(t){return arguments.length?(_=t,null!=h&&(r=_(h)),l):_},l.context=function(t){return arguments.length?(null==t?h=r=null:r=_(h=t),l):h},l}function P12(t,n){return n<t?-1:n>t?1:n>=t?0:NaN}function C15(t){return t}function O11(){var t=C15,i=P12,e=null,s=n19(0),o=n19(u22),h=n19(0);function _(n){var _,r,a,l,c,f=(n=w18(n)).length,y=0,x=new Array(f),p=new Array(f),v=+s.apply(this,arguments),d=Math.min(u22,Math.max(-u22,o.apply(this,arguments)-v)),T=Math.min(Math.abs(d)/f,h.apply(this,arguments)),g=T*(d<0?-1:1);for(_=0;_<f;++_)(c=p[x[_]=_]=+t(n[_],_,n))>0&&(y+=c);for(null!=i?x.sort((function(t,n){return i(p[t],p[n])})):null!=e&&x.sort((function(t,i){return e(n[t],n[i])})),_=0,a=y?(d-f*g)/y:0;_<f;++_,v=l)r=x[_],l=v+((c=p[r])>0?c*a:0)+g,p[r]={data:n[r],index:_,value:c,startAngle:v,endAngle:l,padAngle:T};return p}return _.value=function(i){return arguments.length?(t="function"==typeof i?i:n19(+i),_):t},_.sortValues=function(t){return arguments.length?(i=t,e=null,_):i},_.sort=function(t){return arguments.length?(e=t,i=null,_):e},_.startAngle=function(t){return arguments.length?(s="function"==typeof t?t:n19(+t),_):s},_.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:n19(+t),_):o},_.padAngle=function(t){return arguments.length?(h="function"==typeof t?t:n19(+t),_):h},_}k12.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}};var R11=X11(N12);function z13(t){this._curve=t}function X11(t){function n(n){return new z13(t(n))}return n._curve=t,n}function Y11(t){var n=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?n(X11(t)):n()._curve},t}function B13(){return Y11(A16().curve(R11))}function q12(){var t=M18().curve(R11),n=t.curve,i=t.lineX0,e=t.lineX1,s=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return Y11(i())},delete t.lineX0,t.lineEndAngle=function(){return Y11(e())},delete t.lineX1,t.lineInnerRadius=function(){return Y11(s())},delete t.lineY0,t.lineOuterRadius=function(){return Y11(o())},delete t.lineY1,t.curve=function(t){return arguments.length?n(X11(t)):n()._curve},t}function D11(t,n){return[(n=+n)*Math.cos(t-=Math.PI/2),n*Math.sin(t)]}z13.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,n){this._curve.point(n*Math.sin(t),n*-Math.cos(t))}};class I12{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n)}this._x0=t,this._y0=n}}class j14{constructor(t){this._context=t}lineStart(){this._point=0}lineEnd(){}point(t,n){if(t=+t,n=+n,0===this._point)this._point=1;else{const i=D11(this._x0,this._y0),e=D11(this._x0,this._y0=(this._y0+n)/2),s=D11(t,this._y0),o=D11(t,n);this._context.moveTo(...i),this._context.bezierCurveTo(...e,...s,...o)}this._x0=t,this._y0=n}}function L11(t){return new I12(t,!0)}function W11(t){return new I12(t,!1)}function V12(t){return new j14(t)}function $12(t){return t.source}function F11(t){return t.target}function G12(t){let i=$12,e=F11,s=S12,o=E13,h=null,_=null,r=y16(a);function a(){let n;const a=b14.call(arguments),l=i.apply(this,a),c=e.apply(this,a);if(null==h&&(_=t(n=r())),_.lineStart(),a[0]=l,_.point(+s.apply(this,a),+o.apply(this,a)),a[0]=c,_.point(+s.apply(this,a),+o.apply(this,a)),_.lineEnd(),n)return _=null,n+""||null}return a.source=function(t){return arguments.length?(i=t,a):i},a.target=function(t){return arguments.length?(e=t,a):e},a.x=function(t){return arguments.length?(s="function"==typeof t?t:n19(+t),a):s},a.y=function(t){return arguments.length?(o="function"==typeof t?t:n19(+t),a):o},a.context=function(n){return arguments.length?(null==n?h=_=null:_=t(h=n),a):h},a}function H12(){return G12(L11)}function J12(){return G12(W11)}function K13(){const t=G12(V12);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}const Q11=r21(3);var U10={draw(t,n){const i=.59436*r21(n+h26(n/28,.75)),e=i/2,s=e*Q11;t.moveTo(0,i),t.lineTo(0,-i),t.moveTo(-s,-e),t.lineTo(s,e),t.moveTo(-s,e),t.lineTo(s,-e)}},Z11={draw(t,n){const i=r21(n/l25);t.moveTo(i,0),t.arc(0,0,i,0,u22)}},tt5={draw(t,n){const i=r21(n/5)/2;t.moveTo(-3*i,-i),t.lineTo(-i,-i),t.lineTo(-i,-3*i),t.lineTo(i,-3*i),t.lineTo(i,-i),t.lineTo(3*i,-i),t.lineTo(3*i,i),t.lineTo(i,i),t.lineTo(i,3*i),t.lineTo(-i,3*i),t.lineTo(-i,i),t.lineTo(-3*i,i),t.closePath()}};const nt5=r21(1/3),it4=2*nt5;var et5={draw(t,n){const i=r21(n/it4),e=i*nt5;t.moveTo(0,-i),t.lineTo(e,0),t.lineTo(0,i),t.lineTo(-e,0),t.closePath()}},st4={draw(t,n){const i=.62625*r21(n);t.moveTo(0,-i),t.lineTo(i,0),t.lineTo(0,i),t.lineTo(-i,0),t.closePath()}},ot4={draw(t,n){const i=.87559*r21(n-h26(n/7,2));t.moveTo(-i,0),t.lineTo(i,0),t.moveTo(0,i),t.lineTo(0,-i)}},ht4={draw(t,n){const i=r21(n),e=-i/2;t.rect(e,e,i,i)}},_t3={draw(t,n){const i=.4431*r21(n);t.moveTo(i,i),t.lineTo(i,-i),t.lineTo(-i,-i),t.lineTo(-i,i),t.closePath()}};const rt5=_13(l25/10)/_13(7*l25/10),at4=_13(u22/10)*rt5,lt4=-s26(u22/10)*rt5;var ct4={draw(t,n){const i=r21(.8908130915292852*n),e=at4*i,o=lt4*i;t.moveTo(0,-i),t.lineTo(e,o);for(let n=1;n<5;++n){const h=u22*n/5,r=s26(h),a=_13(h);t.lineTo(a*i,-r*i),t.lineTo(r*e-a*o,a*e+r*o)}t.closePath()}};const ut4=r21(3);var ft3={draw(t,n){const i=-r21(n/(3*ut4));t.moveTo(0,2*i),t.lineTo(-ut4*i,-i),t.lineTo(ut4*i,-i),t.closePath()}};const yt3=r21(3);var xt2={draw(t,n){const i=.6824*r21(n),e=i/2,s=i*yt3/2;t.moveTo(0,-i),t.lineTo(s,e),t.lineTo(-s,e),t.closePath()}};const pt4=-.5,vt3=r21(3)/2,dt3=1/r21(12),Tt2=3*(dt3/2+1);var gt4={draw(t,n){const i=r21(n/Tt2),e=i/2,s=i*dt3,o=e,h=i*dt3+i,_=-o,a=h;t.moveTo(e,s),t.lineTo(o,h),t.lineTo(_,a),t.lineTo(pt4*e-vt3*s,vt3*e+pt4*s),t.lineTo(pt4*o-vt3*h,vt3*o+pt4*h),t.lineTo(pt4*_-vt3*a,vt3*_+pt4*a),t.lineTo(pt4*e+vt3*s,pt4*s-vt3*e),t.lineTo(pt4*o+vt3*h,pt4*h-vt3*o),t.lineTo(pt4*_+vt3*a,pt4*a-vt3*_),t.closePath()}},mt3={draw(t,n){const i=.6189*r21(n-h26(n/6,1.7));t.moveTo(-i,-i),t.lineTo(i,i),t.moveTo(-i,i),t.lineTo(i,-i)}};const bt2=[Z11,tt5,et5,ht4,ct4,ft3,gt4],wt3=[Z11,ot4,mt3,xt2,U10,_t3,st4];function kt2(t,i){let e=null,s=y16(o);function o(){let n;if(e||(e=n=s()),t.apply(this,arguments).draw(e,+i.apply(this,arguments)),n)return e=null,n+""||null}return t="function"==typeof t?t:n19(t||Z11),i="function"==typeof i?i:n19(void 0===i?64:+i),o.type=function(i){return arguments.length?(t="function"==typeof i?i:n19(i),o):t},o.size=function(t){return arguments.length?(i="function"==typeof t?t:n19(+t),o):i},o.context=function(t){return arguments.length?(e=null==t?null:t,o):e},o}function Nt2(){}function St2(t,n,i){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+i)/6)}function Et2(t){this._context=t}function At2(t){return new Et2(t)}function Mt2(t){this._context=t}function Pt2(t){return new Mt2(t)}function Ct2(t){this._context=t}function Ot2(t){return new Ct2(t)}function Rt2(t,n){this._basis=new Et2(t),this._beta=n}Et2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:St2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:St2(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},Mt2.prototype={areaStart:Nt2,areaEnd:Nt2,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:St2(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},Ct2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var i=(this._x0+4*this._x1+t)/6,e=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(i,e):this._context.moveTo(i,e);break;case 3:this._point=4;default:St2(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},Rt2.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,i=t.length-1;if(i>0)for(var e,s=t[0],o=n[0],h=t[i]-s,_=n[i]-o,r=-1;++r<=i;)e=r/i,this._basis.point(this._beta*t[r]+(1-this._beta)*(s+e*h),this._beta*n[r]+(1-this._beta)*(o+e*_));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};var zt2=function t(n){function i(t){return 1===n?new Et2(t):new Rt2(t,n)}return i.beta=function(n){return t(+n)},i}(.85);function Xt1(t,n,i){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-i),t._x2,t._y2)}function Yt1(t,n){this._context=t,this._k=(1-n)/6}Yt1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Xt1(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:Xt1(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Bt2=function t(n){function i(t){return new Yt1(t,n)}return i.tension=function(n){return t(+n)},i}(0);function qt2(t,n){this._context=t,this._k=(1-n)/6}qt2.prototype={areaStart:Nt2,areaEnd:Nt2,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Xt1(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Dt2=function t(n){function i(t){return new qt2(t,n)}return i.tension=function(n){return t(+n)},i}(0);function It2(t,n){this._context=t,this._k=(1-n)/6}It2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Xt1(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var jt2=function t(n){function i(t){return new It2(t,n)}return i.tension=function(n){return t(+n)},i}(0);function Lt2(t,n,i){var e=t._x1,s=t._y1,o=t._x2,h=t._y2;if(t._l01_a>1e-12){var _=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,r=3*t._l01_a*(t._l01_a+t._l12_a);e=(e*_-t._x0*t._l12_2a+t._x2*t._l01_2a)/r,s=(s*_-t._y0*t._l12_2a+t._y2*t._l01_2a)/r}if(t._l23_a>1e-12){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*l+t._x1*t._l23_2a-n*t._l12_2a)/c,h=(h*l+t._y1*t._l23_2a-i*t._l12_2a)/c}t._context.bezierCurveTo(e,s,o,h,t._x2,t._y2)}function Wt2(t,n){this._context=t,this._alpha=n}Wt2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var i=this._x2-t,e=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+e*e,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:Lt2(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Vt2=function t(n){function i(t){return n?new Wt2(t,n):new Yt1(t,0)}return i.alpha=function(n){return t(+n)},i}(.5);function $t1(t,n){this._context=t,this._alpha=n}$t1.prototype={areaStart:Nt2,areaEnd:Nt2,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){if(t=+t,n=+n,this._point){var i=this._x2-t,e=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+e*e,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Lt2(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Ft2=function t(n){function i(t){return n?new $t1(t,n):new qt2(t,0)}return i.alpha=function(n){return t(+n)},i}(.5);function Gt2(t,n){this._context=t,this._alpha=n}Gt2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var i=this._x2-t,e=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+e*e,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Lt2(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Ht2=function t(n){function i(t){return n?new Gt2(t,n):new It2(t,0)}return i.alpha=function(n){return t(+n)},i}(.5);function Jt2(t){this._context=t}function Kt2(t){return new Jt2(t)}function Qt2(t){return t<0?-1:1}function Ut2(t,n,i){var e=t._x1-t._x0,s=n-t._x1,o=(t._y1-t._y0)/(e||s<0&&-0),h=(i-t._y1)/(s||e<0&&-0),_=(o*s+h*e)/(e+s);return(Qt2(o)+Qt2(h))*Math.min(Math.abs(o),Math.abs(h),.5*Math.abs(_))||0}function Zt1(t,n){var i=t._x1-t._x0;return i?(3*(t._y1-t._y0)/i-n)/2:n}function tn4(t,n,i){var e=t._x0,s=t._y0,o=t._x1,h=t._y1,_=(o-e)/3;t._context.bezierCurveTo(e+_,s+_*n,o-_,h-_*i,o,h)}function nn4(t){this._context=t}function en4(t){this._context=new sn3(t)}function sn3(t){this._context=t}function on4(t){return new nn4(t)}function hn4(t){return new en4(t)}function _n1(t){this._context=t}function rn4(t){var n,i,e=t.length-1,s=new Array(e),o=new Array(e),h=new Array(e);for(s[0]=0,o[0]=2,h[0]=t[0]+2*t[1],n=1;n<e-1;++n)s[n]=1,o[n]=4,h[n]=4*t[n]+2*t[n+1];for(s[e-1]=2,o[e-1]=7,h[e-1]=8*t[e-1]+t[e],n=1;n<e;++n)i=s[n]/o[n-1],o[n]-=i,h[n]-=i*h[n-1];for(s[e-1]=h[e-1]/o[e-1],n=e-2;n>=0;--n)s[n]=(h[n]-s[n+1])/o[n];for(o[e-1]=(t[e]+s[e-1])/2,n=0;n<e-1;++n)o[n]=2*t[n+1]-s[n+1];return[s,o]}function an4(t){return new _n1(t)}function ln4(t,n){this._context=t,this._t=n}function cn4(t){return new ln4(t,.5)}function un4(t){return new ln4(t,0)}function fn4(t){return new ln4(t,1)}function yn3(t,n){if((s=t.length)>1)for(var i,e,s,o=1,h=t[n[0]],_=h.length;o<s;++o)for(e=h,h=t[n[o]],i=0;i<_;++i)h[i][1]+=h[i][0]=isNaN(e[i][1])?e[i][0]:e[i][1]}function xn3(t){for(var n=t.length,i=new Array(n);--n>=0;)i[n]=n;return i}function pn3(t,n){return t[n]}function vn3(t){const n=[];return n.key=t,n}function dn3(){var t=n19([]),i=xn3,e=yn3,s=pn3;function o(n){var o,h,_=Array.from(t.apply(this,arguments),vn3),r=_.length,a=-1;for(const t of n)for(o=0,++a;o<r;++o)(_[o][a]=[0,+s(t,_[o].key,a,n)]).data=t;for(o=0,h=w18(i(_));o<r;++o)_[h[o]].index=o;return e(_,h),_}return o.keys=function(i){return arguments.length?(t="function"==typeof i?i:n19(Array.from(i)),o):t},o.value=function(t){return arguments.length?(s="function"==typeof t?t:n19(+t),o):s},o.order=function(t){return arguments.length?(i=null==t?xn3:"function"==typeof t?t:n19(Array.from(t)),o):i},o.offset=function(t){return arguments.length?(e=null==t?yn3:t,o):e},o}function Tn3(t,n){if((e=t.length)>0){for(var i,e,s,o=0,h=t[0].length;o<h;++o){for(s=i=0;i<e;++i)s+=t[i][o][1]||0;if(s)for(i=0;i<e;++i)t[i][o][1]/=s}yn3(t,n)}}function gn3(t,n){if((_=t.length)>0)for(var i,e,s,o,h,_,r=0,a=t[n[0]].length;r<a;++r)for(o=h=0,i=0;i<_;++i)(s=(e=t[n[i]][r])[1]-e[0])>0?(e[0]=o,e[1]=o+=s):s<0?(e[1]=h,e[0]=h+=s):(e[0]=0,e[1]=s)}function mn3(t,n){if((i=t.length)>0){for(var i,e=0,s=t[n[0]],o=s.length;e<o;++e){for(var h=0,_=0;h<i;++h)_+=t[h][e][1]||0;s[e][1]+=s[e][0]=-_/2}yn3(t,n)}}function bn3(t,n){if((s=t.length)>0&&(e=(i=t[n[0]]).length)>0){for(var i,e,s,o=0,h=1;h<e;++h){for(var _=0,r=0,a=0;_<s;++_){for(var l=t[n[_]],c=l[h][1]||0,u=(c-(l[h-1][1]||0))/2,f=0;f<_;++f){var y=t[n[f]];u+=(y[h][1]||0)-(y[h-1][1]||0)}r+=c,a+=u*c}i[h-1][1]+=i[h-1][0]=o,r&&(o-=a/r)}i[h-1][1]+=i[h-1][0]=o,yn3(t,n)}}function wn3(t){var n=t.map(kn2);return xn3(t).sort((function(t,i){return n[t]-n[i]}))}function kn2(t){for(var n,i=-1,e=0,s=t.length,o=-1/0;++i<s;)(n=+t[i][1])>o&&(o=n,e=i);return e}function Nn2(t){var n=t.map(Sn3);return xn3(t).sort((function(t,i){return n[t]-n[i]}))}function Sn3(t){for(var n,i=0,e=-1,s=t.length;++e<s;)(n=+t[e][1])&&(i+=n);return i}function En2(t){return Nn2(t).reverse()}function An3(t){var n,i,e=t.length,s=t.map(Sn3),o=wn3(t),h=0,_=0,r=[],a=[];for(n=0;n<e;++n)i=o[n],h<_?(h+=s[i],r.push(i)):(_+=s[i],a.push(i));return a.reverse().concat(r)}function Mn3(t){return xn3(t).reverse()}Jt2.prototype={areaStart:Nt2,areaEnd:Nt2,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}},nn4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:tn4(this,this._t0,Zt1(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var i=NaN;if(n=+n,(t=+t)!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,tn4(this,Zt1(this,i=Ut2(this,t,n)),i);break;default:tn4(this,this._t0,i=Ut2(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=i}}},(en4.prototype=Object.create(nn4.prototype)).point=function(t,n){nn4.prototype.point.call(this,n,t)},sn3.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,i,e,s,o){this._context.bezierCurveTo(n,t,e,i,o,s)}},_n1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,i=t.length;if(i)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),2===i)this._context.lineTo(t[1],n[1]);else for(var e=rn4(t),s=rn4(n),o=0,h=1;h<i;++o,++h)this._context.bezierCurveTo(e[0][o],s[0][o],e[1][o],s[1][o],t[h],n[h]);(this._line||0!==this._line&&1===i)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}},ln4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var i=this._x*(1-this._t)+t*this._t;this._context.lineTo(i,this._y),this._context.lineTo(i,n)}}this._x=t,this._y=n}};export{m21 as arc,M18 as area,q12 as areaRadial,At2 as curveBasis,Pt2 as curveBasisClosed,Ot2 as curveBasisOpen,L11 as curveBumpX,W11 as curveBumpY,zt2 as curveBundle,Bt2 as curveCardinal,Dt2 as curveCardinalClosed,jt2 as curveCardinalOpen,Vt2 as curveCatmullRom,Ft2 as curveCatmullRomClosed,Ht2 as curveCatmullRomOpen,N12 as curveLinear,Kt2 as curveLinearClosed,on4 as curveMonotoneX,hn4 as curveMonotoneY,an4 as curveNatural,cn4 as curveStep,fn4 as curveStepAfter,un4 as curveStepBefore,A16 as line,B13 as lineRadial,G12 as link,H12 as linkHorizontal,K13 as linkRadial,J12 as linkVertical,O11 as pie,D11 as pointRadial,q12 as radialArea,B13 as radialLine,dn3 as stack,gn3 as stackOffsetDiverging,Tn3 as stackOffsetExpand,yn3 as stackOffsetNone,mn3 as stackOffsetSilhouette,bn3 as stackOffsetWiggle,wn3 as stackOrderAppearance,Nn2 as stackOrderAscending,En2 as stackOrderDescending,An3 as stackOrderInsideOut,xn3 as stackOrderNone,Mn3 as stackOrderReverse,kt2 as symbol,U10 as symbolAsterisk,Z11 as symbolCircle,tt5 as symbolCross,et5 as symbolDiamond,st4 as symbolDiamond2,ot4 as symbolPlus,ht4 as symbolSquare,_t3 as symbolSquare2,ct4 as symbolStar,mt3 as symbolTimes,ft3 as symbolTriangle,xt2 as symbolTriangle2,gt4 as symbolWye,mt3 as symbolX,bt2 as symbols,bt2 as symbolsFill,wt3 as symbolsStroke};var h27=t=>()=>t;function s27(t,{sourceEvent:n,target:e,transform:o,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:i}})}function a21(t,n,e){this.k=t,this.x=n,this.y=e}a21.prototype={constructor:a21,scale:function(t){return 1===t?this:new a21(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new a21(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var c22=new a21(1,0,0);function l26(t){for(;!t.__zoom;)if(!(t=t.parentNode))return c22;return t.__zoom}function f19(t){t.stopImmediatePropagation()}function m22(t){t.preventDefault(),t.stopImmediatePropagation()}function p21(t){return!(t.ctrlKey&&"wheel"!==t.type||t.button)}function v20(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function y17(){return this.__zoom||c22}function d21(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function z14(){return navigator.maxTouchPoints||"ontouchstart"in this}function _14(t,n,e){var o=t.invertX(n[0][0])-e[0][0],i=t.invertX(n[1][0])-e[1][0],r=t.invertY(n[0][1])-e[0][1],u=t.invertY(n[1][1])-e[1][1];return t.translate(i>o?(o+i)/2:Math.min(0,o)||Math.max(0,i),u>r?(r+u)/2:Math.min(0,r)||Math.max(0,u))}function g22(){var l,g,k,x=p21,w=v20,b=_14,T=d21,M=z14,E=[0,1/0],Y=[[-1/0,-1/0],[1/0,1/0]],X=250,V=T3,B=r3("start","zoom","end"),D=500,P=150,I=0,K=10;function S(t){t.property("__zoom",y17).on("wheel.zoom",O,{passive:!1}).on("mousedown.zoom",W).on("dblclick.zoom",Z).filter(M).on("touchstart.zoom",C).on("touchmove.zoom",F).on("touchend.zoom touchcancel.zoom",J).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function q(t,n){return(n=Math.max(E[0],Math.min(E[1],n)))===t.k?t:new a21(n,t.x,t.y)}function G(t,n,e){var o=n[0]-e[0]*t.k,i=n[1]-e[1]*t.k;return o===t.x&&i===t.y?t:new a21(t.k,o,i)}function j(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function A(t,n,e,o){t.on("start.zoom",(function(){H(this,arguments).event(o).start()})).on("interrupt.zoom end.zoom",(function(){H(this,arguments).event(o).end()})).tween("zoom",(function(){var t=this,i=arguments,r=H(t,i).event(o),u=w.apply(t,i),h=null==e?j(u):"function"==typeof e?e.apply(t,i):e,s=Math.max(u[1][0]-u[0][0],u[1][1]-u[0][1]),c=t.__zoom,l="function"==typeof n?n.apply(t,i):n,f=V(c.invert(h).concat(s/c.k),l.invert(h).concat(s/l.k));return function(t){if(1===t)t=l;else{var n=f(t),e=s/n[2];t=new a21(e,h[0]-n[0]*e,h[1]-n[1]*e)}r.zoom(null,t)}}))}function H(t,n,e){return!e&&t.__zooming||new N(t,n)}function N(t,n){this.that=t,this.args=n,this.active=0,this.sourceEvent=null,this.extent=w.apply(t,n),this.taps=0}function O(t,...n){if(x.apply(this,arguments)){var e=H(this,n).event(t),o=this.__zoom,i=Math.max(E[0],Math.min(E[1],o.k*Math.pow(2,T.apply(this,arguments)))),h=mt1(t);if(e.wheel)e.mouse[0][0]===h[0]&&e.mouse[0][1]===h[1]||(e.mouse[1]=o.invert(e.mouse[0]=h)),clearTimeout(e.wheel);else{if(o.k===i)return;e.mouse=[h,o.invert(h)],z5(this),e.start()}m22(t),e.wheel=setTimeout((function(){e.wheel=null,e.end()}),P),e.zoom("mouse",b(G(q(o,i),e.mouse[0],e.mouse[1]),e.extent,Y))}}function W(t,...o){if(!k&&x.apply(this,arguments)){var h=t.currentTarget,s=H(this,o,!0).event(t),a=ht1(t.view).on("mousemove.zoom",(function(t){if(m22(t),!s.moved){var n=t.clientX-l,e=t.clientY-p;s.moved=n*n+e*e>I}s.event(t).zoom("mouse",b(G(s.that.__zoom,s.mouse[0]=mt1(t,h),s.mouse[1]),s.extent,Y))}),!0).on("mouseup.zoom",(function(t){a.on("mousemove.zoom mouseup.zoom",null),c3(t.view,s.moved),m22(t),s.event(t).end()}),!0),c=mt1(t,h),l=t.clientX,p=t.clientY;u4(t.view),f19(t),s.mouse=[c,this.__zoom.invert(c)],z5(this),s.start()}}function Z(t,...n){if(x.apply(this,arguments)){var e=this.__zoom,o=mt1(t.changedTouches?t.changedTouches[0]:t,this),u=e.invert(o),h=e.k*(t.shiftKey?.5:2),s=b(G(q(e,h),o,u),w.apply(this,n),Y);m22(t),X>0?ht1(this).transition().duration(X).call(A,s,o,t):ht1(this).call(S.transform,s,o,t)}}function C(t,...n){if(x.apply(this,arguments)){var e,o,i,h,s=t.touches,a=s.length,c=H(this,n,t.changedTouches.length===a).event(t);for(f19(t),o=0;o<a;++o)i=s[o],h=[h=mt1(i,this),this.__zoom.invert(h),i.identifier],c.touch0?c.touch1||c.touch0[2]===h[2]||(c.touch1=h,c.taps=0):(c.touch0=h,e=!0,c.taps=1+!!l);l&&(l=clearTimeout(l)),e&&(c.taps<2&&(g=h[0],l=setTimeout((function(){l=null}),D)),z5(this),c.start())}}function F(t,...n){if(this.__zooming){var e,o,i,u,h=H(this,n).event(t),s=t.changedTouches,a=s.length;for(m22(t),e=0;e<a;++e)o=s[e],i=mt1(o,this),h.touch0&&h.touch0[2]===o.identifier?h.touch0[0]=i:h.touch1&&h.touch1[2]===o.identifier&&(h.touch1[0]=i);if(o=h.that.__zoom,h.touch1){var c=h.touch0[0],l=h.touch0[1],f=h.touch1[0],p=h.touch1[1],v=(v=f[0]-c[0])*v+(v=f[1]-c[1])*v,y=(y=p[0]-l[0])*y+(y=p[1]-l[1])*y;o=q(o,Math.sqrt(v/y)),i=[(c[0]+f[0])/2,(c[1]+f[1])/2],u=[(l[0]+p[0])/2,(l[1]+p[1])/2]}else{if(!h.touch0)return;i=h.touch0[0],u=h.touch0[1]}h.zoom("touch",b(G(o,i,u),h.extent,Y))}}function J(t,...n){if(this.__zooming){var e,o,u=H(this,n).event(t),h=t.changedTouches,s=h.length;for(f19(t),k&&clearTimeout(k),k=setTimeout((function(){k=null}),D),e=0;e<s;++e)o=h[e],u.touch0&&u.touch0[2]===o.identifier?delete u.touch0:u.touch1&&u.touch1[2]===o.identifier&&delete u.touch1;if(u.touch1&&!u.touch0&&(u.touch0=u.touch1,delete u.touch1),u.touch0)u.touch0[1]=this.__zoom.invert(u.touch0[0]);else if(u.end(),2===u.taps&&(o=mt1(o,this),Math.hypot(g[0]-o[0],g[1]-o[1])<K)){var a=ht1(this).on("dblclick.zoom");a&&a.apply(this,arguments)}}}return S.transform=function(t,n,e,o){var i=t.selection?t.selection():t;i.property("__zoom",y17),t!==i?A(t,n,e,o):i.interrupt().each((function(){H(this,arguments).event(o).start().zoom(null,"function"==typeof n?n.apply(this,arguments):n).end()}))},S.scaleBy=function(t,n,e,o){S.scaleTo(t,(function(){return this.__zoom.k*("function"==typeof n?n.apply(this,arguments):n)}),e,o)},S.scaleTo=function(t,n,e,o){S.transform(t,(function(){var t=w.apply(this,arguments),o=this.__zoom,i=null==e?j(t):"function"==typeof e?e.apply(this,arguments):e,r=o.invert(i),u="function"==typeof n?n.apply(this,arguments):n;return b(G(q(o,u),i,r),t,Y)}),e,o)},S.translateBy=function(t,n,e,o){S.transform(t,(function(){return b(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof e?e.apply(this,arguments):e),w.apply(this,arguments),Y)}),null,o)},S.translateTo=function(t,n,e,o,i){S.transform(t,(function(){var t=w.apply(this,arguments),i=this.__zoom,r=null==o?j(t):"function"==typeof o?o.apply(this,arguments):o;return b(c22.translate(r[0],r[1]).scale(i.k).translate("function"==typeof n?-n.apply(this,arguments):-n,"function"==typeof e?-e.apply(this,arguments):-e),t,Y)}),o,i)},N.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,n){return this.mouse&&"mouse"!==t&&(this.mouse[1]=n.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=n.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=n.invert(this.touch1[0])),this.that.__zoom=n,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var n=ht1(this.that).datum();B.call(t,this.that,new s27(t,{sourceEvent:this.sourceEvent,target:S,type:t,transform:this.that.__zoom,dispatch:B}),n)}},S.wheelDelta=function(t){return arguments.length?(T="function"==typeof t?t:h27(+t),S):T},S.filter=function(t){return arguments.length?(x="function"==typeof t?t:h27(!!t),S):x},S.touchable=function(t){return arguments.length?(M="function"==typeof t?t:h27(!!t),S):M},S.extent=function(t){return arguments.length?(w="function"==typeof t?t:h27([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),S):w},S.scaleExtent=function(t){return arguments.length?(E[0]=+t[0],E[1]=+t[1],S):[E[0],E[1]]},S.translateExtent=function(t){return arguments.length?(Y[0][0]=+t[0][0],Y[1][0]=+t[1][0],Y[0][1]=+t[0][1],Y[1][1]=+t[1][1],S):[[Y[0][0],Y[0][1]],[Y[1][0],Y[1][1]]]},S.constrain=function(t){return arguments.length?(b=t,S):b},S.duration=function(t){return arguments.length?(X=+t,S):X},S.interpolate=function(t){return arguments.length?(V=t,S):V},S.on=function(){var t=B.on.apply(B,arguments);return t===B?S:t},S.clickDistance=function(t){return arguments.length?(I=(t=+t)*t,S):Math.sqrt(I)},S.tapDistance=function(t){return arguments.length?(K=+t,S):K},S}l26.prototype=a21.prototype;export{a21 as ZoomTransform,g22 as zoom,c22 as zoomIdentity,l26 as zoomTransform};const __default=null;export{__default as default};
